

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="å¾é˜³é˜³">
  <meta name="keywords" content="é˜³é˜³çš„åšå®¢">
  
    <meta name="description" content="å‰è¨€åªä¼š Vue çš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™ React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ å…¥èŒç¬¬ä¸€å¤©ï¼Œåå…¬äº¤æ¥åˆ°æŒ‡å®šæŠ¥é“å¤„ï¼Œæ‹¿å·æ’é˜Ÿå‡†å¤‡åŠç†å…¥èŒï¼Œæ‹¿è£…å¤‡å»å·¥ä½ï¼Œè®¤è¯† Leader è·Ÿ Mentorï¼Œè‡ªå·±çœ‹æ–‡æ¡£è£…ç¯å¢ƒï¼Œå±è‚¡éƒ½æ²¡åçƒ­ï¼Œmentor å°±é—®æˆ‘æŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆï¼Œæˆ‘è¯´ Vueï¼Œä»–åˆé—® React ç”¨è¿‡å—ï¼Ÿæˆ‘å¼€å§‹æœ‰ä¸ç¥¥çš„é¢„æ„Ÿï¼Œä»–åæ‰‹å°±ç”©äº†ä¸ªé“¾æ¥ï¼Œå«æˆ‘è£…å®Œç¯å¢ƒçœ‹ä¸€ä¸‹ï¼Œè£…å®Œ vscodeã€nodeã€gitï¼Œæˆ‘ç›´">
<meta property="og:type" content="article">
<meta property="og:title" content="åªä¼šVueçš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ">
<meta property="og:url" content="https://yangyangu.github.io/2024/06/07/%E5%8F%AA%E4%BC%9A%E4%B8%8A%E7%8F%AD%E7%AC%AC%E4%B8%80%E5%A4%A9%E5%B0%B1%E8%A6%81%E6%88%91%E5%86%99ReactTS%E6%98%AF%E7%A7%8D/index.html">
<meta property="og:site_name" content="YangyangU">
<meta property="og:description" content="å‰è¨€åªä¼š Vue çš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™ React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ å…¥èŒç¬¬ä¸€å¤©ï¼Œåå…¬äº¤æ¥åˆ°æŒ‡å®šæŠ¥é“å¤„ï¼Œæ‹¿å·æ’é˜Ÿå‡†å¤‡åŠç†å…¥èŒï¼Œæ‹¿è£…å¤‡å»å·¥ä½ï¼Œè®¤è¯† Leader è·Ÿ Mentorï¼Œè‡ªå·±çœ‹æ–‡æ¡£è£…ç¯å¢ƒï¼Œå±è‚¡éƒ½æ²¡åçƒ­ï¼Œmentor å°±é—®æˆ‘æŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆï¼Œæˆ‘è¯´ Vueï¼Œä»–åˆé—® React ç”¨è¿‡å—ï¼Ÿæˆ‘å¼€å§‹æœ‰ä¸ç¥¥çš„é¢„æ„Ÿï¼Œä»–åæ‰‹å°±ç”©äº†ä¸ªé“¾æ¥ï¼Œå«æˆ‘è£…å®Œç¯å¢ƒçœ‹ä¸€ä¸‹ï¼Œè£…å®Œ vscodeã€nodeã€gitï¼Œæˆ‘ç›´">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yangyangu.github.io/img/react.png">
<meta property="article:published_time" content="2024-06-07T08:00:00.000Z">
<meta property="article:modified_time" content="2024-09-09T15:30:52.201Z">
<meta property="article:author" content="å¾é˜³é˜³">
<meta property="article:tag" content="React">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://yangyangu.github.io/img/react.png">
  
  
  
  <title>åªä¼šVueçš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ - YangyangU</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"yangyangu.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>YangyangU</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="åªä¼šVueçš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-06-07 16:00" pubdate>
          2024å¹´6æœˆ7æ—¥ ä¸‹åˆ
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4.2k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          35 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">åªä¼šVueçš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><strong>åªä¼š Vue çš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™ React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ</strong></p>
<p>å…¥èŒç¬¬ä¸€å¤©ï¼Œåå…¬äº¤æ¥åˆ°æŒ‡å®šæŠ¥é“å¤„ï¼Œæ‹¿å·æ’é˜Ÿå‡†å¤‡åŠç†å…¥èŒï¼Œæ‹¿è£…å¤‡å»å·¥ä½ï¼Œè®¤è¯† Leader è·Ÿ Mentorï¼Œè‡ªå·±çœ‹æ–‡æ¡£è£…ç¯å¢ƒï¼Œå±è‚¡éƒ½æ²¡åçƒ­ï¼Œmentor å°±é—®æˆ‘æŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆï¼Œæˆ‘è¯´ Vueï¼Œä»–åˆé—® React ç”¨è¿‡å—ï¼Ÿæˆ‘å¼€å§‹æœ‰ä¸ç¥¥çš„é¢„æ„Ÿï¼Œä»–åæ‰‹å°±ç”©äº†ä¸ªé“¾æ¥ï¼Œå«æˆ‘è£…å®Œç¯å¢ƒçœ‹ä¸€ä¸‹ï¼Œè£…å®Œ vscodeã€nodeã€gitï¼Œæˆ‘ç›´æ¥ pull ä¸‹æ¥ï¼Œçœ‹äº†ä¸€ä¸‹ç›®å½• pnpm å’±ä¹Ÿæ²¡ç”¨è¿‡å•Šï¼Œæ€ä¹ˆå…¨æ˜¯ ts ï¼Œç”¨çš„ Viteï¼Ÿè¿™ä¸ªæˆ‘ç†Ÿï¼Œç›´æ¥å®‰è£…ä¾èµ– run devï¼</p>
<p>é¦–å…ˆï¼Œè¿™ä¸ªé¡¹ç›®å°±ä¸¤ä¸ªé¡µé¢ï¼Œæˆ‘ç¬¬ä¸€æ„Ÿè§‰æ˜¯ï¼šæ€ä¹ˆçœ‹ç€è¿˜ä¸å¦‚æˆ‘è‡ªå·±çš„é¡¹ç›®å¥½çœ‹ ğŸ˜¢ï¼Œä½†æ˜¯å½“æˆ‘æ‰“å¼€ä»£ç ï¼Œè„‘å­ç›´æ¥ç¼ºæ°§ï¼Œå•¥éƒ½çœ‹ä¸æ‡‚ã€‚ä»€ä¹ˆ type ä»€ä¹ˆ useMemoï¼Œé—»æ‰€æœªé—»ã€‚</p>
<p>èµ¶ç´§å¼€å§‹è‡ªå­¦ React + TS â€¦â€¦</p>
<p>æ™šä¸Šå›åˆ°å‡ºç§Ÿå±‹ï¼Œçªç„¶æœ‰ä¸€ç§å‹åŠ›æ²¹ç„¶è€Œç”Ÿï¼Œæˆ‘æ˜¯ä¸æ˜¯å¤ªè ¢äº†ï¼ŒMentor ä¼šä¸ä¼šçœ‹ä¸èµ·æˆ‘ â€¦â€¦</p>
<p>çœ‹äº†ä¸€å¤©è§†é¢‘ï¼Œæ–‡ç« ï¼Œæˆ‘è§‰å¾—æˆ‘å·²ç»äº†è§£äº† React ï¼Œè‡³å°‘ä¸ä¼šçœ‹ä¸æ‡‚äº†ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« å°±æ¥æ€»ç»“ä¸€ä¸‹æˆ‘æ˜¯å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹çš„ï¼Œåˆ†äº«ä¸€ä¸‹æˆ‘å¿ƒå¾—ä½“ä¼šã€‚å¦‚æœä½ ä¹Ÿè·Ÿæˆ‘ä¸€æ ·ï¼Œä¸‹é¢æˆ‘åˆ†äº«ä¸€äº›æˆ‘çš„ç»éªŒï¼Œå¸Œæœ›èƒ½å¤Ÿå¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚</p>
<h2 id="é¡¹ç›®åˆ›å»º"><a href="#é¡¹ç›®åˆ›å»º" class="headerlink" title="é¡¹ç›®åˆ›å»º"></a>é¡¹ç›®åˆ›å»º</h2><p>åœ¨ Vue ä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„è„šæ‰‹æ¶æ˜¯ Vue-CLI ä»¥åŠå°¤å¤§å¤§æ¨èçš„ Vite ï¼›åœ¨ React ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ creat-react-appï¼ˆCRAï¼‰åˆ›å»ºé¡¹ç›®ï¼Œå½“ç„¶ Vite åŒæ ·ä¹Ÿæ”¯æŒæˆ‘ä»¬åˆ›å»º React é¡¹ç›®ã€‚</p>
<h3 id="ä½¿ç”¨-CRA"><a href="#ä½¿ç”¨-CRA" class="headerlink" title="ä½¿ç”¨ CRA"></a>ä½¿ç”¨ CRA</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npx create-react-app my-react-app<br></code></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨-Vite"><a href="#ä½¿ç”¨-Vite" class="headerlink" title="ä½¿ç”¨ Vite"></a>ä½¿ç”¨ Vite</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn create vite my-react-app --template react<br></code></pre></td></tr></table></figure>

<h3 id="å…¶ä»–åˆ›å»ºæ–¹å¼"><a href="#å…¶ä»–åˆ›å»ºæ–¹å¼" class="headerlink" title="å…¶ä»–åˆ›å»ºæ–¹å¼"></a>å…¶ä»–åˆ›å»ºæ–¹å¼</h3><p>å‚è€ƒ <a target="_blank" rel="noopener" href="https://zh-hans.react.dev/learn/start-a-new-react-project">React | å¯åŠ¨ä¸€ä¸ªæ–°é¡¹ç›®</a></p>
<h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>å€¼å¾—æ³¨æ„çš„æ˜¯ä½¿ç”¨ cra åˆ›å»ºçš„é¡¹ç›®ä¸­ï¼ŒJS æ–‡ä»¶å°±æ˜¯æ­£å¸¸çš„<code>.js</code>åç¼€ï¼Œè€Œ Vite åˆ›å»ºé¡¹ç›®çš„æ–‡ä»¶åç¼€æ˜¯<code>.jsx</code>ã€‚</p>
<ul>
<li>Vite åŸºäº ESModuleï¼Œå®ƒæä¾›äº†å¯¹ JSX çš„åŸç”Ÿæ”¯æŒï¼Œä½¿ç”¨<code>.jsx</code>ä½œä¸ºæºæ–‡ä»¶çš„åç¼€ï¼Œä»¥ä¾¿æˆ‘ä»¬ç›´æ¥ç¼–å†™ JSX è¯­æ³•çš„ React ç»„ä»¶ã€‚</li>
<li>CRA é»˜è®¤æ²¡æœ‰å¯ç”¨ JSX é¢„å¤„ç†å™¨ï¼Œè€Œæ˜¯é€šè¿‡ Babel å’Œ Webpack ç­‰å·¥å…·æ¥å¤„ç† JSX è¯­æ³•ã€‚</li>
</ul>
<p>åœ¨å†™æ³•ä¸Šæ²¡æœ‰åŒºåˆ«ï¼Œä¸ç”¨è€ƒè™‘å¤ªå¤šã€‚</p>
<h2 id="é¡¹ç›®ç›®å½•"><a href="#é¡¹ç›®ç›®å½•" class="headerlink" title="é¡¹ç›®ç›®å½•"></a>é¡¹ç›®ç›®å½•</h2><p>ä»¥ä¸‹æ˜¯ Vite åˆ›å»ºçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/af365556f65d4b75ba8b3656d79b105f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=195&h=338&s=14100&e=png&b=252526" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>å…¶ä¸­å…¥å£æ–‡ä»¶æ˜¯<code>main.jsx</code>ï¼Œå¦‚æœæ˜¯ CRA åˆ›å»ºçš„é¡¹ç›®åˆ™æ˜¯<code>index.js</code>ã€‚</p>
<p>è®©æˆ‘æ¥çœ‹çœ‹å®ƒçš„ä»£ç ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom/client&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.jsx&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./index.css&quot;</span>;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>)).<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br>);<br></code></pre></td></tr></table></figure>

<p>è¿™è·Ÿ Vue çš„<code>main.js</code>çš„ä½œç”¨ä¸€æ ·ï¼Œå°†<code>App</code>æ ¹ç»„ä»¶æŒ‚è½½åˆ°<code>id</code>ä¸º<code>root</code>çš„ DOM å…ƒç´ ä¸Šã€‚</p>
<p><strong>æˆ‘çŒœä½ å¯èƒ½ä¼šæƒ³ï¼Œè¿™é‡Œå¼•å…¥ä¸€ä¸ª React åˆå¼•å…¥ä¸€ä¸ª ReactDom å¹²å˜›ï¼Œå®ƒä»¬ä¸¤ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>æˆ‘ä»¬åœ¨<code>package.json</code>ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªä¾èµ–ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0df638d47a88442e8f77dabd6a41a1c0~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=292&h=115&s=5549&e=png&b=1e1e1e" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p>è¿™æ˜¯å› ä¸º React ä½œè€…å°† React æºç æ‹†æˆäº†ä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li><p><code>React</code> åº“æä¾›æ„å»ºç”¨æˆ·ç•Œé¢çš„å„ç§ API å’Œç»„ä»¶ï¼Œæ¯”å¦‚åˆ›å»º React ç»„ä»¶ã€å¤„ç†ç»„ä»¶ç”Ÿå‘½å‘¨æœŸã€çŠ¶æ€ç®¡ç†ã€äº‹ä»¶å¤„ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
</li>
<li><p><code>ReactDom</code> åº“æ˜¯ React çš„ DOM æ¸²æŸ“å™¨ï¼Œåªè´Ÿè´£å°† React ç»„ä»¶æ¸²æŸ“åˆ°æµè§ˆå™¨çš„ DOM ä¸­ï¼Œæä¾›ä¸€äº›ç®¡ç†ç»„ä»¶çš„æ›´æ–°ã€æŒ‚è½½å’Œå¸è½½ç­‰æ“ä½œçš„ APIã€‚</p>
</li>
</ul>
<h2 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h2><p>æˆ‘ä»¬<code>return</code>å‡ºæ¥çš„ JSX æ¨¡æ¿ï¼Œå¦‚æœè¦æ¢è¡Œçš„è¯ï¼Œéœ€è¦ç”¨<code>()</code>åŒ…è£¹ä¸€ä¸‹ï¼Œç„¶åè¿™ä¸ª JSX è¡¨è¾¾å¼å¿…é¡»å…·æœ‰ä¸€ä¸ªçˆ¶å…ƒç´ ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯ä¸‹é¢è¿™ç§å†™æ³•ä¼šæŠ¥é”™ï¼ŒJSX è¡¨è¾¾å¼è§„å®šäº†æœ€å¤–å±‚åªèƒ½æœ‰ä¸€ä¸ªçˆ¶å…ƒç´ ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨æœ€å¤–é¢å¥—ä¸€ä¸ª<code>div</code>æˆ–è€…ç©ºæ ‡ç­¾<code>&lt;&gt;&lt;/&gt;</code>ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">return</span> (<br>  &#123;<span class="hljs-comment">/*æŠ¥é”™*/</span>&#125;<br>  &lt;div&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  &lt;/div&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä½ å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>)<br><br><span class="hljs-keyword">return</span> (<br>  <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä½ å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/&gt;</span></span><br>)<br></code></pre></td></tr></table></figure>

<p>åœ¨ JSX è¡¨è¾¾å¼å…è®¸æˆ‘ä»¬åªèƒ½åœ¨<code>&#123;&#125;</code>ä¸­å†™ JS ä»£ç </p>
<h2 id="åˆ›å»ºç»„ä»¶"><a href="#åˆ›å»ºç»„ä»¶" class="headerlink" title="åˆ›å»ºç»„ä»¶"></a>åˆ›å»ºç»„ä»¶</h2><p>åœ¨ React ä¸­æœ‰ä¸¤ç§åˆ›å»ºç»„ä»¶çš„æ–¹å¼ï¼Œå‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶ï¼Œç±»ç»„ä»¶æ˜¯ã€‚ç°åœ¨ç•Œå†…å¤§éƒ¨åˆ†éƒ½ä½¿ç”¨å‡½æ•°ç»„ä»¶ï¼Œå‡½æ•°ç»„ä»¶ç›¸æ¯”äºç±»ç»„ä»¶ï¼Œæ€§èƒ½æ›´å¥½ï¼ŒReact 18 è™½ç„¶è¿˜æ”¯æŒç±»ç»„ä»¶ï¼Œä½†æ˜¯æ›´æ¨èä½¿ç”¨å‡½æ•°ç»„ä»¶ã€‚</p>
<h3 id="å‡½æ•°ç»„ä»¶"><a href="#å‡½æ•°ç»„ä»¶" class="headerlink" title="å‡½æ•°ç»„ä»¶"></a>å‡½æ•°ç»„ä»¶</h3><h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><p>å‡½æ•°ç»„ä»¶æ˜¯é€šè¿‡å‡½æ•°æ¥å®šä¹‰çš„ï¼Œå‡½æ•°çš„è¿”å›å€¼æ˜¯ JSX æ¨¡æ¿ï¼Œå¯ä»¥ä½¿ç”¨ <code>function</code> å…³é”®å­—æˆ–ç®­å¤´å‡½æ•°å®šä¹‰ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello Function Component<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d21eaa75fc34fcaac6638fb39e28de6~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=454&h=157&s=8769&e=png&b=ffffff" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="çŠ¶æ€ç®¡ç†"><a href="#çŠ¶æ€ç®¡ç†" class="headerlink" title="çŠ¶æ€ç®¡ç†"></a>çŠ¶æ€ç®¡ç†</h4><p>å‡½æ•°ç»„ä»¶é€šè¿‡ React æä¾›çš„ Hooks å‡½æ•°ï¼ˆå®˜æ–¹æä¾›çš„ä¸€èˆ¬ä»¥<code>use</code>å¼€å¤´çš„ APIï¼‰ï¼Œæ¯”å¦‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨<code>useState</code> é’©å­æ¥ç®¡ç†çŠ¶æ€ã€‚</p>
<p><code>useState</code> è¿”å›ä¸€ä¸ªç”±ä¸¤ä¸ªå€¼ç»„æˆçš„æ•°ç»„ï¼š</p>
<ol>
<li>å½“å‰çš„<code>state</code>ï¼Œåˆå§‹å€¼ä¸ºä¼ é€’ç»™<code>useState</code>çš„å‚æ•°ã€‚</li>
<li><code>set</code>Â  å‡½æ•°ï¼Œå®ƒå¯ä»¥è®©ä½ å°†<code>state</code>æ›´æ–°ä¸ºä¸åŒçš„å€¼å¹¶è§¦å‘é‡æ–°æ¸²æŸ“ã€‚</li>
</ol>
<p>ğŸ™‹â€ ä¸¾ä¸ªä¾‹å­ ğŸŒ°ï¼Œè¿™é‡Œæˆ‘ä»¬å®ç°ä¸€ä¸ªè®¡æ•°å™¨ï¼Œç‚¹å‡»<code>count</code>è‡ªå¢<code>1</code>ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">let</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);<br>  &#125;;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;handleClick&#125;</span>&gt;</span>&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬è§£æ„å¾—åˆ°<code>count</code>è·Ÿå®ƒçš„<code>set</code>æ–¹æ³•ï¼Œæˆ‘ä»¬æ¯æ¬¡ç‚¹å‡»è§¦å‘<code>handleClick</code>å‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨é€šè¿‡<code>set</code>æ–¹æ³•ä¿®æ”¹çŠ¶æ€å¹¶é‡æ–°æ¸²æŸ“ã€‚</p>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/91d93bd5149b47a095840c25ac501823~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=538&h=272&s=25427&e=gif&f=27&b=fefefe" srcset="/img/loading.gif" lazyload alt="GIF 2024-6-6 17-23-01.gif" width="50%" />

<h4 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><p>React 16.8 ä¹‹å‰ï¼Œå‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä½†æ˜¯ä» React 16.8 å¼€å§‹ï¼Œå¯ä»¥ä½¿ç”¨<code>useEffect</code> è¿™ä¸ª Hook å‡½æ•°æ¥æ‰§è¡Œç±»ä¼¼ç”Ÿå‘½å‘¨æœŸçš„é€»è¾‘ï¼Œç”¨äºæ›¿ä»£ <code>componentDidMount</code>ã€<code>componentDidUpdate</code> å’Œ <code>componentWillUnmount</code>è¿™äº›æ–¹æ³•ã€‚</p>
<h5 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h5><p><code>useEffect</code>æ˜¯ React ä¸­ç”¨äºæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œçš„ Hookï¼Œå¹¶ä¸”å…·æœ‰ç±»ä¼¼äºç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„åŠŸèƒ½ã€‚</p>
<p><code>useEffect</code> æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šå‰¯ä½œç”¨å‡½æ•°å’Œä¾èµ–æ•°ç»„ã€‚</p>
<ol>
<li><strong>å‰¯ä½œç”¨å‡½æ•°</strong>ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œã€‚</li>
<li><strong>ä¾èµ–æ•°ç»„</strong>ï¼šç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†å‰¯ä½œç”¨å‡½æ•°ä¸­æ‰€ä¾èµ–çš„å˜é‡ã€‚å¦‚æœçœç•¥è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå‰¯ä½œç”¨å‡½æ•°ä¼šåœ¨æ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶éƒ½æ‰§è¡Œï¼Œå¯ä»¥å……å½“<code>componentDidUpdate</code>è¿™ä¸ªç”Ÿå‘½å‘¨æœŸï¼›å¦‚æœä¼ å…¥ç©ºæ•°ç»„ <code>[]</code>ï¼Œåˆ™å‰¯ä½œç”¨å‡½æ•°åªä¼šåœ¨ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œï¼Œç›¸å½“äº <code>componentDidMount</code>ï¼›å¦‚æœä¾èµ–æ•°ç»„ä¸­åŒ…å«äº†æŸäº›å˜é‡ï¼Œåˆ™åªæœ‰è¿™äº›å˜é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå‰¯ä½œç”¨å‡½æ•°æ‰ä¼šé‡æ–°æ‰§è¡Œã€‚å¦‚æœæˆ‘ä»¬åœ¨å…¶ä¸­<code>return</code>ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°†ä¼šåœ¨ç»„ä»¶å¸è½½æ—¶é™¤éï¼Œç›¸å½“äº<code>componentWillUnmount</code>ã€‚</li>
</ol>
<p>æˆ‘æ€»ç»“äº†ä¸€ä¸‹å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œæ—¶æœºä¸ä¾èµ–é¡¹çš„å…³ç³»å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>ä¾èµ–é¡¹</th>
<th>å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œæ—¶æœº</th>
</tr>
</thead>
<tbody><tr>
<td>æ²¡æœ‰ä¾èµ–é¡¹</td>
<td>ç»„ä»¶åˆå§‹æ¸²æŸ“ + ç»„ä»¶æ›´æ–°æ—¶æ‰§è¡Œ</td>
</tr>
<tr>
<td>ç©ºæ•°ç»„ä¾èµ–é¡¹</td>
<td>åªåœ¨åˆæ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡</td>
</tr>
<tr>
<td>æ·»åŠ ç‰¹å®šä¾èµ–é¡¹</td>
<td>ç»„ä»¶åˆå§‹æ¸²æŸ“ + ç‰¹å®šä¾èµ–é¡¹å˜åŒ–æ—¶æ‰§è¡Œ</td>
</tr>
</tbody></table>
<p>ä¸¾ä¾‹è¯´æ˜ ğŸŒ°ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//æ²¡æœ‰ä¾èµ–é¡¹æ•°ç»„</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»„ä»¶æ›´æ–°&quot;</span>);<br>  &#125;);<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»äº† &#123;count&#125; æ¬¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰ä¾èµ–é¡¹æ•°ç»„ï¼Œåˆ·æ–°é¡µé¢ï¼Œç»„ä»¶åˆæ¬¡æ¸²æŸ“æ‰“å°ï¼ˆæ‰“å°ä¸¤æ¬¡æ˜¯å› ä¸º React æºç è‡ªå·±æ‰§è¡Œäº†ä¸€æ¬¡ï¼Œåº”è¯¥æ˜¯è·Ÿä¸¥æ ¼æ¨¡å¼æœ‰å…³ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸ç”¨æ·±ç©¶ï¼‰ï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½ä¼šæ‰“å°ï¼Œå¯ä»¥å……å½“<code>componentDidUpdate</code>ç”Ÿå‘½å‘¨æœŸã€‚</p>
<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ed443e30b2e45629bbe20cf6064e775~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=696&h=468&s=52307&e=gif&f=21&b=fefefe" srcset="/img/loading.gif" lazyload alt="GIF 2024-6-6 19-32-33.gif" width="50%" />

<hr>
<p>ä¾èµ–é¡¹ä¸ºç©ºæ•°ç»„å‘¢ï¼Ÿ</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//ä¾èµ–é¡¹ä¸ºç©ºæ•°ç»„å‘¢ï¼Ÿ</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»„ä»¶æŒ‚è½½&quot;</span>);<br>  &#125;, []);<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»äº† &#123;count&#125; æ¬¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬çš„ä¾èµ–é¡¹æ•°ç»„ä¸ºç©ºï¼Œåˆ·æ–°é¡µé¢ï¼Œåªåœ¨åˆæ¬¡æ¸²æŸ“æ—¶æ‰“å°ï¼Œç‚¹å‡»ä¸æ‰“å°ï¼Œå¯ä»¥å……å½“<code>componentDidMount</code>ç”Ÿå‘½å‘¨æœŸã€‚</p>
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/746f9e4ce2254e8cbe223791767e28c3~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=696&h=468&s=68204&e=gif&f=28&b=fefefe" srcset="/img/loading.gif" lazyload alt="GIF 2024-6-6 19-33-14.gif" width="50%" />

<hr>
<p>ä¾èµ–é¡¹æ•°ç»„ä¸ä¸ºç©ºå‘¢ï¼Ÿ</p>
<p>å¾ˆå®¹æ˜“è”æƒ³åˆ°ï¼Œå¦‚æœæ•°ç»„é‡Œé¢æœ‰ä¼šå‘ç”Ÿæ”¹å˜çš„é¡¹ï¼Œåˆ™ä¼šè§¦å‘å‰¯ä½œç”¨å‡½æ•°ï¼Œå¦åˆ™ä¸ä¼šè§¦å‘ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚</p>
<hr>
<p>æ¥çœ‹æœ€åä¸€ä¸ªï¼Œåœ¨å‰¯ä½œç”¨å‡½æ•°ä¸­<code>return</code>ä¸€ä¸ªå‡½æ•°ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»„ä»¶æ›´æ–°&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»„ä»¶å¸è½½&quot;</span>);<br>    &#125;;<br>  &#125;, [count]);<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»äº† &#123;count&#125; æ¬¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬<code>return</code>ä¸€ä¸ªå‡½æ•°æ‰“å°å¸è½½ï¼Œè¡¨ç¤ºç»„ä»¶å¸è½½æ—¶ä¼šæ‰§è¡Œçš„æ“ä½œã€‚æˆ‘ä»¬é€šå¸¸åœ¨è¿™é‡Œè¿›è¡Œç»„ä»¶å¸è½½æ—¶çš„æ‰§è¡Œçš„æ“ä½œï¼Œå¯ä»¥å……å½“<code>componentWillUnmount</code>ç”Ÿå‘½å‘¨æœŸã€‚</p>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84e36073cdfe4f27b271fd53ded4a814~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=800&h=567&s=51838&e=gif&f=22&b=fefefe" srcset="/img/loading.gif" lazyload alt="GIF 2024-6-6 19-51-19.gif" width="50%" />

<p>ä¸€ä¸ªå¾ˆå¸¸è§çš„ä¾‹å­ ğŸŒ°ï¼š</p>
<p>æˆ‘ä»¬é€šå¸¸åœ¨ç»„ä»¶å¸è½½æ—¶æ¸…é™¤ä¸€äº›å‰¯ä½œç”¨å‡½æ•°ï¼Œå¦‚å®šæ—¶å™¨</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);<br>    &#125;, <span class="hljs-number">1000</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-built_in">clearInterval</span>(timer);<br>    &#125;;<br>  &#125;, [count]);<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»äº† &#123;count&#125; æ¬¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬ä¸åŠæ—¶æ¸…é™¤å®šæ—¶å™¨ï¼Œä¼šå¯¼è‡´èµ„æºæµªè´¹ã€‚</p>
<p>è€Œä¸”ç”±äº <code>setCount</code> æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œå®ƒä¸ä¼šç«‹å³æ›´æ–° <code>count</code> çš„å€¼ï¼Œè€Œæ˜¯åœ¨ä¸‹ä¸€æ¬¡æ¸²æŸ“æ—¶æ‰ä¼šç”Ÿæ•ˆã€‚å› æ­¤ï¼Œå³ä½¿ä½ è®¾ç½®äº†å®šæ—¶å™¨æ¯éš”ä¸€ç§’é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œä½† <code>count</code> çš„å€¼å¹¶ä¸ä¼šæ¯ç§’å¢åŠ ä¸€æ¬¡ã€‚ç›¸åï¼Œå½“å®šæ—¶å™¨è§¦å‘æ—¶ï¼Œ<code>count</code> çš„å€¼ä»ç„¶æ˜¯ä¸Šä¸€æ¬¡æ¸²æŸ“æ—¶çš„å€¼ã€‚ç­‰ä¸€æ®µæ—¶é—´åå°±ä¼šçœ‹åˆ°ä¸‹é¢è¿™ä¸ªæƒ…å†µï¼š</p>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29923fc094d648879b1013c2c93e0f02~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=572&h=324&s=27666&e=gif&f=18&b=fefefe" srcset="/img/loading.gif" lazyload alt="GIF 2024-6-6 20-06-38.gif" width="50%" />

<h3 id="ç±»ç»„ä»¶"><a href="#ç±»ç»„ä»¶" class="headerlink" title="ç±»ç»„ä»¶"></a>ç±»ç»„ä»¶</h3><p>ğŸ˜<strong>å¯ä»¥ä¸ç”¨ä½†ä¸èƒ½ä¸å­¦ï¼</strong></p>
<h4 id="è¯­æ³•-1"><a href="#è¯­æ³•-1" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><p>ç±»ç»„ä»¶é€šè¿‡ç»§æ‰¿ <code>React.Component</code> æˆ–å…¶å­ç±»æ¥åˆ›å»ºï¼Œç±»ç»„ä»¶ä¸­æœ‰ä¸€ä¸ª <code>render()</code> æ–¹æ³•ï¼Œç”¨æ¥è¿”å› JSX è¯­æ³•ã€‚</p>
<p>æ‹¿ä»£ç è¯´äº‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello Class Component<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<p>ç±»ç»„ä»¶çš„è¯­æ³•å°±æ˜¯å£°æ˜ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»ç»§æ‰¿<code>React.Component</code> æˆ–è€…å­ç±»ï¼Œ<code>render()</code>æ–¹æ³•è¿”å› JSX æ¨¡æ¿ã€‚ç„¶åå°†æˆ‘ä»¬çš„ App ç»„ä»¶æŒ‚è½½åˆ°é¡µé¢ä¸Šå°±å¯ä»¥äº†ã€‚</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04452e5cd75c48dc9e2c1f9cd6f7d1a2~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=458&h=167&s=9583&e=png&b=ffffff" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="çŠ¶æ€ç®¡ç†-1"><a href="#çŠ¶æ€ç®¡ç†-1" class="headerlink" title="çŠ¶æ€ç®¡ç†"></a>çŠ¶æ€ç®¡ç†</h4><p>ç±»ç»„ä»¶æ‹¥æœ‰å†…éƒ¨çŠ¶æ€<code>state</code>ï¼Œé€šè¿‡ <code>this.state</code> æ¥è®¿é—®ç»„ä»¶çš„çŠ¶æ€ï¼Œä½¿ç”¨ <code>setState()</code>æ–¹æ³•æ¥æ›´æ–°çŠ¶æ€ï¼Œè§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span>&#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>=&#123;<br>      <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span><br>    &#125;<br>  &#125;<br>  <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"></span>)&#123;<br><br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>this.setState(&#123;name:&quot;æå››&quot;&#125;)&gt;&#123;this.state.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ç»‘å®š<code>onClick</code>äº‹ä»¶ï¼Œå½“ç‚¹å‡»æ—¶ä¿®æ”¹<code>name</code>çš„çŠ¶æ€ã€‚</p>
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f05edfaefa984490ba816a83af73136d~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=467&h=332&s=17537&e=gif&f=5&b=fefefe" srcset="/img/loading.gif" lazyload alt="GIF 2024-6-6 17-04-25.gif" width="30%" />

<h4 id="ç”Ÿå‘½å‘¨æœŸ-1"><a href="#ç”Ÿå‘½å‘¨æœŸ-1" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><p>ç±»ç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå¸¸è§çš„æœ‰<code>componentDidMount</code>ã€<code>componentDidUpdate</code>ã€&#x3D;è·Ÿ<code>componentWillUnmount</code>ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº” Vue3 ä¸­çš„ <code>onMounted</code>ã€<code>onUpdated</code> è·Ÿ <code>onBeforeUnmount</code>ã€‚</p>
<p>è¿™ä¸ªç½‘ç«™å¯ä»¥å¾ˆæ¸…æ¥šçœ‹åˆ° React çš„ç”Ÿå‘½å‘¨æœŸï¼Œ<a target="_blank" rel="noopener" href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">React ç”Ÿå‘½å‘¨æœŸ</a>ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šèµ˜è¿°ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1c876571316c4779bf0528aca4cef60a~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1180&h=424&s=40943&e=png&b=fbf8f7" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h3 id="ç»„ä»¶é€šè®¯"><a href="#ç»„ä»¶é€šè®¯" class="headerlink" title="ç»„ä»¶é€šè®¯"></a>ç»„ä»¶é€šè®¯</h3><p>åœ¨ Vue ä¸­ç»„ä»¶ä¼ å€¼ä¸€èˆ¬é€šè¿‡<code>props &amp; emit</code>ã€<code>provide &amp; inject</code>ä»¥åŠ Vue2 ä¸­çš„<code>EventBus</code>ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨çŠ¶æ€ç®¡ç†å·¥å…·<code>Vuex</code>æˆ–<code>Pinia</code>ï¼ŒReact å…¶å®å¤§å·®ä¸å·®ï¼ŒåŒæ ·ä¹Ÿæœ‰è‡ªå·±çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚</p>
<h4 id="çˆ¶ä¼ å­"><a href="#çˆ¶ä¼ å­" class="headerlink" title="çˆ¶ä¼ å­"></a>çˆ¶ä¼ å­</h4><p>çˆ¶ç»„ä»¶é€šè¿‡<code>props</code>ä¼ é€’ä»»æ„çš„æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€æ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ç”šè‡³æ˜¯ JSXï¼Œå­ç»„ä»¶é€šè¿‡<code>props</code>å‚æ•°æ¥æ”¶ã€‚</p>
<p>ğŸ™‹â€â™€ï¸ğŸŒ°ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Son</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;props.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;props.age&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;props.cb()&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;props.child&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Father</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Son</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">name</span>=<span class="hljs-string">&#123;</span>&quot;<span class="hljs-attr">é˜³é˜³ç¾Š</span>&quot;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">age</span>=<span class="hljs-string">&#123;20&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">cb</span>=<span class="hljs-string">&#123;function</span> <span class="hljs-attr">cb</span>() &#123;</span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">console.log</span>(<span class="hljs-attr">123</span>);</span></span><br><span class="hljs-tag"><span class="language-xml">      &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">child</span>=<span class="hljs-string">&#123;</span>&lt;<span class="hljs-attr">span</span>&gt;</span>i am jsx<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>&#125;</span><br><span class="language-xml">    &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br>  );<br>&#125;;<br></code></pre></td></tr></table></figure>

<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f7493c702384844b509095a3f5f3972~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=789&h=415&s=27428&e=png&b=fefefe" srcset="/img/loading.gif" lazyload alt="image.png" width="50%" />

<p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå­ç»„ä»¶åªèƒ½è¯»å–<code>props</code>ä¸­çš„æ•°æ®ï¼Œä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œçˆ¶ç»„ä»¶çš„æ•°æ®åªèƒ½ç”±çˆ¶ç»„ä»¶ä¿®æ”¹ï¼Œæˆ–è€…é€šè¿‡çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å‡½æ•°è¿›è¡Œä¿®æ”¹ã€‚å¦‚æœåœ¨å­æ ‡ç­¾ä¸­åµŒå¥—å…ƒç´ ï¼Œå¯ä»¥åœ¨å­ç»„ä»¶çš„<code>props.children</code>ä¸­è·å–ã€‚</p>
<h4 id="å­ä¼ çˆ¶"><a href="#å­ä¼ çˆ¶" class="headerlink" title="å­ä¼ çˆ¶"></a>å­ä¼ çˆ¶</h4><p>å­ä¼ çˆ¶é€šè¿‡æœ€åŸå§‹çš„å›è°ƒå‡½æ•°æ–¹å¼ï¼Œçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ ä¸€ä¸ªå‡½æ•°ï¼Œå­ç»„ä»¶è°ƒç”¨è¿™ä¸ªå‡½æ•°ç„¶åä¼ å…¥å®å‚ï¼Œåœ¨å‡½æ•°å†…éƒ¨ç”¨<code>set</code>æ–¹æ³•ä¿®æ”¹çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚</p>
<p>ğŸ™‹â€â™€ï¸ğŸŒ°ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Son</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> props.cb(&quot;å°ç¾Š&quot;)&#125;&gt;ç‚¹å‡»ä¼ é€’<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Father</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">let</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>);<br>  <span class="hljs-keyword">let</span> <span class="hljs-title function_">cb</span> = (<span class="hljs-params">name</span>) =&gt; &#123;<br>    <span class="hljs-title function_">setName</span>(name);<br>  &#125;;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Son</span> <span class="hljs-attr">cb</span>=<span class="hljs-string">&#123;cb&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">      &#123;name&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br></code></pre></td></tr></table></figure>

<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44f24ffe31fa4c8b84aada591cf2e534~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=549&h=284&s=14214&e=gif&f=3&b=fdfdfd" srcset="/img/loading.gif" lazyload alt="GIF 2024-6-7 11-20-34.gif" width="50%" />

<p>âš ï¸ è¿™é‡Œéœ€è¦æ³¨æ„ï¼š<code>onClick</code>äº‹ä»¶å¤„ç†ç¨‹åºæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå†™æˆ<code>onClick=&#123;() =&gt; props.cb(&#39;å°ç¾Š&#39;)&#125;</code>æ—¶ï¼Œå®é™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå½“ç‚¹å‡»æŒ‰é’®æ—¶ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œç„¶åè°ƒç”¨<code>props.cb(&#39;å°ç¾Š&#39;)</code>ï¼Œå¦‚æœç›´æ¥å†™æˆ<code>onClick=&#123;props.cb(&#39;å°ç¾Š&#39;)&#125;</code>ï¼Œåœ¨æ¸²æŸ“æ—¶å°±ä¼šç«‹å³è°ƒç”¨<code>props.cb(&#39;å°ç¾Š&#39;)</code>ï¼Œè€Œä¸æ˜¯åœ¨ç‚¹å‡»æ—¶è°ƒç”¨ã€‚</p>
<h4 id="å…„å¼Ÿç»„ä»¶é€šä¿¡"><a href="#å…„å¼Ÿç»„ä»¶é€šä¿¡" class="headerlink" title="å…„å¼Ÿç»„ä»¶é€šä¿¡"></a>å…„å¼Ÿç»„ä»¶é€šä¿¡</h4><p>å…„å¼Ÿç»„ä»¶é€šä¿¡è´¯ç”¨æ‰‹æ®µå°±æ˜¯<strong>çŠ¶æ€æå‡</strong>ï¼Œè¯´ç™½è¯å°±æ˜¯å°†æ•°æ®éƒ½äº¤ç»™çˆ¶ç»„ä»¶ï¼Œç„¶åçˆ¶ç»„ä»¶ä½œä¸ºä¸­é—´å•†æ´¾å‘ç»™å¤§å®¶ã€‚</p>
<p>ğŸ™‹â€â™€ï¸ğŸŒ°ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Son1</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      å­ç»„ä»¶1-</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> props.cb(&quot;å°ç¾Š&quot;)&#125;&gt;ä¼ ç»™å­ç»„ä»¶2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Son2</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å­ç»„ä»¶2-&#123;props.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Father</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">let</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;Son2&quot;</span>);<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">cb</span> = (<span class="hljs-params">newName</span>) =&gt; &#123;<br>    <span class="hljs-title function_">setName</span>(newName);<br>  &#125;;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Son1</span> <span class="hljs-attr">cb</span>=<span class="hljs-string">&#123;cb&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Son2</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#123;name&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son2</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œå­<code>ç»„ä»¶1</code>é€šè¿‡è§¦å‘çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‡½æ•°ï¼Œå¹¶ä¼ é€’å‚æ•°ï¼Œç„¶åçˆ¶ç»„ä»¶æ¥æ”¶åˆ°å‚æ•°ä¿®æ”¹æ•°æ®æºï¼Œä¼ é€’ç»™<code>ç»„ä»¶2</code>ã€‚è¿™æ ·å°±å®Œæˆäº†å…„å¼Ÿç»„ä»¶é€šä¿¡ã€‚</p>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3eb12209347142b59eea4b418c9507dc~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=547&h=273&s=24884&e=gif&f=6&b=fdfcfc" srcset="/img/loading.gif" lazyload alt="GIF 2024-6-7 11-16-47.gif" width="50%" />

<h4 id="å¤¸å±‚ç»„ä»¶é€šè®¯"><a href="#å¤¸å±‚ç»„ä»¶é€šè®¯" class="headerlink" title="å¤¸å±‚ç»„ä»¶é€šè®¯"></a>å¤¸å±‚ç»„ä»¶é€šè®¯</h4><p>æ€è·¯æ˜¯å°†ä¸¤ä¸ªç»„ä»¶æ”¾åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­å°±èƒ½å®ç°æ•°æ®å…±äº«ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>ä½¿ç”¨<code>createContext</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå°†ç»„ä»¶<code>Provider</code>ï¼Œ<code>Consumer</code>æŠ›å‡º</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">Provider</span>, <span class="hljs-title class_">Consumer</span> &#125; = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createContext</span>();<br><br><span class="hljs-keyword">export</span> &#123; <span class="hljs-title class_">Provider</span>, <span class="hljs-title class_">Consumer</span> &#125;;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li><p>åœ¨é¡¶å±‚ç»„ä»¶(App)ä¸­é€šè¿‡<code>Provider</code>ç»„ä»¶æä¾›æ•°æ®</p>
</li>
<li><p>åœ¨åº•å±‚ç»„ä»¶(B)ä¸­é€šè¿‡<code>Consumer</code>ç»„ä»¶è·å–å¯¹åº”æ•°æ®</p>
</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Provider</span>, <span class="hljs-title class_">Consumer</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./provider&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">ComponentB</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Consumer</span>&gt;</span></span><br><span class="language-xml">      &#123;(value) =&gt; (</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åº•å±‚ç»„ä»¶â€”â€”&#123;value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      )&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Consumer</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> value = <span class="hljs-string">&quot;é¡¶å±‚ç»„ä»¶çš„æ•°æ®&quot;</span>;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;value&#125;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>é¡¶å±‚ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">ComponentB</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span></span><br>  );<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c488273f449470fbfbdccb8e36b31d3~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=813&h=369&s=31043&e=png&b=fefefe" srcset="/img/loading.gif" lazyload alt="image.png" width="50%" />

<h4 id="çŠ¶æ€ç®¡ç†å·¥å…·"><a href="#çŠ¶æ€ç®¡ç†å·¥å…·" class="headerlink" title="çŠ¶æ€ç®¡ç†å·¥å…·"></a>çŠ¶æ€ç®¡ç†å·¥å…·</h4><p>å¸¸è§çš„ React çŠ¶æ€ç®¡ç†å·¥å…·æœ‰ Reduxã€Mobxã€Rcoil ç­‰ç­‰ï¼Œå¦‚æœæœ‰æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œæˆ‘å¯ä»¥å•ç‹¬å‡ºä¸€ç¯‡æ–‡ç« è¯¦ç»†èŠèŠã€‚æœ¬ç¯‡å°±ä¸å±•å¼€èŠäº†ã€‚</p>
<h2 id="è‡ªå®šä¹‰-Hooks"><a href="#è‡ªå®šä¹‰-Hooks" class="headerlink" title="è‡ªå®šä¹‰ Hooks"></a>è‡ªå®šä¹‰ Hooks</h2><p>é™¤äº† React å®˜æ–¹æä¾›çš„ä¸€äº› Hooks ä¹‹å¤–ï¼Œè¿˜å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰è‡ªå·±çš„ Hooksï¼Œæˆ‘ä»¬éœ€è¦éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p>
<ol>
<li>å£°æ˜ä»¥<code>use</code>å¼€å¤´çš„å‡½æ•°</li>
<li>åœ¨å‡½æ•°ä½“å†…å°è£…å¯å¤ç”¨çš„é€»è¾‘</li>
<li>æŠŠç»„ä»¶ä¸­ä½¿ç”¨åˆ°çš„çŠ¶æ€<code>return</code>å‡ºå»</li>
<li>åœ¨å“ªé‡Œç”¨åˆ°å°±åœ¨é‡Œé¢æ‰§è¡Œè§£æ„</li>
</ol>
<p>ğŸ™‹â€â™€ï¸ğŸŒ°ï¼š</p>
<p>æˆ‘ä»¬è®¾è®¡æ¥è®¾è®¡ä¸€ä¸ªå¼€å…³ Hooksï¼Œä½œç”¨æ˜¯å¯¹å€¼å–åï¼Œä»è€Œæ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºéšè—ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">useToggle</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [value, setValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggle</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-title function_">setValue</span>(!value);<br>  &#125;;<br>  <span class="hljs-keyword">return</span> [value, toggle];<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [value, toggle] = <span class="hljs-title function_">useToggle</span>();<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;value ? &quot;å¼€&quot; : &quot;å…³&quot;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;toggle&#125;</span>&gt;</span>æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬å€ŸåŠ©<code>useState</code>è¿›è¡Œå°è£…ï¼Œå°†éœ€è¦ç”¨åˆ°çš„å˜é‡è¿›è¡ŒæŠ›å‡ºï¼Œåœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹è§£æ„æ‹¿åˆ°ï¼Œé€šè¿‡ä¸‰ç›®è¿ç®—ç¬¦è¿›è¡Œæ˜¾ç¤ºéšè—ã€‚</p>
<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c183f8bc55224444b6bb384239bd4c08~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=613&h=369&s=29609&e=gif&f=12&b=fefefe" srcset="/img/loading.gif" lazyload alt="GIF 2024-6-7 12-07-46.gif" width="50%" />

<h3 id="Hooks-ä½¿ç”¨è§„åˆ™"><a href="#Hooks-ä½¿ç”¨è§„åˆ™" class="headerlink" title="Hooks ä½¿ç”¨è§„åˆ™"></a>Hooks ä½¿ç”¨è§„åˆ™</h3><p>Hooks å¹¶ä¸æ˜¯ç„¶ååœºæ™¯ä¸‹éƒ½èƒ½ç”¨ï¼Œåƒæ¯”å¦‚åœ¨ç±»ç»„ä»¶ä¸­æ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨ Hooks çš„ï¼Œé™¤éä½¿ç”¨é«˜é˜¶å‡½æ•°è¿›è¡ŒåŒ…è£…ï¼Œä»¥åŠå…¶ä»–è®¸å¤šè§„åˆ™ï¼š</p>
<ul>
<li>ä¸èƒ½åœ¨ç»„ä»¶å¤–éƒ¨ä½¿ç”¨</li>
<li>ä¸èƒ½åœ¨åˆ¤æ–­è¯­å¥ä¸­ä½¿ç”¨</li>
</ul>
<p>è¯¦è§ <a target="_blank" rel="noopener" href="https://zh-hans.react.dev/reference/rules/rules-of-hooks">React ä¸­æ–‡å®˜ç½‘</a></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿˜æ˜¯é‚£å¥è¯ï¼Œä¸ç®¡æ˜¯ Vue è·Ÿ React éƒ½æœ‰è‡ªå·±çš„ä¼˜ç¼ºç‚¹ï¼Œæˆ‘ä»¬ä¸èƒ½æ–­è¨€è¯´å“ªä¸ªå¥½å“ªä¸ªå·®ï¼Œåœ¨æˆ‘çœ‹æ¥ Vue æ›´é€‚åˆç¬¬ä¸€æ¬¡æ¥è§¦å‰ç«¯æ¡†æ¶çš„å°ç™½ï¼Œå®ƒå°è£…äº†è®¸å¤š APIï¼Œå¯¹æ–°æ‰‹å¾ˆå‹å¥½ï¼Œä¸Šæ‰‹å³ç”¨ï¼›è€Œ React ç›¸å¯¹å¤æ‚ï¼Œæ›´è€ƒéªŒå¼€å‘è€…çš„æ€ç»´ï¼Œå¯¹äºä¸€äº›å¤æ‚éœ€æ±‚èƒ½å¤Ÿè‡ªå®šä¹‰è¿›è¡Œå°è£…ï¼Œæ›´æ¥è¿‘åŸç”Ÿ JS å¼€å‘ã€‚å¤§å®¶æŒ‰éœ€æ±‚é€‰æ‹©å°±å¥½ã€‚</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a target="_blank" rel="noopener" href="https://zh-hans.react.dev/learn">React-ä¸­æ–‡å®˜ç½‘</a></p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å·²å°†å­¦ä¹ ä»£ç ä¸Šä¼ è‡³ <a target="_blank" rel="noopener" href="https://github.com/YangyangU/CodeSpace">github</a>ï¼Œæ¬¢è¿å¤§å®¶å­¦ä¹ æŒ‡æ­£ï¼</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/React/" class="category-chain-item">React</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/React/" class="print-no-link">#React</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>åªä¼šVueçš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ</div>
      <div>https://yangyangu.github.io/2024/06/07/åªä¼šä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™ReactTSæ˜¯ç§/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>å¾é˜³é˜³</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2024å¹´6æœˆ7æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/06/12/%E5%8F%AA%E4%BC%9AVue%EF%BC%8C%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BReact%EF%BC%88React%20Router%E7%AF%87%EF%BC%89/" title="åªä¼šVueï¼Œå¿«é€Ÿä¸Šæ‰‹Reactï¼ˆReact Routerç¯‡ï¼‰">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">åªä¼šVueï¼Œå¿«é€Ÿä¸Šæ‰‹Reactï¼ˆReact Routerç¯‡ï¼‰</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/04/27/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%EF%BC%8C%E6%9C%89%E5%93%AA%E4%BA%9B%E5%9C%B0%E6%96%B9%E5%8F%AF%E4%BB%A5%E4%BC%98%E5%8C%96/" title="é¢è¯•å®˜ï¼šä»è¾“å…¥URLåˆ°é¡µé¢æ¸²æŸ“ï¼Œæœ‰å“ªäº›åœ°æ–¹å¯ä»¥ä¼˜åŒ–">
                        <span class="hidden-mobile">é¢è¯•å®˜ï¼šä»è¾“å…¥URLåˆ°é¡µé¢æ¸²æŸ“ï¼Œæœ‰å“ªäº›åœ°æ–¹å¯ä»¥ä¼˜åŒ–</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
