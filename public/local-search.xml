<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>React å¯¹æ¯” Vue å¦‚ä½•åšè·¯ç”±é‰´æƒï¼Ÿ</title>
    <link href="/2024/09/09/React%E5%AF%B9%E6%AF%94Vue%E5%A6%82%E4%BD%95%E5%81%9A%E8%B7%AF%E7%94%B1%E9%89%B4%E6%9D%83/"/>
    <url>/2024/09/09/React%E5%AF%B9%E6%AF%94Vue%E5%A6%82%E4%BD%95%E5%81%9A%E8%B7%AF%E7%94%B1%E9%89%B4%E6%9D%83/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å­¦è¿‡ Vue çš„å°ä¼™ä¼´è‚¯å®šçŸ¥é“ï¼Œåœ¨ Vue ä¸­ï¼Œè·¯ç”±å®ˆå«å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¸€ç«™å¼è¿›è¡Œè·¯ç”±é‰´æƒã€‚æˆ‘ä»¬åªéœ€è¦åœ¨å…¨å±€å‰ç½®è·¯ç”±å®ˆå« (<code>beforeEach</code>) é’©å­å‡½æ•°ä¸­åˆ¤æ–­é€»è¾‘å³å¯ï¼Œæ–¹ä¾¿å¿«æ·ã€‚</p><p>ä½†æ˜¯åœ¨ React ä¸­ï¼Œå¦‚ä½•å®ç°ç±»ä¼¼çš„åŠŸèƒ½å‘¢ï¼Ÿæœ¬æ–‡å°†å¯¹æ¯” Vue å’Œ React è·¯ç”±é‰´æƒçš„æ–¹å¼ï¼Œå¸¦ä½ äº†è§£å¦‚ä½•åœ¨ React ä¸­é…ç½®è·¯ç”±å¹¶å®ç°è·¯ç”±é‰´æƒã€‚</p><h2 id="åœ¨Vueä¸­å¦‚ä½•å®ç°"><a href="#åœ¨Vueä¸­å¦‚ä½•å®ç°" class="headerlink" title="åœ¨Vueä¸­å¦‚ä½•å®ç°"></a>åœ¨Vueä¸­å¦‚ä½•å®ç°</h2><p>ä»¥ Vue3 ä¸ºä¾‹</p><h3 id="é…ç½®è·¯ç”±"><a href="#é…ç½®è·¯ç”±" class="headerlink" title="é…ç½®è·¯ç”±"></a>é…ç½®è·¯ç”±</h3><p>è¿™é‡Œæˆ‘ä»¬ç®€å•é…ç½®äº†ä¸‰ä¸ªè·¯ç”±ï¼Œé¦–é¡µã€å…³äºå’Œç™»å½•é¡µé¢ï¼Œé™¤äº†ç™»å½•é¡µå¤–éƒ½éœ€è¦ç™»å½•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// router/index.js</span><br><span class="hljs-keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/views/Home.vue&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/views/About.vue&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/views/Login.vue&#x27;</span>;<br><br><span class="hljs-keyword">const</span> routes = [<br>    &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Home&#x27;</span>,<br>        <span class="hljs-attr">meta</span>: &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;é¦–é¡µ&#x27;</span>,<br>            <span class="hljs-attr">needLogin</span>: <span class="hljs-literal">true</span>,<br>        &#125;,<br>        <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span>,<br>    &#125;,<br>    &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/about&#x27;</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;About&#x27;</span>,<br>        <span class="hljs-attr">meta</span>: &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;å…³äº&#x27;</span>,<br>            <span class="hljs-attr">needLogin</span>: <span class="hljs-literal">true</span>,<br>        &#125;,<br>        <span class="hljs-attr">component</span>: <span class="hljs-title class_">About</span>,<br>    &#125;,<br>    &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Login&#x27;</span>,<br>        <span class="hljs-attr">meta</span>: &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;ç™»å½•&#x27;</span>,<br>        &#125;,<br>        <span class="hljs-attr">component</span>: <span class="hljs-title class_">Login</span>,<br>    &#125;,<br>];<br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>(&#123;<br>    <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHistory</span>(),<br>    routes,<br>&#125;);<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬åœ¨è·¯ç”±ä¸­æ·»åŠ äº†ä¸€ä¸ª<code>meta</code>å±æ€§ï¼Œå®ƒä¸€èˆ¬ç”¨æ¥å­˜å‚¨è·¯ç”±çš„å…ƒä¿¡æ¯ï¼Œä»€ä¹ˆæ„æ€ï¼Œå°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡æ¥åˆ¤æ–­æŸä¸ªè·¯ç”±æ˜¯å¦éœ€è¦ç™»å½•æƒé™ã€é¡µé¢æ ‡é¢˜ã€ç‰¹å®šå¸ƒå±€ç­‰ç­‰ä¿¡æ¯ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬è®¾ç½® <code>meta.needLogin</code> æ¥æ ‡è¯†æŸä¸ªè·¯ç”±æ˜¯å¦éœ€è¦ç™»å½•æƒé™ï¼Œé€šè¿‡ <code>meta.title</code> æ¥è®¾ç½®é¡µé¢æ ‡é¢˜ï¼Œç„¶ååœ¨è·¯ç”±å®ˆå«ä¸­åŠ¨æ€æ›´æ”¹ <code>document.title</code>å³å¯ã€‚</p><h3 id="è·¯ç”±å®ˆå«"><a href="#è·¯ç”±å®ˆå«" class="headerlink" title="è·¯ç”±å®ˆå«"></a>è·¯ç”±å®ˆå«</h3><p>ä¸ºä»€ä¹ˆè·¯ç”±å®ˆå«èƒ½åšï¼Ÿ</p><p>è·¯ç”±å®ˆå«æ˜¯ Vue Router ä¸­ç”¨äºæ§åˆ¶è·¯ç”±å¯¼èˆªè¡Œä¸ºçš„åŠŸèƒ½ã€‚å®ƒå…è®¸åœ¨ç”¨æˆ·ä»ä¸€ä¸ªè·¯ç”±å¯¼èˆªåˆ°å¦ä¸€ä¸ªè·¯ç”±ä¹‹å‰ã€æœŸé—´æˆ–ä¹‹åæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ã€‚</p><p>è€Œ<strong>å…¨å±€å‰ç½®è·¯ç”±å®ˆå«</strong>æ˜¯åœ¨æ¯æ¬¡è·¯ç”±å¯¼èˆªå¼€å§‹å‰éƒ½ä¼šè¢«è°ƒç”¨ã€‚</p><p>è¿™æ ·æˆ‘ä»¬åªéœ€åœ¨è·¯ç”±è·³è½¬å‰ï¼Œå³å…¨å±€å‰ç½®è·¯ç”±å®ˆå«ä¸­å»åˆ¤æ–­è¦å»çš„è·¯ç”±æ˜¯å¦éœ€è¦ç™»é™†ï¼Œå¹¶ä¸”åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•å³å¯ï¼ï¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// main.js</span><br><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span>;<br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./router&#x27;</span>;<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>);<br><br>router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> token = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;my-token&#x27;</span>); <span class="hljs-comment">//ç”¨æˆ·ç™»é™†è‡ªåŠ¨ç”Ÿæˆçš„token</span><br><br>    <span class="hljs-keyword">if</span> (to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>) &#123;<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>; <span class="hljs-comment">//è®¾ç½®è·¯ç”±æ ‡é¢˜</span><br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (to.<span class="hljs-property">meta</span>.<span class="hljs-property">needLogin</span> &amp;&amp; !token) &#123; <span class="hljs-comment">// å¦‚æœéœ€è¦ç™»å½•ä½†æ˜¯æœªç™»å½•ï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢</span><br>        <span class="hljs-title function_">next</span>(<span class="hljs-string">&#x27;/login&#x27;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">//å¦åˆ™æ”¾è¡Œ</span><br>        <span class="hljs-title function_">next</span>();<br>    &#125;<br>&#125;);<br><br>app.<span class="hljs-title function_">use</span>(router).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>);<br></code></pre></td></tr></table></figure><p>åœ¨ Vue ä¸­ï¼Œå®ç°è·¯ç”±æ‹¦æˆªé‰´æƒçš„æ ¸å¿ƒæ˜¯ä½¿ç”¨ Vue Router æä¾›çš„ <code>beforeEach</code> å…¨å±€å‰ç½®å®ˆå«ã€‚åœ¨è¿™ä¸ªå®ˆå«å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è·¯ç”±çš„ <code>meta.needLogin</code> å±æ€§ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œç™»å½•éªŒè¯ã€‚å¦‚æœç”¨æˆ·æœªç™»å½•ä¸”è®¿é—®äº†éœ€è¦ç™»å½•çš„é¡µé¢ï¼Œåˆ™é‡å®šå‘è‡³ç™»å½•é¡µã€‚</p><h2 id="åœ¨Reactä¸­æ€ä¹ˆå®ç°"><a href="#åœ¨Reactä¸­æ€ä¹ˆå®ç°" class="headerlink" title="åœ¨Reactä¸­æ€ä¹ˆå®ç°"></a>åœ¨Reactä¸­æ€ä¹ˆå®ç°</h2><p>Vue ä¸­å¾ˆå®¹æ˜“å®ç°ï¼Œé—®é¢˜æ¥äº†ï¼ŒReact ä¸­æ€ä¹ˆåšï¼Ÿ</p><p>è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ React Router 6çš„æœ€æ–°çš„è·¯ç”±é…ç½®å†™æ³•ï¼Œè·Ÿ Vue ç®€ç›´ä¸è¦å¤ªåƒ</p><h3 id="é…ç½®è·¯ç”±-1"><a href="#é…ç½®è·¯ç”±-1" class="headerlink" title="é…ç½®è·¯ç”±"></a>é…ç½®è·¯ç”±</h3><p>é¦–å…ˆç¬¬ä¸€æ­¥åŒæ ·æ˜¯é…ç½®è·¯ç”±</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// router/index.js</span><br><span class="hljs-keyword">import</span> &#123; createBrowserRouter &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;<br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Layout</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/Layout&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/pages/Home&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/pages/About&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/pages/Login&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> routes = [<br>    &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;home&#x27;</span>,<br>        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">meta</span>: &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;é¦–é¡µ&#x27;</span>,<br>            <span class="hljs-attr">needLogin</span>: <span class="hljs-literal">true</span>,<br>        &#125;,<br>        <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span>,<br>    &#125;,<br>    &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;about&#x27;</span>,<br>        <span class="hljs-attr">meta</span>: &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;å…³äº&#x27;</span>,<br>            <span class="hljs-attr">needLogin</span>: <span class="hljs-literal">true</span>,<br>        &#125;,<br>        <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">About</span> /&gt;</span></span>,<br>    &#125;,<br>    &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>        <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>,<br>    &#125;,<br>];<br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>(routes);<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œè·¯ç”±å¯¹è±¡å†™æ³•è·Ÿ Vue Router ä¸èƒ½è¯´å¾ˆåƒï¼Œåªèƒ½è¯´ä¸€æ¨¡ä¸€æ ·äº†ï¼Œé“ç†éƒ½ä¸€æ ·ï¼Œè®¾ç½®<code>meta</code>å±æ€§ï¼Œå°†éœ€è¦ç™»å½•çš„è·¯ç”±ï¼Œè®¾ç½®<code>needLogin</code>ä¸º<code>true</code>ã€‚</p><h3 id="1-ç»„ä»¶å†…éƒ¨ç›´æ¥åˆ¤æ–­"><a href="#1-ç»„ä»¶å†…éƒ¨ç›´æ¥åˆ¤æ–­" class="headerlink" title="1. ç»„ä»¶å†…éƒ¨ç›´æ¥åˆ¤æ–­"></a>1. ç»„ä»¶å†…éƒ¨ç›´æ¥åˆ¤æ–­</h3><p>è·Ÿ Vue çš„åŒºåˆ«æ¥äº†ï¼ŒReact å¯æ²¡æœ‰è·¯ç”±å®ˆå«è¿™ä¸€è¯´æ³•ï¼Œä½†æ˜¯é“ç†éƒ½ä¸€æ ·ï¼Œæˆ‘ä»¬åªéœ€åœ¨è·¯ç”±è·³è½¬é¡µé¢å±•ç¤ºå‰ä¸€åˆ»åˆ¤æ–­æ˜¯å¦éœ€è¦ç™»å½•ä»¥åŠç”¨æˆ·æ˜¯å¦ç™»å½•ã€‚</p><p>ä½†æ˜¯Reactæ€ä¹ˆå®ç°åœ¨è·³è½¬å‰åˆ¤æ–­é€»è¾‘å‘¢ï¼Ÿ</p><p>ç¬¬ä¸€ç§æ–¹æ³•ï¼Œä¹Ÿæ˜¯æœ€å¥½æƒ³çš„æ–¹æ³•ï¼Œç›´æ¥åœ¨ç»„ä»¶å†…éƒ¨çš„ <code>useEffect</code> é’©å­ä¸­è¿›è¡Œåˆ¤æ–­ï¼Œæ¡ä»¶ä¸æ»¡è¶³é‡å®šå‘å»ç™»å½•å³å¯ã€‚</p><p>æˆ‘ä»¬çŸ¥é“<code>useEffect</code>åœ¨å‡½æ•°ç»„ä»¶ä¸­å……å½“ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸï¼Œå°±èƒ½åœ¨ç»„ä»¶æ¸²æŸ“å‰è¿›è¡Œé€»è¾‘åˆ¤æ–­</p><p>ä»¥ Home é¡µé¢ä¸ºä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; useNavigate &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();<br>  <span class="hljs-keyword">const</span> token = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;my-token&#x27;</span>);<br><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (!token) &#123;<br>      <span class="hljs-title function_">navigate</span>(<span class="hljs-string">&#x27;/login&#x27;</span>);<br>    &#125;<br>  &#125;, [navigate, token]);<br><br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Home Page<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Home</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>useEffect</code>é’©å­ï¼Œå½“é¡µé¢åˆæ¬¡åŠ è½½æˆ–ä¾èµ–é¡¹æ›´æ–°çš„æ—¶å€™å°±ä¼šé‡æ–°æ‰§è¡Œï¼Œèƒ½å¤Ÿè¾¾åˆ°æˆ‘ä»¬ç›®çš„ã€‚</p><p>æˆ‘ä»¬ç›´æ¥åœ¨ç»„ä»¶åŠ è½½å‰åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œå“ªé‡Œéœ€è¦ç™»å½•å°±åœ¨å“ªé‡Œåˆ¤æ–­ï¼Œç”šè‡³çœå»äº†è·¯ç”±é…ç½®ä¸­çš„<code>meta</code>å±æ€§ã€‚</p><p>âš ï¸ä½†æ˜¯è¿™ç§æ–¹æ³•å¤ªç¬¨äº†ï¼Œæ¯ä¸ªéœ€è¦ç™»å½•çš„é¡µé¢éƒ½éœ€è¦å•ç‹¬å†™ä¸€å¥—è¿™æ ·çš„ä»£ç ï¼Œå¾ˆæ˜æ˜¾å¯ä»¥å¤ç”¨ã€‚äºæ˜¯ä¾¿æœ‰äº†ä¸‹é¢è¿™ä¸ªæ–¹æ³•ã€‚</p><h3 id="2-é«˜é˜¶ç»„ä»¶"><a href="#2-é«˜é˜¶ç»„ä»¶" class="headerlink" title="2. é«˜é˜¶ç»„ä»¶"></a>2. é«˜é˜¶ç»„ä»¶</h3><p>é«˜é˜¶ç»„ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºè¾“å…¥ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–°ç»„ä»¶æ¸²æŸ“ä¹‹å‰ï¼Œå³åœ¨çˆ¶ç»„ä»¶ä¸­æ“ä½œï¼Œè¿›è¡Œé‰´æƒé€»è¾‘åˆ¤æ–­ä»¥å®ç°ç±»ä¼¼ Vue å‰ç½®è·¯ç”±å®ˆå«çš„åŠŸèƒ½ã€‚</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// router/Auth.jsx</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Navigate</span>, useLocation &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; routes, <span class="hljs-title class_">RouterWithTabAuthObject</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./&#x27;</span>;<br><br><span class="hljs-comment">// è·å–å½“å‰è·¯ç”±çš„å…ƒæ•°æ®</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">getRouteMeta</span> = (<span class="hljs-params">path, routes</span>) =&gt; &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> route <span class="hljs-keyword">of</span> routes) &#123;<br>        <span class="hljs-keyword">if</span> (route.<span class="hljs-property">path</span> === path) <span class="hljs-keyword">return</span> route;<br>        <span class="hljs-keyword">if</span> (route.<span class="hljs-property">children</span>) &#123;<br>            <span class="hljs-keyword">const</span> childRoute = <span class="hljs-title function_">getRouteMeta</span>(path, route.<span class="hljs-property">children</span>);<br>            <span class="hljs-keyword">if</span> (childRoute) <span class="hljs-keyword">return</span> childRoute;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Auth</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>    <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();<br>    <span class="hljs-keyword">const</span> token = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;my-token&#x27;</span>);<br><br>    <span class="hljs-keyword">const</span> currentRoute = <span class="hljs-title function_">getRouteMeta</span>(location.<span class="hljs-property">pathname</span>, routes);<br><br>    <span class="hljs-comment">// è®¾ç½®é¡µé¢æ ‡é¢˜</span><br>    <span class="hljs-keyword">if</span> (currentRoute?.<span class="hljs-property">meta</span>?.<span class="hljs-property">title</span>) &#123;<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = currentRoute.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// å¦‚æœéœ€è¦ç™»å½•ä½†æ²¡æœ‰ tokenï¼Œé‡å®šå‘åˆ°ç™»å½•é¡µ</span><br>    <span class="hljs-keyword">if</span> (currentRoute?.<span class="hljs-property">meta</span>?.<span class="hljs-property">needLogin</span> &amp;&amp; !token) &#123;<br>        <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/login&quot;</span> <span class="hljs-attr">replace</span> /&gt;</span></span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>&#123;props.children&#125;<span class="hljs-tag">&lt;/&gt;</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Auth</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œé€»è¾‘å…¶å®è·Ÿå‰ç½®è·¯ç”±å®ˆå«æ˜¯ä¸€è‡´ï¼Œåªä¸è¿‡Vueå¸®ä½ åšäº†å°è£…ï¼Œæ˜¾å¾—ä»£ç æ²¡æœ‰é‚£ä¹ˆå¤šï¼Œæ¯”è¾ƒç®€å•ã€‚</p><p>æˆ‘ä»¬æ¥å½’çº³ä¸€ä¸‹ï¼Œ<code>beforeEach</code>å¯ä»¥ç›´æ¥é€šè¿‡<code>to.meta</code>ç›´æ¥æ‹¿åˆ°å…ƒæ•°æ®ï¼Œä½†æ˜¯ React éœ€è¦åˆ¤æ–­å½“å‰<code>loaction</code>å’Œ<code>routes</code>è·¯ç”±å¯¹è±¡è¿›è¡ŒæŸ¥æ‰¾æ‰èƒ½æ‰¾åˆ°å¯¹åº”çš„è·¯ç”±å¯¹è±¡ï¼Œå³æ­¤å¤„çš„<code>getRouteMeta</code>æ–¹æ³•ï¼Œå¦‚æœæœ‰<code>children</code>è¿˜éœ€è¦é€’å½’æŸ¥æ‰¾ï¼Œå…¶å® Vue åº•å±‚ä¹Ÿæ˜¯è¿™æ ·å®ç°çš„ã€‚</p><p>ç„¶åé€šè¿‡æ¡ä»¶åˆ¤æ–­å’Œé‡å®šå‘å®ç°é‰´æƒï¼Œæœ€åå¦‚æœä¸éœ€è¦é‡å®šå‘ï¼Œæ­£å¸¸æ¸²æŸ“ <code>props.children</code>ï¼Œå³å­ç»„ä»¶ã€‚</p><h4 id="å…¨å±€æ³¨å†Œ"><a href="#å…¨å±€æ³¨å†Œ" class="headerlink" title="å…¨å±€æ³¨å†Œ"></a>å…¨å±€æ³¨å†Œ</h4><p><code>Auth</code>ç»„ä»¶å·²ç»å®Œæˆï¼Œè¿˜éœ€è¦åšä¸€æ­¥æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦ç”¨è¿™ä¸ªé«˜é˜¶å°†æ‰€æœ‰è·¯ç”±åŒ…è£¹èµ·æ¥ï¼Œæ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Layout</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;antd&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Outlet</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Aside</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/Aside&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/components/Header&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Auth</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/router/Auth&#x27;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">View</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-keyword">return</span> (<br>        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Auth</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">Aside</span> /&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">Content</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">Content</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">Auth</span>&gt;</span></span><br>    );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">View</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä¸€èˆ¬ä¹ æƒ¯äºå°†<code>Auth</code>åŒ…è£¹<code>&lt;Layout&gt;</code>ç»„ä»¶ï¼Œå¦‚æœä½ æ²¡ç”¨åˆ°<code>Layout</code>ï¼ŒåŒ…è£¹<code>App</code>ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li><p>åœ¨<code>Vue</code>ä¸­ï¼Œå®ç°è·¯ç”±æ‹¦æˆªé‰´æƒçš„æ ¸å¿ƒå°±æ˜¯ä½¿ç”¨Â <code>beforeEach</code>Â å…¨å±€å‰ç½®å®ˆå«ã€‚</p></li><li><p>åœ¨<code>React</code>ä¸­ï¼Œæš‚ä¸”ä¸è€ƒè™‘ç¬¬ä¸€ç§ç»„ä»¶å†…éƒ¨åˆ¤æ–­çš„è¯ï¼Œå®ç°è·¯ç”±æ‹¦æˆªé‰´æƒå°±æ˜¯å°†<strong>æ¯ä¸ª</strong>è·¯ç”±ç»„ä»¶ä½¿ç”¨<strong>é«˜é˜¶ç»„ä»¶</strong>è¿›è¡ŒåŒ…è£¹ï¼Œåœ¨è¿™ä¸ªé«˜é˜¶ç»„ä»¶é‡Œé¢è¿›è¡Œæƒé™ç›¸å…³é€»è¾‘çš„åˆ¤æ–­ã€‚</p></li></ul><p>æ€»è€Œè¨€ä¹‹ï¼Œå…¶å®ä¸ç®¡æ˜¯ Vue è¿˜æ˜¯ React ä¸¤è€…çš„æ ¸å¿ƒæ€æƒ³ç›¸åŒï¼Œéƒ½æ˜¯åœ¨ç”¨æˆ·è®¿é—®å—ä¿æŠ¤é¡µé¢å‰ï¼Œæ£€æŸ¥å…¶ç™»å½•çŠ¶æ€ï¼Œå¹¶æ ¹æ®æ£€æŸ¥ç»“æœå†³å®šæ˜¯å¦å…è®¸è®¿é—®ï¼Œå¦‚ä½•æ‰¾åˆ°è¿™çš„æ—¶é—´ç‚¹æ‰æ˜¯å…³é”®ï¼</p>]]></content>
    
    
    <categories>
      
      <category>React</category>
      
    </categories>
    
    
    <tags>
      
      <tag>React</tag>
      
      <tag>Vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¿«é€Ÿä¸Šæ‰‹ TSï¼ˆè¿›é˜¶ç±»å‹ç¯‡ï¼‰</title>
    <link href="/2024/07/03/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BTS%EF%BC%88%E8%BF%9B%E9%98%B6%E7%B1%BB%E5%9E%8B%E7%AF%87%EF%BC%89/"/>
    <url>/2024/07/03/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BTS%EF%BC%88%E8%BF%9B%E9%98%B6%E7%B1%BB%E5%9E%8B%E7%AF%87%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li><a href="https://juejin.cn/post/7383643463532953619">å¿«é€Ÿä¸Šæ‰‹ TSï¼ˆç¯å¢ƒç¯‡ï¼‰- æ˜é‡‘ (juejin.cn)</a></li><li><a href="https://juejin.cn/post/7386701961808904204">å¿«é€Ÿä¸Šæ‰‹ TSï¼ˆåŸºç¡€ç±»å‹ç¯‡ï¼‰- æ˜é‡‘ (juejin.cn)</a></li></ul><p>å‰ä¸¤ç¯‡ä¸­æˆ‘ä»‹ç»äº† TS ä»å®‰è£…åˆ°è¿è¡Œçš„ç¯å¢ƒé…ç½®ï¼Œä»¥åŠ TS çš„åŸºç¡€ç±»å‹ä»‹ç»ï¼Œå¸Œæœ›èƒ½å¤Ÿå¯¹ä½ å¸¦æ¥å¸®åŠ©ã€‚ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹ TS çš„è¿›é˜¶çŸ¥è¯†ï¼Œæ•°ç»„ã€å…ƒç»„ã€å‡½æ•°ã€æ¥å£ç­‰ç­‰ï¼Œå…·ä½“å¯ä»¥å‚è€ƒç›®å½•ï¼Œè¿˜æ˜¯é‚£å¥è¯å¸Œæœ›æˆ‘èƒ½åšæŒæ›´æ–°ï¼Œæ›´å¸Œæœ›ä½ èƒ½åšæŒçœ‹ä¸‹å»ï¼</p><h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p>åœ¨ JS ä¸­æ•°ç»„å°±æ˜¯æ•°ç»„ï¼Œä½† TS ä¸­çš„æ•°ç»„è¢«åˆ†ä¸ºäº†æ•°ç»„å’Œå…ƒç»„</p><h3 id="æ•°ç»„-1"><a href="#æ•°ç»„-1" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><p>TS æ•°ç»„æœ‰ä¸€ä¸ªæ ¹æœ¬çš„ç‰¹å¾ï¼Œæ‰€æœ‰çš„æˆå‘˜ç±»å‹å¿…é¡»ç›¸åŒï¼Œæˆå‘˜æ•°é‡å¯ä»¥ä¸ç¡®å®šã€‚</p><p>æ•°ç»„æœ‰ä¸¤ç§å£°æ˜æ–¹å¼ï¼Œç±»å‹åé¢åŠ <code>[]</code>æˆ–è€…ä½¿ç”¨å†…ç½®<code>Array</code>æ¥å£ï¼ˆä¸‹é¢ä¼šè¯¦ç»†ä»‹ç»æ¥å£ interfaceï¼‰</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">arr</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr2</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br></code></pre></td></tr></table></figure><p>å¦‚æœæˆå‘˜ç±»å‹æœ‰ä¸åŒç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨è”åˆç±»å‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">arr</span>: (<span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>)[] = [<span class="hljs-number">1</span>, <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr2</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>&gt; = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>];<br></code></pre></td></tr></table></figure><h4 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h4><p>æ•°ç»„çš„ç±»å‹æ¨æ–­ä¸å‰æ–‡è®²çš„æœ‰æ‰€ä¸åŒï¼Œå®ƒä¼šæ ¹æ®æ¯ä¸ªæˆå‘˜çš„ç±»å‹è€Œå˜åŒ–</p><p>å¦‚æœæ²¡æœ‰å£°æ˜æ•°ç»„ç±»å‹ï¼ŒTS ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹æ¨æ–­ï¼Œå½“æ•°ç»„ä¸ºç©ºæ—¶ï¼Œä¼šæ¨æ–­ä¸º<code>any</code>ç±»å‹çš„æ•°ç»„</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89c40b0e3b3c48e1ba5fb62597e78793~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=295&h=86&s=4591&e=png&b=1f1f1f" alt="image.png" width="30%" /><p>å½“æˆ‘ä»¬ä¿®æ”¹æˆå‘˜æ—¶ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œæ›´æ–°ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬<code>push</code>ä¸€ä¸ªæ•°å­—ï¼Œä¼šè‡ªåŠ¨æ¨æ–­ä¸º<code>number</code>æ•°ç»„</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e381d85cb3742d282c8e2c8385aac75~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=302&h=143&s=7453&e=png&b=1f1f1f" alt="image.png" width="30%" /><p>æˆ‘ä»¬å†<code>push</code>ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè‡ªåŠ¨æ¨æ–­æˆè”åˆç±»å‹<code>string | number</code>çš„æ•°ç»„</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ed3af34f1a943718984afa42f7d5525~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=405&h=164&s=11903&e=png&b=1e1e1e" alt="image.png" width="50%" /><h3 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h3><p>å…ƒç»„æ˜¯ TS æ–°å¢çš„æ•°æ®ç±»å‹ï¼Œå®ƒè¡¨ç¤ºæˆå‘˜ç±»å‹å¯ä»¥è‡ªç”±è®¾ç½®çš„æ•°ç»„ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">tuple</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>, <span class="hljs-built_in">boolean</span>] = [<span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>, <span class="hljs-number">123</span>, <span class="hljs-literal">true</span>];<br></code></pre></td></tr></table></figure><p>å†™æ³•ä¸Šä¸æ•°ç»„æœ‰æ‰€ä¸åŒï¼Œæ•°ç»„çš„ç±»å‹æ˜¯å†™åœ¨<code>[]</code>çš„å·¦è¾¹ï¼Œè€Œå…ƒç»„çš„ç±»å‹æ˜¯å†™åœ¨<code>[]</code>å†…éƒ¨ã€‚</p><p>ä½¿ç”¨å…ƒç»„æ—¶å¿…é¡»ç»™å‡ºç±»å‹å£°æ˜ï¼Œä¸ç„¶ä¼šè¢« TS è‡ªåŠ¨æ¨æ–­ä¸ºæ•°ç»„</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd3c5599c3b04805a490f0d506373b24~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=578&h=87&s=9894&e=png&b=1f1f1f" alt="image.png" width="50%" /><h4 id="å¯é€‰ç¬¦"><a href="#å¯é€‰ç¬¦" class="headerlink" title="?å¯é€‰ç¬¦"></a><code>?</code>å¯é€‰ç¬¦</h4><p>å…ƒç»„æˆå‘˜çš„ç±»å‹å¯ä»¥æ·»åŠ é—®å·åç¼€ï¼ˆ<code>?</code>ï¼‰ï¼Œè¡¨ç¤ºè¯¥æˆå‘˜æ˜¯å¯é€‰çš„ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">tuple</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>, <span class="hljs-built_in">boolean</span>?] = [<span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>, <span class="hljs-number">123</span>];<br></code></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯å¯é€‰æˆå‘˜è¦æ”¾åœ¨å°¾éƒ¨ï¼Œå³æ‰€æœ‰å¯é€‰æˆå‘˜å¿…é¡»åœ¨å¿…é€‰æˆå‘˜ä¹‹å</p><p>å¦‚æœæ”¾åœ¨å‰é¢ä¼šæŠ¥é”™</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3a91064aa2774f42ab530ec2ef5cee14~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=740&h=150&s=22684&e=png&b=1f1f1f" alt="image.png" width="70%" /><h4 id="æ‰©å±•è¿ç®—ç¬¦"><a href="#æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="...æ‰©å±•è¿ç®—ç¬¦"></a><code>...</code>æ‰©å±•è¿ç®—ç¬¦</h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…ƒç»„çš„æˆå‘˜æ•°é‡æ˜¯å›ºå®šçš„ï¼Œæœ‰å¤šå°‘ä¸ªç±»å‹å£°æ˜å°±æœ‰å¤šå°‘ä¸ªæˆå‘˜ï¼Œä½†æ˜¯<code>...</code>æ‰©å±•è¿ç®—ç¬¦å…è®¸æˆ‘ä»¬è¡¨ç¤ºä¸å®šæˆå‘˜æ•°é‡çš„å…ƒç»„ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">tuple</span>: [<span class="hljs-built_in">string</span>, ...<span class="hljs-built_in">number</span>[]] = [<span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>, <span class="hljs-number">123</span>, <span class="hljs-number">456</span>];<br></code></pre></td></tr></table></figure><p>æ‰©å±•è¿ç®—ç¬¦ç”¨åœ¨å…ƒç»„çš„ä»»æ„ä½ç½®éƒ½å¯ä»¥ï¼Œä½†æ˜¯åªèƒ½æ‰©å±•æ•°ç»„æˆ–å…ƒç»„ã€‚</p><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>å‡½æ•°çš„ç±»å‹å£°æ˜ï¼Œéœ€è¦ç»™å‡ºå‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"><span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> &#123;<br>  <span class="hljs-keyword">return</span> a + b;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œä¸¤ä¸ªå‚æ•°<code>a</code>ã€<code>b</code>ç±»å‹éƒ½ä¸º<code>number</code>ï¼Œä»¥åŠè¿”å›å€¼çš„ç±»å‹<code>number</code>ï¼Œè¿”å›å€¼ç±»å‹å†™åœ¨å‚æ•°åˆ—è¡¨çš„åœ†æ‹¬å·åé¢ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼è¿›è¡Œå£°æ˜</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">//æ–¹å¼ä¸€</span><br><span class="hljs-keyword">const</span> fn = <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> &#123;<br>  <span class="hljs-keyword">return</span> a + b;<br>&#125;;<br><span class="hljs-comment">//æ–¹å¼äºŒ</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) &#123;<br>  <span class="hljs-keyword">return</span> a + b;<br>&#125;;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°ï¼Œç¬¬ä¸€ç§æ˜¯é€šè¿‡ç­‰å·å³è¾¹æ¥æ¨æ–­<code>fn</code>çš„ç±»å‹ï¼Œç¬¬äºŒç§åˆ™æ˜¯ç›´æ¥æŒ‡æ˜äº†<code>fn</code>çš„ç±»å‹ã€‚</p><p>è¿”å›å€¼ç±»å‹é€šå¸¸å¯ä»¥ä¸å†™ï¼ŒTS ä¼šè‡ªå·±æ¨æ–­å‡ºæ¥ï¼Œå¦‚æœæ²¡å†™<code>return</code>è¯­å¥ï¼Œä¼šæ¨æ–­ä¸ºæ²¡æœ‰è¿”å›å€¼</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d54abea603554da3a2b998bbf727de04~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=494&h=138&s=13079&e=png&b=1f1f1f" alt="image.png" width="50%" /><h3 id="void-ç±»å‹"><a href="#void-ç±»å‹" class="headerlink" title="void ç±»å‹"></a>void ç±»å‹</h3><p>void ç±»å‹è¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚å¦‚æœä½ å­¦è¿‡ c è¯­è¨€ï¼Œé‚£ä½ ä¸€å®šä¸ä¼šé™Œç”Ÿã€‚</p><p>åœ¨ TS ä¸­<code>void</code>å¹¶ä¸ä»£è¡¨ä¸èƒ½å†™<code>return</code>è¯­å¥ï¼Œå®ƒå…è®¸è¿”å›<code>undefined</code>æˆ–<code>null</code>ï¼ˆ<code>null</code>éœ€è¦å…³é—­ä¸¥æ ¼æ¨¡å¼ï¼‰ï¼Œå› ä¸ºå®ƒä¿©åœ¨ TS çœ‹æ¥ä¹Ÿæ˜¯ç›¸å½“äºæ²¡æœ‰è¿”å›å€¼ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn3</span>(<span class="hljs-params"><span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">void</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯å¦‚æœä½ è¿”å›å…¶å®ƒç±»å‹å°±ä¼šæŠ¥é”™</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"><span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">void</span> &#123;<br>  <span class="hljs-keyword">return</span> a + b; <span class="hljs-comment">//æŠ¥é”™</span><br>&#125;<br></code></pre></td></tr></table></figure><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/76765d6f43fc4fabb8edf79d0ebc8efa~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=569&h=162&s=18617&e=png&b=272728" alt="image.png" width="70%" /><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><p>æœ‰äº›å‡½æ•°å¯ä»¥æ¥å—ä¸åŒç±»å‹æˆ–ä¸åŒä¸ªæ•°çš„å‚æ•°ï¼Œå¹¶ä¸”æ ¹æ®å‚æ•°çš„ä¸åŒï¼Œä¼šæœ‰ä¸åŒçš„å‡½æ•°è¡Œä¸ºã€‚è¿™ç§æ ¹æ®å‚æ•°ç±»å‹ä¸åŒï¼Œæ‰§è¡Œä¸åŒé€»è¾‘çš„è¡Œä¸ºï¼Œç§°ä¸ºå‡½æ•°é‡è½½ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æƒ³å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œä¸ç®¡ä½ ä¼ å…¥çš„æ˜¯æ•°ç»„è¿˜æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ‘éƒ½å¸Œæœ›å®ƒè¿”å›ä¸€ä¸ªåè½¬åçš„ç»“æœ</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-title function_">reverse</span>(<span class="hljs-string">&quot;abc&quot;</span>); <span class="hljs-comment">// &#x27;cba&#x27;</span><br><span class="hljs-title function_">reverse</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// [3, 2, 1]</span><br></code></pre></td></tr></table></figure><p>é¦–å…ˆæˆ‘ä»¬é€ä¸€å®šä¹‰æ¯ä¸€ç§æƒ…å†µçš„ç±»å‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">reverse</span>(<span class="hljs-params"><span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">reverse</span>(<span class="hljs-params"><span class="hljs-attr">arr</span>: <span class="hljs-built_in">any</span>[]</span>): <span class="hljs-built_in">any</span>[];<br></code></pre></td></tr></table></figure><p>ç„¶åç»™äºˆå‡½æ•°å®Œæ•´çš„ç±»å‹å£°æ˜</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">reverse</span>(<span class="hljs-params"><span class="hljs-attr">stringOrArray</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">any</span>[]</span>): <span class="hljs-built_in">string</span> | <span class="hljs-built_in">any</span>[] &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> stringOrArray === <span class="hljs-string">&quot;string&quot;</span>)<br>    <span class="hljs-keyword">return</span> stringOrArray.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>).<span class="hljs-title function_">reverse</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>);<br>  <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> stringOrArray.<span class="hljs-title function_">slice</span>().<span class="hljs-title function_">reverse</span>();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">reverse</span>([<span class="hljs-string">&quot;ğŸ‚&quot;</span>, <span class="hljs-string">&quot;ğŸ‘&quot;</span>, <span class="hljs-string">&quot;ğŸ&quot;</span>, <span class="hljs-string">&quot;ğŸ’&quot;</span>])); <span class="hljs-comment">//[ &#x27;ğŸ’&#x27;, &#x27;ğŸ&#x27;, &#x27;ğŸ‘&#x27;, &#x27;ğŸ‚&#x27; ]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">reverse</span>(<span class="hljs-string">&quot;ç‰›ç¾Šé©¬çŒ´&quot;</span>)); <span class="hljs-comment">//çŒ´é©¬ç¾Šç‰›</span><br></code></pre></td></tr></table></figure><h2 id="type-å‘½ä»¤"><a href="#type-å‘½ä»¤" class="headerlink" title="type å‘½ä»¤"></a>type å‘½ä»¤</h2><p>TS å…è®¸æˆ‘ä»¬ç”¨ type æ¥å®šä¹‰ä¸€ä¸ªç±»å‹åˆ«åï¼Œæˆ‘ä»¬ä¹ æƒ¯ä½¿ç”¨å¤§é©¼å³°å‘½åæ–¹å¼è¿›è¡Œå‘½åã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Name</span> = <span class="hljs-built_in">string</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-title class_">Name</span> = <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>;<br></code></pre></td></tr></table></figure><p>è¿™æ ·<code>Age</code>å°±èƒ½åƒä½¿ç”¨<code>number</code>ä¸€æ ·ä½œä¸ºç±»å‹æ¥ä½¿ç”¨</p><p>åˆ«åä¸å…è®¸é‡åï¼Œæ‹¿å€¼ç±»å‹æ¥ä¸¾ä¾‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Color</span> = <span class="hljs-string">&quot;çº¢&quot;</span>;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Color</span> = <span class="hljs-string">&quot;ç»¿&quot;</span>; <span class="hljs-comment">//æŠ¥é”™</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä¸€äº›ç±»å‹å®šä¹‰å¾ˆå†—é•¿ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šç”¨ type å‘½ä»¤ä¸ºå‡½æ•°ç±»å‹å®šä¹‰ä¸€ä¸ªåˆ«åã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MyFunc</span> = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">fn</span>: <span class="hljs-title class_">MyFunc</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello &quot;</span> + a);<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="interface-æ¥å£"><a href="#interface-æ¥å£" class="headerlink" title="interface æ¥å£"></a>interface æ¥å£</h2><p>interface æ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç±»å‹çº¦å®šï¼Œä¸­æ–‡è¯‘ä¸ºâ€œæ¥å£â€ã€‚ä½¿ç”¨äº†æŸä¸ªæ¨¡æ¿çš„å¯¹è±¡ï¼Œå°±æ‹¥æœ‰äº†æŒ‡å®šçš„ç±»å‹ç»“æ„ã€‚</p><h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ¥å£<code>Person</code>ï¼Œä¸¤ä¸ªå±æ€§<code>name</code>å’Œ<code>age</code>ï¼Œä»»ä½•å®ç°è¿™ä¸ªæ¥å£çš„å¯¹è±¡éƒ½å¿…é¡»å…·æœ‰è¿™ä¸¤ä¸ªå±æ€§ï¼Œå¹¶ç¬¦åˆè§„å®šç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">me</span>: <span class="hljs-title class_">Person</span> = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">21</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><p>å¦‚æœå±æ€§å’Œç±»å‹æœ‰ä¸€ä¸ªä¸ç¬¦å°±ä¼šæŠ¥é”™ã€‚</p><p>å¦‚æœä½ å¸Œæœ›å±æ€§æ˜¯å¯é€‰çš„ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<code>?</code>å¯é€‰æ“ä½œç¬¦ï¼Œåªè¯»å¯ä»¥ä½¿ç”¨<code>readonly</code>ä¿®é¥°ç¬¦</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123;<br>  name?: <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>;<br>  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>: <span class="hljs-number">21</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p>é™¤äº†å±æ€§å¤–ï¼Œæ¥å£è¿˜å…è®¸æˆ‘ä»¬å®šä¹‰å¯¹è±¡çš„æ–¹æ³•</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-title function_">say</span>(<span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å‡½æ•°-1"><a href="#å‡½æ•°-1" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p>æ¥å£ä¹Ÿå¯ä»¥ç”¨æ¥å£°æ˜ç‹¬ç«‹çš„å‡½æ•°</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Add</span> &#123;<br>  (<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span>;<br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">myAdd</span>: <span class="hljs-title class_">Add</span> = <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> x + y;<br></code></pre></td></tr></table></figure><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>æ¥å£å¯ä»¥ä½¿ç”¨<code>extends</code>å…³é”®å­—å®ç°ç»§æ‰¿</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>extends</code>å…³é”®å­—ä¼šä»ç»§æ‰¿çš„æ¥å£é‡Œé¢æ‹·è´å±æ€§ç±»å‹ï¼Œè¿™æ ·å°±ä¸å¿…ä¹¦å†™é‡å¤çš„å±æ€§</p><p>å¦‚æœå­æ¥å£ä¸çˆ¶æ¥å£å­˜åœ¨åŒåå±æ€§ï¼Œé‚£ä¹ˆå­æ¥å£çš„å±æ€§ä¼šè¦†ç›–çˆ¶æ¥å£çš„å±æ€§ã€‚å‰ææ˜¯ä¸èƒ½æœ‰å†²çªï¼Œå±æ€§æ–¹æ³•ä»–ä»¬çš„ç±»å‹å¾—æ˜¯ä¸€è‡´çš„ï¼Œä¸ç„¶ä¼šæŠ¥é”™</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">bigint</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œå­˜åœ¨åŒåå±æ€§ï¼Œä½†æ˜¯ç±»å‹ä¸ä¸€è‡´</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3634c66ca59942e287f2cde4ae39687c~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=519&h=226&s=30080&e=png&b=272728" alt="image.png"></p><h3 id="åˆå¹¶"><a href="#åˆå¹¶" class="headerlink" title="åˆå¹¶"></a>åˆå¹¶</h3><p>å¤šä¸ªåŒåæ¥å£ä¼šåˆå¹¶æˆä¸€ä¸ªæ¥å£</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Box</span> &#123;<br>  <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span>;<br>  <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Box</span> &#123;<br>  <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸¤ä¸ª<code>Box</code>æ¥å£ä¼šåˆå¹¶æˆä¸€ä¸ªæ¥å£ï¼ŒåŒæ—¶æœ‰<code>height</code>ã€<code>width</code>å’Œ<code>length</code>ä¸‰ä¸ªå±æ€§ã€‚å‰æä»ç„¶æ˜¯ä¸èƒ½æœ‰å†²çªã€‚</p><h3 id="å’Œ-type-çš„åŒºåˆ«"><a href="#å’Œ-type-çš„åŒºåˆ«" class="headerlink" title="å’Œ type çš„åŒºåˆ«"></a>å’Œ type çš„åŒºåˆ«</h3><p>ï¼ˆ1ï¼‰<code>type</code>èƒ½å¤Ÿè¡¨ç¤ºéå¯¹è±¡ç±»å‹ï¼Œè€Œ<code>interface</code>åªèƒ½è¡¨ç¤ºå¯¹è±¡ç±»å‹ï¼ˆåŒ…æ‹¬æ•°ç»„ã€å‡½æ•°ç­‰ï¼‰ã€‚</p><p>ï¼ˆ2ï¼‰<code>interface</code>å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»å‹ï¼Œ<code>type</code>ä¸æ”¯æŒç»§æ‰¿ã€‚</p><p>ï¼ˆ3ï¼‰åŒå<code>interface</code>ä¼šè‡ªåŠ¨åˆå¹¶ï¼ŒåŒå<code>type</code>åˆ™ä¼šæŠ¥é”™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒTypeScript ä¸å…è®¸ä½¿ç”¨<code>type</code>å¤šæ¬¡å®šä¹‰åŒä¸€ä¸ªç±»å‹ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://typescript.p6p.net/typescript-tutorial/types.html">é˜®ä¸€å³° TypeScript æ•™ç¨‹</a></li><li><a href="https://www.typescriptlang.org/">TypeScript å®˜æ–¹æ–‡æ¡£</a></li></ul><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ä»¥ä¸Šæ˜¯å¯¹ TS è¿›é˜¶ç±»å‹çš„åŸºæœ¬ä»‹ç»ï¼Œå†…å®¹ç›¸å¯¹äºåŸºç¡€ï¼Œå¯¹äºæ–°åŒå­¦æ¥è¯´æ¯”è¾ƒå‹å¥½ï¼Œåé¢æˆ‘ä¼šç»§ç»­æ›´æ–°è¿›é˜¶çŸ¥è¯†ï¼Œå…³äºç±»ã€æ³›å‹ã€Enum ç±»å‹ç­‰ç­‰ï¼Œå¯ä»¥æ”¶è—æœ¬ç«™ï¼Œæˆ‘ä¼šæŒç»­æ›´æ–°ã€‚</p><p>å·²å°†å­¦ä¹ ä»£ç ä¸Šä¼ è‡³ <a href="https://github.com/YangyangU/CodeSpace">github</a>ï¼Œæ¬¢è¿å¤§å®¶å­¦ä¹ æŒ‡æ­£ï¼</p>]]></content>
    
    
    <categories>
      
      <category>TypeScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TypeScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¿«é€Ÿä¸Šæ‰‹ TSï¼ˆåŸºç¡€ç±»å‹ç¯‡ï¼‰</title>
    <link href="/2024/07/02/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%20TS%EF%BC%88%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B%E7%AF%87%EF%BC%89/"/>
    <url>/2024/07/02/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%20TS%EF%BC%88%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B%E7%AF%87%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li><a href="https://juejin.cn/post/7383643463532953619">å¿«é€Ÿä¸Šæ‰‹ TSï¼ˆç¯å¢ƒç¯‡ï¼‰- æ˜é‡‘ (juejin.cn)</a></li></ul><p>ä¸Šä¸€ç¯‡ä¸­æˆ‘ä»‹ç»äº† TS ä»å®‰è£…åˆ°è¿è¡Œçš„ç¯å¢ƒé…ç½®ï¼Œå¸Œæœ›èƒ½å¤Ÿå¯¹ä½ å¸¦æ¥å¸®åŠ©ã€‚ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹ TS çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ï¼ŒTS çŸ¥è¯†å¯å¤šäº†ï¼Œä¸€ç¯‡æ–‡ç« å½“ç„¶ä¸èƒ½æ¶µç›–ï¼Œæ‰€ä»¥æˆ‘ä¼šå†™å¤šç¯‡æ–‡ç« è¿›è¡Œä»‹ç»ï¼Œå¸Œæœ›æˆ‘èƒ½åšæŒæ›´æ–°ï¼Œæ›´å¸Œæœ›ä½ èƒ½åšæŒçœ‹ä¸‹å»ï¼</p><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><p>ä½ åœ¨å†™ JS çš„æ—¶å€™æœ‰æ²¡æœ‰æƒ³è¿‡è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆ JS ä¸ç”¨å†™ç±»å‹ï¼Œä¸å†™ç±»å‹å¸¦æ¥çš„åæœæ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœä½ å°è¯•å†™è¿‡ä»»æ„ä¸€é—¨åç«¯è¯­è¨€ï¼Œä½ å°±ä¼šå‘ç°ï¼Œæ¯ä¸ªç±»å‹éƒ½æœ‰è‡ªå·±å£°æ˜çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä¸€å‘³çš„ letã€constï¼Œæ¢å¥è¯è¯´ï¼Œå¼±ç±»å‹ä¼šå¯¼è‡´ä»€ä¹ˆåæœï¼Ÿ</p><p>JS è®¾è®¡ä¹‹åˆçš„ç›®æ ‡æ˜¯æˆä¸ºä¸€ç§ç®€å•æ˜“ç”¨çš„è„šæœ¬è¯­è¨€ï¼Œèƒ½å¤Ÿè®©éä¸“ä¸šç¨‹åºå‘˜å¿«é€Ÿå­¦ä¹ ï¼Œå› æ­¤ï¼ŒJS éµå¾ªåŠ¨æ€ç±»å‹ç³»ç»Ÿï¼Œå¦‚æœä»£ç å‡ºç°é”™è¯¯ï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶æ‰èƒ½å‘ç°ï¼Œè€Œ TS è·Ÿä¸€äº›åç«¯è¯­è¨€ä¸€æ ·æä¾›çš„é™æ€ç±»å‹æ£€æµ‹ï¼Œèƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶å°±å‘ç°é”™è¯¯ï¼Œé¿å…ä¸€äº›ä¸å¿…è¦çš„å¤±è¯¯ã€‚</p><h3 id="ç±»å‹å£°æ˜"><a href="#ç±»å‹å£°æ˜" class="headerlink" title="ç±»å‹å£°æ˜"></a>ç±»å‹å£°æ˜</h3><p>TS å…è®¸æˆ‘ä»¬åœ¨ JS çš„åŸºç¡€ä¸Šå¯¹å˜é‡è¿›è¡Œå£°æ˜</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span>;<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä¸­ï¼ŒTS å…è®¸æˆ‘ä»¬åœ¨å£°æ˜çš„å˜é‡åé¢ç”¨<code>:</code>æ¥ç±»å‹ï¼Œè¡¨ç¤ºæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªä»€ä¹ˆç±»å‹çš„å˜é‡ã€‚</p><p>å¦‚æœä½ ç»™å˜é‡èµ‹çš„å€¼ä¸å±äºè¯¥ç±»å‹ï¼Œå°±ä¼šæŠ¥é”™</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-number">123</span>; <span class="hljs-comment">//æŠ¥é”™</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬æŠŠæ•°å­—<code>123</code>èµ‹ç»™ä¸€ä¸ªå£°æ˜ä¸º<code>string</code>çš„å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœå˜é‡åœ¨èµ‹å€¼ä¹‹å‰è¢«ä½¿ç”¨äº†ï¼Œä¹Ÿä¼šæŠ¥é”™</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str); <span class="hljs-comment">//æŠ¥é”™</span><br></code></pre></td></tr></table></figure><p>å¦‚æœåœ¨ JS ç¯å¢ƒåˆ™ä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯æ‰“å° <code>undefined</code></p><h3 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h3><p>ç±»å‹å£°æ˜ä¸æ˜¯å¿…é¡»çš„ï¼Œå› ä¸º TS å¯ä»¥æ ¹æ®ä½ çš„èµ‹å€¼æ¨æ–­å‡ºç±»å‹ï¼Œè¿™æ˜¯ TS æ¯”è¾ƒå‰å®³çš„ä¸€ç‚¹</p><p>å¦‚æœä½ æ­£å¸¸çš„åƒ</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> num = <span class="hljs-number">123</span>;<br></code></pre></td></tr></table></figure><p>ä½ æŠŠé¼ æ ‡æ”¾åˆ°ä¸Šé¢å°±èƒ½çœ‹åˆ°å®ƒè¢«æ¨æ–­å‡ºçš„ç±»å‹</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8916287c61914b15a727d482e6434583~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=259&h=96&s=4237&e=png&b=1f1f1f" alt="image.png" width="30%" /><p>å¦å¤–ï¼Œå®ƒè¿˜èƒ½æ¨æ–­å‡ºè¿”å›å€¼çš„ç±»å‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">fn</span> = (<span class="hljs-params"><span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Number</span>(str);<br>&#125;;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬åªéœ€è¦çŸ¥é“è¿™é‡Œç”¨ TS å£°æ˜äº†ä¸€ä¸ªå‡½æ•°ï¼ˆå…³äºå‡½æ•°å…·ä½“å¦‚ä½•å£°æ˜åé¢ä¼šè®²ï¼‰ï¼Œæ¥æ”¶ä¸€ä¸ª string ç±»å‹çš„å‚æ•° strï¼Œä½†æ˜¯æ²¡æœ‰å£°æ˜è¿”å›å€¼çš„ç±»å‹ï¼ŒTS è‡ªå·±æ¨æ–­å‡ºæ¥äº†</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e045d1f88e548c0885a85125fbd455f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=472&h=133&s=12681&e=png&b=1f1f1f" alt="image.png" width="50%" /><p>è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œç±»å‹å£°æ˜æ˜¯å¯é€‰çš„ï¼Œä½ å¯ä»¥åŠ ï¼Œä¹Ÿå¯ä»¥ä¸åŠ ï¼Œåªæ˜¯ä¸èƒ½ä¿è¯ TS ä¼šæ­£ç¡®æ¨æ–­å‡ºç±»å‹ã€‚</p><h2 id="ç±»å‹ç³»ç»Ÿ"><a href="#ç±»å‹ç³»ç»Ÿ" class="headerlink" title="ç±»å‹ç³»ç»Ÿ"></a>ç±»å‹ç³»ç»Ÿ</h2><p>TS ç»§æ‰¿äº† JS çš„ç±»å‹ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œå‡çº§ï¼Œå½¢æˆäº†ä¸€å¥—è‡ªå·±çš„ç±»å‹ç³»ç»Ÿ</p><h3 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h3><p>æˆ‘ä»¬çŸ¥é“ JS æœ‰ä¸ƒå¤§åŸºæœ¬ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼Œä¸‹é¢æˆ‘ä¼šå°†æ¯ä¸€ä¸ªç±»å‹éƒ½æ‹å‡ºæ¥è®²</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">123</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;123&quot;</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">flag</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">bigint</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-number">123n</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">symbol</span>: <span class="hljs-built_in">symbol</span> = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&quot;123&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-attr">un</span>: <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">nu</span>: <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;<br></code></pre></td></tr></table></figure><h4 id="number-ç±»å‹"><a href="#number-ç±»å‹" class="headerlink" title="number ç±»å‹"></a>number ç±»å‹</h4><p>number ç±»å‹åŒ…å«æ‰€æœ‰æ•´æ•°å’Œæµ®ç‚¹æ•°</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">123</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">3.14</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">z</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xffff</span>;<br></code></pre></td></tr></table></figure><h4 id="string-ç±»å‹"><a href="#string-ç±»å‹" class="headerlink" title="string ç±»å‹"></a>string ç±»å‹</h4><p>æ™®é€šå­—ç¬¦ä¸²å’Œæ¨¡æ¿å­—ç¬¦ä¸²éƒ½å±äº string ç±»å‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;hello&quot;</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">`<span class="hljs-subst">$&#123;x&#125;</span> world`</span>;<br></code></pre></td></tr></table></figure><h4 id="boolean-ç±»å‹"><a href="#boolean-ç±»å‹" class="headerlink" title="boolean ç±»å‹"></a>boolean ç±»å‹</h4><p>boolean ç±»å‹åªåŒ…å«<code>true</code>å’Œ<code>false</code>ï¼Œå°±æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure><h4 id="bigint-ç±»å‹"><a href="#bigint-ç±»å‹" class="headerlink" title="bigint ç±»å‹"></a>bigint ç±»å‹</h4><p>bigint ç±»å‹åŒ…å«æ‰€æœ‰çš„å¤§æ•´æ•°</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-number">123n</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-number">0xffffn</span>;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ bigint ä¸ number ç›¸äº’ä¸å…¼å®¹ï¼Œæ„æ€æ˜¯å½“ç»™ bigint ç±»å‹èµ‹å€¼ number æ—¶ä¼šæŠ¥é”™ï¼Œåè¿‡æ¥ä¹Ÿæ˜¯ã€‚</p><h4 id="symbol-ç±»å‹"><a href="#symbol-ç±»å‹" class="headerlink" title="symbol ç±»å‹"></a>symbol ç±»å‹</h4><p>symbol ç±»å‹åŒ…å«æ‰€æœ‰çš„ Symbol å€¼ï¼Œç”¨çš„è¾ƒå°‘ï¼Œå’±ä»¬å°±ä¸€ç¬”å¸¦è¿‡</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">symbol</span> = <span class="hljs-title class_">Symbol</span>();<br></code></pre></td></tr></table></figure><h4 id="undefined-å’Œ-null-ç±»å‹"><a href="#undefined-å’Œ-null-ç±»å‹" class="headerlink" title="undefined å’Œ null ç±»å‹"></a>undefined å’Œ null ç±»å‹</h4><p>å¦‚æœæ²¡æœ‰å£°æ˜ç±»å‹çš„å˜é‡ï¼Œè¢«èµ‹å€¼ä¸º<code>undefined</code>æˆ–<code>null</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒä»¬çš„ç±»å‹ä¼šè¢«æ¨æ–­ä¸º<code>any</code>ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> a = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// any</span><br><span class="hljs-keyword">const</span> b = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// any</span><br><br><span class="hljs-keyword">let</span> c = <span class="hljs-literal">null</span>; <span class="hljs-comment">// any</span><br><span class="hljs-keyword">const</span> d = <span class="hljs-literal">null</span>; <span class="hljs-comment">// any</span><br></code></pre></td></tr></table></figure><p>å¦‚æœå¸Œæœ›é¿å…è¿™ç§æƒ…å†µï¼Œåˆ™éœ€è¦æ‰“å¼€ç¼–è¯‘é€‰é¡¹<code>strictNullChecks</code>ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// æ‰“å¼€ç¼–è¯‘è®¾ç½® strictNullChecks</span><br><span class="hljs-keyword">let</span> a = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// undefined</span><br><span class="hljs-keyword">const</span> b = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// undefined</span><br><br><span class="hljs-keyword">let</span> c = <span class="hljs-literal">null</span>; <span class="hljs-comment">// null</span><br><span class="hljs-keyword">const</span> d = <span class="hljs-literal">null</span>; <span class="hljs-comment">// null</span><br></code></pre></td></tr></table></figure><p>å°†æ‰€æœ‰ç±»å‹éƒ½åˆ—å‡ºæ¥å¤§æ¦‚å°±è¿™ä¹ˆå¤šï¼Œçœ‹èµ·æ¥å¥½åƒè·Ÿ JS æ²¡å¤šå¤§å·®åˆ«ï¼Œå°±åŠ äº†ä¸ªç±»å‹å£°æ˜ç½¢äº†ï¼ŒçœŸçš„æ˜¯è¿™æ ·å—ï¼Œå’±ä»¬æ¥ç€å¾€ä¸‹çœ‹</p><h3 id="anyã€unknownã€never-ç±»å‹"><a href="#anyã€unknownã€never-ç±»å‹" class="headerlink" title="anyã€unknownã€never ç±»å‹"></a>anyã€unknownã€never ç±»å‹</h3><p>TS æ–°å¢äº† anyã€unknown å’Œ never ä¸‰ç§ç±»å‹ï¼Œåˆ†åˆ«æœ‰ç€ä¸åŒçš„åº”ç”¨åœºæ™¯</p><h4 id="any-ç±»å‹"><a href="#any-ç±»å‹" class="headerlink" title="any ç±»å‹"></a>any ç±»å‹</h4><p>any ç±»å‹çš„å˜é‡å¯ä»¥è¢«èµ‹ä¸ºä»»ä½•å€¼</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">any</span>;<br><br>x = <span class="hljs-number">1</span>;<br>x = <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>;<br>x = <span class="hljs-literal">true</span>;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªç±»å‹ä¸€èˆ¬ä¸æ¨èä½¿ç”¨ï¼Œå› ä¸º TS ä¸ä¼šå¯¹ any ç±»å‹çš„å˜é‡è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå³ä½¿æœ‰æ˜æ˜¾çš„ç±»å‹é”™è¯¯ï¼Œåªè¦å¥æ³•æ­£ç¡®ï¼Œéƒ½ä¸ä¼šæŠ¥é”™ã€‚æ„æ€ä½ å£°æ˜çš„ string ç±»å‹å˜é‡ç”šè‡³å¯ä»¥æ‹¿æ¥å½“å‡½æ•°ç»™è°ƒç”¨æ‰ï¼Œå¹¶ä¸”éƒ½ä¸ä¼šæŠ¥é”™ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">any</span> = <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>;<br><span class="hljs-title function_">x</span>(<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure><p>å¦‚æœæ¯ä¸ªå˜é‡ç±»å‹éƒ½æ˜¯ anyï¼Œå°±å¤±å»äº† TypeScript çš„æ„ä¹‰ï¼Œç›´æ¥å†™ JS å°±å¥½äº† ğŸ˜‚</p><h4 id="unknown-ç±»å‹"><a href="#unknown-ç±»å‹" class="headerlink" title="unknown ç±»å‹"></a>unknown ç±»å‹</h4><p><code>unknown</code>ç±»å‹çš„å˜é‡ï¼Œä¸èƒ½ç›´æ¥èµ‹å€¼ç»™å…¶ä»–ç±»å‹çš„å˜é‡ï¼ˆé™¤äº†<code>any</code>ç±»å‹å’Œ<code>unknown</code>ç±»å‹ï¼‰</p><p>é¿å…äº†æ±¡æŸ“é—®é¢˜</p><p>ä¸èƒ½ç›´æ¥è°ƒç”¨<code>unknown</code>ç±»å‹å˜é‡çš„æ–¹æ³•å’Œå±æ€§</p><p>å¯ä»¥èµ‹å€¼ç»™ä»»æ„å…¶ä»–ç±»å‹</p><h4 id="never-ç±»å‹"><a href="#never-ç±»å‹" class="headerlink" title="never ç±»å‹"></a>never ç±»å‹</h4><p>æ„ä¸ºç©ºç±»å‹ï¼Œä¸å¯èƒ½æœ‰è¿™æ ·çš„å€¼ï¼Œä¸å¯èƒ½èµ‹ç»™å®ƒä»»ä½•å€¼ï¼Œå¦åˆ™éƒ½ä¼šæŠ¥é”™ã€‚åé¢ä¼šç”¨äº¤å‰ç±»å‹è¿›è¡Œä¸¾ä¾‹</p><h3 id="å¯¹è±¡ç±»å‹"><a href="#å¯¹è±¡ç±»å‹" class="headerlink" title="å¯¹è±¡ç±»å‹"></a>å¯¹è±¡ç±»å‹</h3><p>åœ¨ JS ä¸­æˆ‘ä»¬å°†éåŸºæœ¬ç±»å‹çš„ç±»å‹ç»Ÿç§°ä¸ºå¯¹è±¡ç±»å‹ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬äº†å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ã€åŒ…è£…ç±»ã€æ­£åˆ™ç­‰ç­‰</p><h4 id="Object-ä¸-object-ç±»å‹"><a href="#Object-ä¸-object-ç±»å‹" class="headerlink" title="Object ä¸ object ç±»å‹"></a>Object ä¸ object ç±»å‹</h4><p>ä¸ºä»€ä¹ˆè¦åŒºåˆ†å¤§å°å†™å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å°† Object ç§°ä¸ºå¹¿ä¹‰ä¸Šçš„å¯¹è±¡ï¼Œå®ƒå›Šæ‹¬äº†å‡ ä¹æ‰€æœ‰çš„å€¼ï¼ŒåŸå§‹ç±»å‹å€¼ã€å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°éƒ½æ˜¯åˆæ³•çš„<code>Object</code>ç±»å‹ï¼Œé™¤äº†<code>undefined</code>å’Œ<code>null</code>ä¸èƒ½è½¬ä¸ºå¯¹è±¡</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>: <span class="hljs-title class_">Object</span>;<br><br>obj = <span class="hljs-literal">true</span>;<br>obj = <span class="hljs-string">&quot;hi&quot;</span>;<br>obj = <span class="hljs-number">1</span>;<br>obj = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-number">123</span> &#125;;<br>obj = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br>obj = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> a + <span class="hljs-number">1</span>;<br>obj = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// æŠ¥é”™</span><br>obj = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æŠ¥é”™</span><br></code></pre></td></tr></table></figure><p>è€Œå°å†™çš„ object å°±æ˜¯æˆ‘ä»¬ç‹­ä¹‰è¯´çš„å¯¹è±¡ï¼Œå³å¯ä»¥ç”¨å­—é¢é‡è¡¨ç¤ºçš„å¯¹è±¡ï¼ŒåªåŒ…å«å¯¹è±¡ã€æ•°ç»„å’Œå‡½æ•°ï¼Œä¸åŒ…æ‹¬åŸå§‹ç±»å‹çš„å€¼ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">object</span> = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-number">123</span> &#125;;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">object</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">const</span> <span class="hljs-attr">z</span>: <span class="hljs-built_in">object</span> = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> n + <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure><h4 id="åŒ…è£…ç±»å¯¹è±¡"><a href="#åŒ…è£…ç±»å¯¹è±¡" class="headerlink" title="åŒ…è£…ç±»å¯¹è±¡"></a>åŒ…è£…ç±»å¯¹è±¡</h4><p>ç”±äºåŒ…è£…å¯¹è±¡çš„å­˜åœ¨ï¼Œå¯¼è‡´æ¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼éƒ½æœ‰åŒ…è£…å¯¹è±¡å’Œå­—é¢é‡ä¸¤ç§æƒ…å†µã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-string">&quot;hello&quot;</span>; <span class="hljs-comment">// å­—é¢é‡</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">// åŒ…è£…ç±»å¯¹è±¡</span><br></code></pre></td></tr></table></figure><p>ä¸ºäº†è¿›è¡ŒåŒºåˆ†ï¼ŒTS å¯¹äº”ç§åŸå§‹ç±»å‹åˆ†åˆ«æä¾›äº†å¤§å†™å’Œå°å†™ä¸¤ç§ç±»å‹ã€‚</p><ul><li>Boolean å’Œ boolean</li><li>String å’Œ string</li><li>Number å’Œ number</li><li>BigInt å’Œ bigint</li><li>Symbol å’Œ symbol</li></ul><p>å¤§å†™ç±»å‹åŒæ—¶åŒ…å«åŒ…è£…å¯¹è±¡å’Œå­—é¢é‡ä¸¤ç§æƒ…å†µï¼Œå°å†™ç±»å‹åªåŒ…å«å­—é¢é‡ï¼Œä¸åŒ…å«åŒ…è£…å¯¹è±¡ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">s1</span>: <span class="hljs-title class_">String</span> = <span class="hljs-string">&quot;hello&quot;</span>; <span class="hljs-comment">// æ­£ç¡®</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">s2</span>: <span class="hljs-title class_">String</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">// æ­£ç¡®</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">s3</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;hello&quot;</span>; <span class="hljs-comment">// æ­£ç¡®</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">s4</span>: <span class="hljs-built_in">string</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">// æŠ¥é”™</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œ<code>String</code>ç±»å‹å¯ä»¥èµ‹å€¼ä¸ºå­—ç¬¦ä¸²çš„å­—é¢é‡ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ä¸ºåŒ…è£…å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œ<code>string</code>ç±»å‹åªèƒ½èµ‹å€¼ä¸ºå­—é¢é‡ï¼Œèµ‹å€¼ä¸ºåŒ…è£…å¯¹è±¡å°±ä¼šæŠ¥é”™ã€‚</p><h3 id="å€¼ç±»å‹"><a href="#å€¼ç±»å‹" class="headerlink" title="å€¼ç±»å‹"></a>å€¼ç±»å‹</h3><p>TS å…è®¸ä¸€ä¸ªå€¼æˆä¸ºä¸€ä¸ªç±»å‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">x</span>: <span class="hljs-string">&quot;hello&quot;</span> = <span class="hljs-string">&quot;hello&quot;</span>;<br></code></pre></td></tr></table></figure><p>ç”¨<code>const</code>å£°æ˜çš„å˜é‡ï¼Œå¦‚æœæ²¡æœ‰æ³¨æ˜ç±»å‹ï¼Œåˆ™ä¼šæŠŠå®ƒæ¨æ–­ä¸ºå€¼ç±»å‹</p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ffd019c1c25744bea099dad24fedd652~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=286&h=88&s=5528&e=png&b=1f1f1f" alt="image.png" width="30%" /><p>è€Œ<code>let</code>åˆ™ä¸ä¼š</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/05d2a56546814fd2b3121395ad2ec747~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=234&h=94&s=4604&e=png&b=1f1f1f" alt="image.png" width="30%" /><p>è¿™ä¸ªåŸå› æ˜¾è€Œæ˜“è§ï¼Œå› ä¸º<code>const</code>å£°æ˜çš„å˜é‡ä¸å¯ä¿®æ”¹ï¼Œå³å¸¸é‡ï¼Œä½†å¦‚æœå£°æ˜æ˜¯å¯¹è±¡çš„è¯ï¼Œé‚£å°±å¦å¤–è°ˆäº†ï¼Œå› ä¸ºå¯¹è±¡å­˜çš„æ˜¯åœ°å€ï¼Œå±æ€§å€¼å¯ä»¥æ”¹å˜ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šæ¨æ–­ä¸ºå€¼ç±»å‹ã€‚</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/06c5d56dd8c845f78aeb2dd3fd8b8ea5~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=373&h=191&s=9037&e=png&b=1e1e1e" alt="image.png" width="50%" /><h3 id="è”åˆç±»å‹"><a href="#è”åˆç±»å‹" class="headerlink" title="è”åˆç±»å‹"></a>è”åˆç±»å‹</h3><p>è”åˆç±»å‹æŒ‡çš„æ˜¯å¤šä¸ªç±»å‹ç»„æˆçš„ä¸€ä¸ªæ–°ç±»å‹ï¼Œä½¿ç”¨ç¬¦å·<code>|</code>æ‹¼æ¥ã€‚æˆ‘ä»¬çŸ¥é“<code>|</code>æ˜¯<code>æˆ–</code>çš„æ„æ€ï¼Œæ‰€ä»¥<code>A|B</code>çš„æ„æ€æ˜¯åªè¦å±äº<code>A</code>æˆ–<code>B</code>å…¶ä¸­ä¸€ä¸ªå°±è¡Œäº†ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>;<br><br>x = <span class="hljs-number">123</span>; <span class="hljs-comment">// æ­£ç¡®</span><br>x = <span class="hljs-string">&quot;abc&quot;</span>; <span class="hljs-comment">// æ­£ç¡®</span><br></code></pre></td></tr></table></figure><p>å½“è”åˆç±»å‹ä¸å€¼ç±»å‹ç»“åˆï¼Œå°±å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå˜é‡å¯èƒ½æœ‰å¤šä¸ªå€¼ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;çº¢&quot;</span> | <span class="hljs-string">&quot;é»„&quot;</span> | <span class="hljs-string">&quot;ç»¿&quot;</span>;<br></code></pre></td></tr></table></figure><h3 id="äº¤å‰ç±»å‹"><a href="#äº¤å‰ç±»å‹" class="headerlink" title="äº¤å‰ç±»å‹"></a>äº¤å‰ç±»å‹</h3><p>æœ‰<code>|</code>å½“ç„¶æœ‰<code>&amp;</code>ï¼Œä¸å‡ºæ‰€æ–™è¿™ä¸ªæ„æ€åº”è¯¥æ˜¯<code>ä¸</code>ã€‚<code>A&amp;B</code>è¡¨ç¤ºï¼Œä»»ä½•ä¸€ä¸ªç±»å‹å¿…é¡»åŒæ—¶å±äº<code>A</code>å’Œ<code>B</code>ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">z</span>: <span class="hljs-built_in">number</span> &amp; <span class="hljs-built_in">string</span>;<br></code></pre></td></tr></table></figure><p>ä»€ä¹ˆç±»å‹èƒ½å…¼å…·<code>number</code>å’Œ<code>string</code>ï¼Ÿ</p><p>å½“ç„¶æ˜¯ä¸å­˜åœ¨çš„ï¼ŒTS æ–°å¢äº†ä¸€ä¸ªç±»å‹è¡¨ç¤ºä¸å­˜åœ¨çš„<code>never</code>ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ç”¨å®ƒæ¥å£°æ˜</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1df706673b3a4e2a928eb67083144c21~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=271&h=99&s=5356&e=png&b=1f1f1f" alt="image.png" width="30%" /><p>äº¤å‰ç±»å‹çš„ä¸»è¦ç”¨é€”æ˜¯è¡¨ç¤ºå¯¹è±¡çš„åˆæˆã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">person</span>: &#123; <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> &#125; &amp; &#123; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> &#125;;<br><br>person = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">21</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://typescript.p6p.net/typescript-tutorial/types.html">é˜®ä¸€å³° TypeScript æ•™ç¨‹</a></li><li><a href="https://www.typescriptlang.org/">TypeScript å®˜æ–¹æ–‡æ¡£</a></li></ul><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ä»¥ä¸Šæ˜¯å¯¹ TS ç±»å‹çš„ç®€å•ä»‹ç»ï¼Œå¯¹äºæ–°åŒå­¦æ¥è¯´åº”è¯¥å¾ˆå®¹æ˜“å…¥æ‰‹ï¼Œåé¢æˆ‘ä¼šç»§ç»­æ›´æ–°è¿›é˜¶çŸ¥è¯†ï¼Œå…³äº typeã€å…ƒç¥–ã€æ¥å£ã€æ³›å‹ç­‰ç­‰ï¼Œæˆ‘ä¼šæŒç»­æ›´æ–°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>TypeScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TypeScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•å°†æäº¤è¯´æ˜ï¼ˆcommit messageï¼‰å¯¼å‡ºåˆ°æŒ‡å®šæ–‡ä»¶ï¼Ÿ</title>
    <link href="/2024/06/26/%E5%A6%82%E4%BD%95%E5%B0%86%E6%8F%90%E4%BA%A4%E8%AF%B4%E6%98%8E%EF%BC%88commit%20message%EF%BC%89%E5%AF%BC%E5%87%BA%E5%88%B0%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6/"/>
    <url>/2024/06/26/%E5%A6%82%E4%BD%95%E5%B0%86%E6%8F%90%E4%BA%A4%E8%AF%B4%E6%98%8E%EF%BC%88commit%20message%EF%BC%89%E5%AF%BC%E5%87%BA%E5%88%B0%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å…¬å¸é‡Œæ€»ä¼šæœ‰ä¸€äº›æœ‰è¶£çš„éœ€æ±‚ï¼Œè¿™ä¸ï¼Œmentorï¼šâ€œä½ å»è°ƒç ”ä¸€ä¸‹ï¼Œçœ‹æ€ä¹ˆæŠŠ commit æäº¤è¯´æ˜å¯¼å‡ºåˆ°ä¸€ä¸ª txt æ–‡ä»¶é‡Œï¼Œæ¡ç›®çš„è¯æœ€å¥½å¯ä»¥æŒ‡å®šï¼Œåç»­æˆ‘ä»¬â€¦â€¦â€ã€‚åˆšå¼€å§‹æ¥åˆ°è¿™ä¸ªä»»åŠ¡è¿˜æ˜¯æŒºå¿™è’™çš„ï¼Œç½‘ä¸Šåº”è¯¥æœ‰è¿™ä¸ªåŠŸèƒ½çš„ç¬¬ä¸‰æ–¹åŒ…å§ï¼Ÿä½†æ˜¯åœ¨æˆ‘æŸ¥è¯¢å¤šæ–¹èµ„æ–™ï¼Œå‘ç° Git çœŸ ğŸ‚ï¼Œå“ªéœ€è¦ä»€ä¹ˆç¬¬ä¸‰æ–¹åŒ…ï¼</p><p>æˆ‘åœ¨ä¸€ä¸ª git å­¦ä¹ çš„ç½‘ç«™çœ‹åˆ°è¿™å¥è¯çœŸç»·ä¸ä½ï¼Œèµ¶ç´§è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/841eec7d5078487ebc2f15ba3a5a8756~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=842&h=130&s=15474&e=png&b=fefefe" alt="image.png" width="70%" /><p>å‡å¦‚æˆ‘çœŸçš„å­¦å®Œäº† 16 ç« çš„å†…å®¹ï¼Œç„¶åä½ è·Ÿæˆ‘è¯´è¿˜æ²¡å…¥é—¨ï¼Ÿè¿™æˆ‘å­¦é›†è´¸å•Š ğŸ˜‚ã€‚</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d9d7c8aae7eb4f68b6268f1ec3c72adf~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=321&h=737&s=36251&e=png&b=fefefe" alt="image.png" width="30%" /><p>è¡Œäº†ï¼Œé—²è¯å°‘è¯´ï¼Œæˆ‘ä»¬æ­¥å…¥æ­£é¢˜ï¼Œå¼€å§‹ä»Šå¤©çš„åˆ†äº«ã€‚</p><h2 id="æ‹¿åˆ°æäº¤è¯´æ˜"><a href="#æ‹¿åˆ°æäº¤è¯´æ˜" class="headerlink" title="æ‹¿åˆ°æäº¤è¯´æ˜"></a>æ‹¿åˆ°æäº¤è¯´æ˜</h2><p>æˆ‘ä»¬å¦‚æœæƒ³æŸ¥çœ‹<code>commit</code>çš„å†…å®¹ï¼Œå¯ä»¥<code>git show</code>æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºæœ€æ–°æäº¤çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½œè€…ã€æ—¥æœŸã€æäº¤è¯´æ˜å’Œæ¯ä¸ªæ–‡ä»¶çš„å˜æ›´å†…å®¹ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/08cabde444e440018e9a95c357768b6d~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=665&h=294&s=21106&e=png&b=1e1e1e" alt="image.png"></p><p>ä½†æ˜¯è¿™é‡Œåªèƒ½å±•ç¤ºæœ€æ–°æäº¤ï¼Œè€Œæˆ‘ä»¬çš„éœ€æ±‚æ˜¯å¯ä»¥æŒ‡å®šæ¡ç›®çš„ commit æäº¤è¯´æ˜ï¼Œè€Œè¿™é‡Œåªæ˜¾ç¤ºä¸€æ¡ï¼Œæ˜¾ç„¶ä¸æ»¡è¶³éœ€æ±‚ã€‚</p><p>ç„¶ååˆæ‰¾åˆ°<code>git log</code>ï¼Œå…è®¸æˆ‘ä»¬æŸ¥çœ‹ git ä»“åº“çš„æäº¤å†å²ï¼Œå®ƒä¼šæŒ‰ç…§æ—¶é—´é¡ºåºåˆ—å‡ºæäº¤è®°å½•ï¼Œå¹¶å¯ä»¥æ˜¾ç¤ºæäº¤çš„å“ˆå¸Œå€¼ã€ä½œè€…ã€æ—¥æœŸã€æäº¤ä¿¡æ¯ç­‰ä¿¡æ¯ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a5de345be0e492b8e76588ff5ac604e~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=693&h=376&s=27111&e=png&b=1e1e1e" alt="image.png"></p><p>è¿™ä¸æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„å—ï¼Œçœ‹çœ‹æ€ä¹ˆå•ç‹¬æ‹¿åˆ°æäº¤è¯´æ˜ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b4a6454cd0d4d609d35f1b35ece3f57~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=674&h=200&s=29029&e=png&b=fbfbf8" alt="image.png"></p><p><a href="https://git-scm.com/book/en/v2/Git-Basics-Viewing-the-Commit-History">git æ–‡æ¡£</a>ä¸­æåˆ°äº†<code>--pretty</code>è¿™ä¸ªé€‰é¡¹ï¼Œå®ƒå…è®¸æ—¥å¿—è¾“å‡ºé»˜è®¤æ ¼å¼ä»¥å¤–çš„æ ¼å¼ï¼å¦‚æœæˆ‘å¯ä»¥å°†è¾“å‡ºåªæ˜¾ç¤ºæäº¤è¯´æ˜é‚£ä¸æ˜¯ç¾å“‰ï¼Œäºæ˜¯æˆ‘ç»§ç»­çœ‹æ–‡æ¡£ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b1719fc5f89d4d4fa885d63a6f3e7628~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=671&h=230&s=24282&e=png&b=f7f6f5" alt="image.png"></p><p>ç„¶åé€‰é¡¹å€¼ä¸º<code>format</code>æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŒ‡å®šè¾“å‡ºæ ¼å¼ï¼Œå®ƒæä¾›ä¸€äº›å ä½ç¬¦å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰è¾“å‡ºï¼Œæ–‡æ¡£ä¸­ä¹Ÿå¯¹æ¯ä¸ªå ä½è¿›è¡Œåˆ—ä¸¾ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1064fd81ccbc41e6bfb34f69fff7a85f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=440&h=773&s=30905&e=png&b=fcfcfa" alt="image.png"></p><p>å…¶ä¸­<code>%s</code>å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„æäº¤è¯´æ˜ï¼Œè¯•è¯•çœ‹ï¼</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1fd5492cbdcd4ab485408e2778e7ad4e~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=387&h=139&s=6332&e=png&b=1e1e1e" alt="image.png"></p><p>æœç„¶æˆåŠŸæ‹¿åˆ°ï¼æˆå°±æ„Ÿçˆ†æ£šäº†ã€‚</p><h2 id="å¯¼å‡ºåˆ°æŒ‡å®šæ–‡ä»¶"><a href="#å¯¼å‡ºåˆ°æŒ‡å®šæ–‡ä»¶" class="headerlink" title="å¯¼å‡ºåˆ°æŒ‡å®šæ–‡ä»¶"></a>å¯¼å‡ºåˆ°æŒ‡å®šæ–‡ä»¶</h2><p>æˆ‘ä»¬ç¦»æˆåŠŸåªå·®ä¸€æ­¥ï¼Œç°åœ¨æˆ‘ä»¬åªæ˜¯åœ¨ç»ˆç«¯çœ‹åˆ°ç»“æœï¼Œæ€ä¹ˆå°†ç»ˆç«¯çš„æ•°æ®å¯¼åˆ°æœ¬åœ°æ–‡ä»¶å‘¢ï¼Ÿ</p><p>git æœ‰ä¸€ä¸ªæ‰“åŒ…æ–‡ä»¶çš„æ–¹æ³•<code>git archive</code>ï¼Œè¿™ä¸ªå‘½ä»¤æœ¬èº«å¹¶ä¸æ”¯æŒåŒ…å«æäº¤è¯´æ˜å­—æ®µçš„åŠŸèƒ½ã€‚å®ƒä¸»è¦ç”¨äºå°†æŒ‡å®šçš„æäº¤ã€åˆ†æ”¯æˆ–æ ‡ç­¾çš„ä»£ç æ‰“åŒ…æˆå½’æ¡£æ–‡ä»¶ï¼Œä¸»è¦å…³æ³¨ä»£ç æœ¬èº«è€Œéæäº¤å†å²ï¼Œè€Œä¸åŒ…å« Git ä»“åº“çš„å…ƒæ•°æ®ï¼ˆå¦‚æäº¤å†å²ã€æäº¤è¯´æ˜ç­‰ï¼‰ï¼Œæ‰€ä»¥è¡Œä¸é€šã€‚</p><p>æŸ¥äº†ä¸€äº›èµ„æ–™ï¼Œå‘ç°å·²ç»ç”¨ä¸ç€ Git äº†ï¼Œæ—¢ç„¶æ˜¯åœ¨æ§åˆ¶å°æ˜¾ç¤ºï¼Œé‚£æˆ‘å°±ç”¨æ§åˆ¶å°çš„æ–¹æ³•å‘—ã€‚</p><h3 id="é‡å®šå‘æ“ä½œç¬¦-ï¼Œ"><a href="#é‡å®šå‘æ“ä½œç¬¦-ï¼Œ" class="headerlink" title="é‡å®šå‘æ“ä½œç¬¦&gt;ï¼Œ&gt;&gt;"></a>é‡å®šå‘æ“ä½œç¬¦<code>&gt;</code>ï¼Œ<code>&gt;&gt;</code></h3><p>åœ¨å¤§å¤šæ•°å‘½ä»¤è¡Œç¯å¢ƒä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>&gt;</code>å°†æ§åˆ¶å°è¾“å‡ºä¿å­˜åˆ°æ–‡ä»¶ä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span> &gt; log.txt<br></code></pre></td></tr></table></figure><p>è¿™è¡Œå‘½ä»¤å°†ä¼šæŠŠæˆ‘ä»¬çš„æ—¥å¿—ä¿å­˜åˆ°å½“å‰ç›®å½•ä¸‹çš„<code>log.txt</code>æ–‡ä»¶ä¸­ï¼Œå¦‚æœå·²ç»å­˜åœ¨<code>log.txt</code>æ–‡ä»¶åˆ™ä¼šè¿›è¡Œè¦†ç›–æ“ä½œã€‚</p><p>è€Œ<code>&gt;&gt;</code>åˆ™ä¼šå°†è¾“å‡ºè¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾ï¼Œè€Œä¸è¦†ç›–åŸæœ‰å†…å®¹ã€‚</p><h3 id="PowerShell-è„šæœ¬"><a href="#PowerShell-è„šæœ¬" class="headerlink" title="PowerShell è„šæœ¬"></a>PowerShell è„šæœ¬</h3><p>å¦‚æœä½ ä½¿ç”¨ PowerShellï¼Œä¹Ÿå¯ä»¥é€šè¿‡è„šæœ¬æ¥æ‰§è¡Œ Git å‘½ä»¤å¹¶å°†è¾“å‡ºè¿›è¡Œä¿å­˜</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">git log | <span class="hljs-built_in">Out-File</span> <span class="hljs-literal">-FilePath</span> log.txt<br></code></pre></td></tr></table></figure><hr><p>å› ä¸ºæˆ‘æ˜¯ç”¨ VScodeï¼Œå®ƒè‡ªå¸¦çš„å°±æ˜¯ PowerShellï¼Œæ‰€ä»¥å°±ç”¨ PowerShell è„šæœ¬ç»™å¤§å®¶è¿›è¡Œå±•ç¤º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span> --pretty=format:<span class="hljs-string">&quot;%s&quot;</span> | Out-File -FilePath commit_messages.txt<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œå‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å½“å‰ç›®å½•ä¸‹çœ‹åˆ°æ–°ç”Ÿæˆçš„<code>commit_messages.txt</code>æ–‡ä»¶ã€‚</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04482d43ef534b0893bb07858a5d6e02~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=391&h=411&s=39493&e=png&b=1e1e1e" alt="image.png" width="50%" /><p>å½“å½“ï¼ŒæˆåŠŸå¯¼å…¥ txt æ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°æ–‡ä»¶é‡Œçš„ä¸­æ–‡å…¨æ˜¯ä¹±ç ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ</p><h2 id="è§£å†³ä¸­æ–‡ä¹±ç "><a href="#è§£å†³ä¸­æ–‡ä¹±ç " class="headerlink" title="è§£å†³ä¸­æ–‡ä¹±ç "></a>è§£å†³ä¸­æ–‡ä¹±ç </h2><p><strong>1. åœ¨å¯¼å‡ºçš„æ—¶å€™æ˜ç¡®ç¼–ç </strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span> --pretty=format:<span class="hljs-string">&quot;%s&quot;</span> | Out-File -FilePath commit_messages.txt -Encoding utf8<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯å‘ç°å¹¶ä¸å¥æ•ˆ</p><p><strong>2. è®¾ç½® Git è¾“å‡ºç¼–ç </strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global i18n.logOutputEncoding gb2312<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘å°† git è¾“å‡ºçš„ç¼–ç æ ¼å¼æ”¹ä¸º gb2312ï¼Œå†æ¬¡æ‰§è¡Œå¯¼å‡ºæ“ä½œï¼Œå‘ç°ä¹±ç æ¶ˆå¤±ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f0b2830415434d2788d899f0ad0cf3ea~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=324&h=355&s=27528&e=png&b=1e1e1e" alt="image.png"></p><h2 id="æŒ‡å®šè¾“å‡ºæ¡ç›®å’Œæ ¼å¼"><a href="#æŒ‡å®šè¾“å‡ºæ¡ç›®å’Œæ ¼å¼" class="headerlink" title="æŒ‡å®šè¾“å‡ºæ¡ç›®å’Œæ ¼å¼"></a>æŒ‡å®šè¾“å‡ºæ¡ç›®å’Œæ ¼å¼</h2><p>ç°åœ¨æˆ‘ä»¬æƒ³å®ç°è¾“å‡ºæœ€æ–°çš„ 20 æ¡æ•°æ®ï¼Œå¹¶ä¸”æ ‡ä¸Šåºå·ï¼ˆå¦‚<code>1.</code>ï¼‰</p><p>æƒ³è¦æŒ‡å®šæ¡ç›®ï¼Œæˆ‘ä»¬åªéœ€åŠ ä¸Š<code>-n + æ•°å­—</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span> -n 20<br></code></pre></td></tr></table></figure><p>è¿™é‡Œè¡¨ç¤ºæŒ‡å®šè¾“å‡ºæœ€æ–°çš„ 20 æ¡æ—¥å¿—ä¿¡æ¯</p><p>åŠ ä¸Šåºå·çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ï¼Œç„¶åå¯¹æ¯è¡Œå†…å®¹è¿›è¡Œæ‹¼æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-variable">$counter</span> = 1<br>git <span class="hljs-built_in">log</span> -n 20 --pretty=format:<span class="hljs-string">&quot;%s&quot;</span> | ForEach-Object &#123;<br>    <span class="hljs-string">&quot;<span class="hljs-variable">$counter</span>. <span class="hljs-variable">$_</span>&quot;</span> | Out-File -FilePath commit_messages.txt -Append<br>    <span class="hljs-variable">$counter</span>++<br>&#125;<br></code></pre></td></tr></table></figure><p><code>$counter = 1</code>åˆå§‹åŒ–ä¸€ä¸ªè®¡æ•°å™¨ï¼Œåˆå§‹å€¼ä¸º 1</p><p><code>ForEach-Object&#123;&#125;</code>æ˜¯å¯¹è¾“å‡ºçš„æ¯ä¸€æ¡è¿›è¡Œå•ç‹¬çš„æ“ä½œï¼Œè¿™é‡Œè¿›è¡Œæ‹¼æ¥æ“ä½œ</p><p><code>-Append</code>å°†å†…å®¹è¿½åŠ åˆ°æ–‡æœ«ï¼Œè€Œä¸æ˜¯è¦†ç›–</p><p><strong>æœ€ç»ˆæ•ˆæœ</strong></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a4e44519d6f84090991db1aa63ffc250~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=671&h=605&s=65520&e=png&b=1e1e1e" alt="image.png"></p><hr><p>è°ƒç ”å®Œï¼Œä¸å‡ºæ„å¤–çš„å°±è¦å‡ºæ„å¤–äº†â€¦â€¦</p><p>mentorï¼šä½ ç°åœ¨å†è°ƒç ”ä¸€ä¸‹ç„¶åå®ç°ä¸¤ç§æ–¹å¼ï¼š</p><p>å¯ä»¥æŒ‡å®šåˆ°å…·ä½“æ›´æ–°äº†å¤šå°‘å†…å®¹ï¼Œæ¯”å¦‚è¯´å¯èƒ½æœ‰ä¸¤ç§æƒ…å†µï¼šç”¨ tag è¿›è¡ŒåŒºåˆ†ï¼Œä¸Šæ¬¡çš„ tag åˆ°æœ¬æ¬¡ tag ä¹‹é—´çš„ commit messagesï¼Œå¯¹è¿™ä¸ªåŒºé—´è¿›è¡Œå¯¼å‡ºï¼›å¦ä¸€ç§æƒ…å†µå°±æ˜¯ï¼Œæ‹‰ä¸€ä¸ªæ–°åˆ†æ”¯è¿›è¡Œå¼€å‘ï¼Œæ–°åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤åˆ°ä¸»åˆ†ä¸»çš„æœ€åä¸€æ¬¡æäº¤ï¼Œè¿™ä¸ªåŒºé—´è¿›è¡Œå¯¼å‡ºã€‚</p><p>è¿™äº›æˆ‘ä»¬åæœŸä¼šé’ˆå¯¹ä¸åŒçš„åœºæ™¯è¿›è¡Œå®æ–½â€¦â€¦</p><h2 id="ä¸€äº›å‰é©±çŸ¥è¯†"><a href="#ä¸€äº›å‰é©±çŸ¥è¯†" class="headerlink" title="ä¸€äº›å‰é©±çŸ¥è¯†"></a>ä¸€äº›å‰é©±çŸ¥è¯†</h2><h3 id="åŒºé—´ç¬¦"><a href="#åŒºé—´ç¬¦" class="headerlink" title="åŒºé—´ç¬¦.."></a>åŒºé—´ç¬¦..</h3><p><code>..</code>å…è®¸æˆ‘ä»¬æŒ‡å®šè¾“å‡ºçš„åŒºé—´</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span> master..HEAD<br></code></pre></td></tr></table></figure><p>è¾“å‡ºä» master çš„æœ€æ–°æäº¤åˆ°å½“å‰é¡¹ç›®çš„ HEAD</p><h3 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="^æ“ä½œç¬¦"></a>^æ“ä½œç¬¦</h3><p><code>^</code> æ“ä½œç¬¦ç”¨äºæŒ‡å®šçˆ¶æäº¤</p><p>çˆ¶æäº¤æŒ‡ä¸€ä¸ªæäº¤çš„ä¸Šä¸€ä¸ªæäº¤ã€‚æ¯ä¸ªæäº¤éƒ½æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçˆ¶æäº¤ï¼Œå…·ä½“å–å†³äºå®ƒæ˜¯æ™®é€šæäº¤è¿˜æ˜¯åˆå¹¶æäº¤ã€‚</p><h4 id="æ™®é€šæäº¤"><a href="#æ™®é€šæäº¤" class="headerlink" title="æ™®é€šæäº¤"></a>æ™®é€šæäº¤</h4><p>å¯¹äºæ™®é€šæäº¤ï¼Œæ¯ä¸ªæäº¤åªæœ‰ä¸€ä¸ªçˆ¶æäº¤ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">A</span>-<span class="hljs-attr">--B---C---D</span><br></code></pre></td></tr></table></figure><ul><li>æäº¤ <code>D</code> çš„çˆ¶æäº¤æ˜¯ <code>C</code>ã€‚</li><li>æäº¤ <code>C</code> çš„çˆ¶æäº¤æ˜¯ <code>B</code>ã€‚</li><li>æäº¤ <code>B</code> çš„çˆ¶æäº¤æ˜¯ <code>A</code>ã€‚</li></ul><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼š</p><ul><li><code>D^</code> æˆ– <code>D^1</code> è¡¨ç¤ºæäº¤ <code>D</code> çš„çˆ¶æäº¤ <code>C</code>ã€‚</li></ul><h4 id="åˆå¹¶æäº¤"><a href="#åˆå¹¶æäº¤" class="headerlink" title="åˆå¹¶æäº¤"></a>åˆå¹¶æäº¤</h4><p>åˆå¹¶æäº¤æ˜¯æŒ‡å°†ä¸¤ä¸ªæˆ–å¤šä¸ªåˆ†æ”¯åˆå¹¶åœ¨ä¸€èµ·æ—¶äº§ç”Ÿçš„æäº¤ã€‚åˆå¹¶æäº¤æœ‰ä¸¤ä¸ªæˆ–æ›´å¤šçš„çˆ¶æäº¤ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">A</span>-<span class="hljs-attr">--B---C---E</span>  (<span class="hljs-selector-tag">main</span>)<br>     \     /<br>      D-<span class="hljs-attr">--F</span>   (feat-test)<br></code></pre></td></tr></table></figure><ul><li><p>æäº¤ <code>E</code> æ˜¯ä¸€ä¸ªåˆå¹¶æäº¤ï¼Œåˆå¹¶äº† <code>feat-test</code> åˆ° <code>main</code>ã€‚</p></li><li><p>æäº¤ <code>E</code> æœ‰ä¸¤ä¸ªçˆ¶æäº¤ï¼š</p><ul><li>ç¬¬ä¸€ä¸ªçˆ¶æäº¤ <code>C</code>ï¼Œè¡¨ç¤º <code>main</code> åˆ†æ”¯åœ¨åˆå¹¶å‰çš„æœ€åä¸€ä¸ªæäº¤ã€‚</li><li>ç¬¬äºŒä¸ªçˆ¶æäº¤ <code>F</code>ï¼Œè¡¨ç¤º <code>feat-test</code> çš„æœ€åä¸€ä¸ªæäº¤ã€‚</li></ul></li></ul><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼š</p><ul><li><code>E^1</code> è¡¨ç¤ºæäº¤ <code>E</code> çš„ç¬¬ä¸€ä¸ªçˆ¶æäº¤ <code>C</code>ã€‚</li><li><code>E^2</code> è¡¨ç¤ºæäº¤ <code>E</code> çš„ç¬¬äºŒä¸ªçˆ¶æäº¤ <code>F</code>ã€‚</li></ul><p>ææ¸…æ¥šè¿™äº›ï¼Œé‚£æˆ‘ä»¬çš„å·¥ä½œå°±å¥½å¼€å±•äº†</p><h2 id="ä½¿ç”¨-Tag-è¿›è¡ŒåŒºé—´å¯¼å‡º"><a href="#ä½¿ç”¨-Tag-è¿›è¡ŒåŒºé—´å¯¼å‡º" class="headerlink" title="ä½¿ç”¨ Tag è¿›è¡ŒåŒºé—´å¯¼å‡º"></a>ä½¿ç”¨ Tag è¿›è¡ŒåŒºé—´å¯¼å‡º</h2><p>å‡è®¾ä½ æœ‰ä¸¤ä¸ª tagï¼Œåˆ†åˆ«ä¸º <code>v1.0</code> å’Œ <code>v2.0</code>ï¼Œä½ æƒ³å¯¼å‡ºè¿™ä¸¤ä¸ª tag ä¹‹é—´çš„ commit messages</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-variable">$counter</span> = 1<br>git <span class="hljs-built_in">log</span> v1.0..v2.0 --pretty=format:<span class="hljs-string">&quot;%s&quot;</span> | ForEach-Object &#123;<br>    <span class="hljs-string">&quot;<span class="hljs-variable">$counter</span>. <span class="hljs-variable">$_</span>&quot;</span> | Out-File -FilePath commit_messages.txt -Append<br>    <span class="hljs-variable">$counter</span>++<br>&#125;<br></code></pre></td></tr></table></figure><p><code>v1.0..v2.0</code>å°±å¯ä»¥æŒ‡å®šä¸¤ä¸ª tag ä¹‹é—´</p><h2 id="ä»æ–°åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤åˆ°ä¸»åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤"><a href="#ä»æ–°åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤åˆ°ä¸»åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤" class="headerlink" title="ä»æ–°åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤åˆ°ä¸»åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤"></a>ä»æ–°åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤åˆ°ä¸»åˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤</h2><p>å‡è®¾ä½ æœ‰ä¸€ä¸ªæ–°åˆ†æ”¯ <code>feat-test</code> å’Œä¸»åˆ†æ”¯ <code>main</code>ï¼Œè¿™ç§å°±è¦åˆ†æƒ…å†µäº†ï¼Œå¯èƒ½æ˜¯åˆå¹¶å‰ä¹Ÿå¯èƒ½æ˜¯åˆå¹¶å</p><h3 id="åˆå¹¶å‰"><a href="#åˆå¹¶å‰" class="headerlink" title="åˆå¹¶å‰"></a>åˆå¹¶å‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#åˆå¹¶å‰</span><br><span class="hljs-variable">$counter</span> = 1<br>git <span class="hljs-built_in">log</span> main..feat-test --pretty=format:<span class="hljs-string">&quot;%s&quot;</span> | ForEach-Object &#123;<br>    <span class="hljs-string">&quot;<span class="hljs-variable">$counter</span>. <span class="hljs-variable">$_</span>&quot;</span> | Out-File -FilePath commit_messages.txt -Append<br>    <span class="hljs-variable">$counter</span>++<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åˆå¹¶å"><a href="#åˆå¹¶å" class="headerlink" title="åˆå¹¶å"></a>åˆå¹¶å</h3><p>åˆå¹¶åçš„è¯åªéœ€è¦å°†å¼€å§‹æŒ‡å‘åˆå¹¶å‰çš„æœ€åä¸€æ¬¡æäº¤ï¼Œä¸å°±æ˜¯ main çš„ç¬¬ä¸€ä¸ªçˆ¶æäº¤å—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span> main^..HEAD<br></code></pre></td></tr></table></figure><p>over</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://stackoverflow.com/questions/10330425/how-do-i-export-a-git-log-to-a-text-file">How do I export a Git log to a text file?</a></li><li><a href="https://git-scm.com/docs">Git å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://b1f6c1c4.gitbook.io/learn-git-the-super-hard-way">learn-git-the-super-hard-way</a></li></ul><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å·²å°†å­¦ä¹ ä»£ç ä¸Šä¼ è‡³ <a href="https://github.com/YangyangU/CodeSpace">github</a>ï¼Œæ¬¢è¿å¤§å®¶å­¦ä¹ æŒ‡æ­£ï¼</p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¿«é€Ÿä¸Šæ‰‹ TSï¼ˆç¯å¢ƒç¯‡ï¼‰</title>
    <link href="/2024/06/24/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%20TS%EF%BC%88%E7%8E%AF%E5%A2%83%E7%AF%87%EF%BC%89/"/>
    <url>/2024/06/24/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%20TS%EF%BC%88%E7%8E%AF%E5%A2%83%E7%AF%87%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ol><li><a href="https://juejin.cn/post/7377320107929829388">åªä¼š Vue çš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™ React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ</a></li><li><a href="https://juejin.cn/post/7379157261426655273">åªä¼š Vueï¼Œå¿«é€Ÿä¸Šæ‰‹ Reactï¼ˆReact Router ç¯‡ï¼‰</a></li></ol><p>åœ¨å‰é¢ä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘åˆ†äº«äº†è‡ªå·±ä» Vue è½¬ React çš„å¿ƒå¾—ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼Œä»Šå¤©å†ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹å¦‚ä½•æ­å»º TS çš„å­¦ä¹ ç¯å¢ƒã€‚</p><h2 id="ä¸ºä»€ä¹ˆè¦å­¦ä¹ -TS"><a href="#ä¸ºä»€ä¹ˆè¦å­¦ä¹ -TS" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å­¦ä¹  TS"></a>ä¸ºä»€ä¹ˆè¦å­¦ä¹  TS</h2><p>ä»é“ºå¤©ç›–åœ°çš„ TS æ•™ç¨‹ï¼Œåˆ° Vue3 è¢« TS é‡å†™ï¼Œç§ç§è¿¹è±¡å°±å¯ä»¥è§å¾— TS çš„åœ°ä½è¶Šæ¥è¶Šé‡ï¼ŒTS ç»™æˆ‘ä»¬å¼€å‘åˆ°åº•å¸¦æ¥äº†ä»€ä¹ˆï¼Ÿç”¨ JS å°±ä¸è¡Œå—ï¼Ÿ</p><p>TS çš„é™æ€ç±»å‹ç³»ç»Ÿå…è®¸æˆ‘ä»¬åœ¨å¼€å‘é˜¶æ®µå°±å¯ä»¥å‘ç°é”™è¯¯ï¼Œé€šè¿‡æ˜¾ç¤ºç±»å‹æ³¨è§£å’Œç±»å‹æ¨æ–­ï¼Œè®©æˆ‘ä»¬åœ¨å›¢é˜Ÿå¼€å‘ä¸­åä½œï¼ŒTS å¼•å…¥é¢å‘å¯¹è±¡ç¼–ç¨‹ç‰¹æ•ˆï¼Œæ¥å£æ³›å‹è®©æˆ‘ä»¬å¯ä»¥å†™æ›´ ğŸ‘ çš„ä»£ç ã€‚</p><h2 id="TS-å’Œ-JS-çš„å…³ç³»"><a href="#TS-å’Œ-JS-çš„å…³ç³»" class="headerlink" title="TS å’Œ JS çš„å…³ç³»"></a>TS å’Œ JS çš„å…³ç³»</h2><p>ä¸€å¥è¯è§£é‡Šå°±æ˜¯ TS æ˜¯ JS çš„è¶…é›†ã€‚</p><p>TS ä¸ Cã€Java ç­‰ä¼—å¤šåç«¯è¯­è¨€ç±»ä¼¼ï¼Œéƒ½éœ€è¦å…ˆå¯¹ä»£ç è¿›è¡Œç¼–è¯‘æ‰èƒ½è¿è¡Œã€‚å…·ä½“æ¥è¯´ï¼ŒTS ä¼šå°†ä»£ç ç¼–è¯‘æˆæµè§ˆå™¨æˆ–è€… Node èƒ½å¤Ÿè¯»æ‡‚çš„ JS ä»£ç ã€‚æ¯æ¬¡è¿è¡Œ TS ä»£ç ï¼Œé¦–å…ˆéœ€è¦é€šè¿‡ tsc å°†å…¶ç¼–è¯‘æˆ JS æ–‡ä»¶ï¼Œå¯èƒ½ä¼šç”Ÿæˆä¸æ­¢ä¸€ä¸ª JS æ–‡ä»¶ã€‚ç„¶åï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿåˆ©ç”¨ TS æä¾›çš„é«˜çº§ç‰¹æ€§æ¥ç¼–å†™ä»£ç ï¼ŒåŒæ—¶ç¡®ä¿æœ€ç»ˆç”Ÿæˆçš„ JS ä»£ç ä»ç„¶èƒ½å¤ŸæˆåŠŸè¿è¡Œã€‚</p><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="å®‰è£…-TS"><a href="#å®‰è£…-TS" class="headerlink" title="å®‰è£… TS"></a>å®‰è£… TS</h3><p>TS æ”¯æŒå…¨å±€å®‰è£…å’Œæœ¬åœ°å®‰è£…ï¼Œå…¨å±€é¡¾åæ€ä¹‰å°±æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„æ§åˆ¶å°è¿è¡Œ TSï¼Œé€‚åˆä¸ªäººå¼€å‘é…ç½®ã€‚è€Œæœ¬åœ°å®‰è£…åˆ™æ›´é€‚ç”¨äºå›¢é˜Ÿå¼€å‘ï¼Œç¡®ä¿é¡¹ç›®ä¸­ä½¿ç”¨ç›¸åŒç‰ˆæœ¬çš„ TSã€‚</p><h4 id="å…¨å±€å®‰è£…"><a href="#å…¨å±€å®‰è£…" class="headerlink" title="å…¨å±€å®‰è£…"></a>å…¨å±€å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm i typescript -g<br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•ï¼Œç°åœ¨æ§åˆ¶å°å…è®¸æˆ‘ä»¬ä½¿ç”¨ ts ç¼–è¯‘å™¨ï¼Œæ‰§è¡Œ tsc å‘½ä»¤ï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹ TS ç‰ˆæœ¬ï¼Œå¦‚æœå¯ä»¥çœ‹åˆ°ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tsc -v<br></code></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d96e0282663d48bea7ea3396119af66b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=271&h=37&s=2623&e=png&b=1e1e1e" alt="image.png"></p><h4 id="æœ¬åœ°å®‰è£…"><a href="#æœ¬åœ°å®‰è£…" class="headerlink" title="æœ¬åœ°å®‰è£…"></a>æœ¬åœ°å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm i --save-dev typescript<br></code></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ npx æ¥è¿è¡Œ TS ç¼–è¯‘å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npx tsc -v<br></code></pre></td></tr></table></figure><p>åŒæ ·ï¼Œå¦‚æœå¯ä»¥çœ‹åˆ° ts ç‰ˆæœ¬ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸ</p><h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><p>åœ¨è¿è¡Œ TS ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç›®å½•è¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ª<code>tsconfig.json</code>é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tsc --init<br></code></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04a56ebd53724658bd1cd70ec938995f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=669&h=227&s=11860&e=png&b=1e1e1e" alt="image.png"><br><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f310e1e5007b464094d4caec62ae12b6~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=207&h=68&s=2742&e=png&b=252526" alt="image.png"></p><h4 id="é…ç½®æ–‡ä»¶è¯´æ˜"><a href="#é…ç½®æ–‡ä»¶è¯´æ˜" class="headerlink" title="é…ç½®æ–‡ä»¶è¯´æ˜"></a>é…ç½®æ–‡ä»¶è¯´æ˜</h4><p><code>tsconfig.json</code>é¡¾åæ€ä¹‰å…è®¸æˆ‘ä»¬å¯¹ TS è¿›è¡Œé…ç½®ï¼Œå…¶ä¸­ä¸€äº›é‡è¦çš„é…ç½®é¡¹</p><p>ä¸€ä¸ªå…¸å‹çš„<code>tsconfig.json</code>æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">// ç¼–è¯‘é€‰é¡¹</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;include&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-comment">// åŒ…å«çš„æ–‡ä»¶æˆ–ç›®å½•</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;exclude&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-comment">// æ’é™¤çš„æ–‡ä»¶æˆ–ç›®å½•</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;files&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-comment">// éœ€è¦ç¼–è¯‘çš„ç‰¹å®šæ–‡ä»¶</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><code>compilerOptions</code>å¯ä»¥é…ç½® TS ç¼–è¯‘å™¨è¡Œä¸ºï¼Œå¸¸ç”¨é…ç½®é¡¹åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;target&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;es2016&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//æŒ‡å®šç¼–è¯‘åä»£ç çš„ESç‰ˆæœ¬</span><br><span class="hljs-attr">&quot;module&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;commonjs&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//æŒ‡å®šç”Ÿæˆçš„æ¨¡å—ç³»ç»Ÿ</span><br><span class="hljs-attr">&quot;strict&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//å¼€å¯ä¸¥æ ¼æ¨¡å¼</span><br><span class="hljs-attr">&quot;outDir&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//æŒ‡å®šç¼–è¯‘åçš„æ–‡ä»¶è¾“å‡ºçš„ç›®å½•</span><br><span class="hljs-attr">&quot;jsx&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;react&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//æŒ‡å®šJSXä»£ç çš„ç¼–è¯‘æ–¹å¼</span><br><span class="hljs-attr">&quot;allowJs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>  <span class="hljs-comment">//å…è®¸ç¼–è¯‘JSæ–‡ä»¶</span><br></code></pre></td></tr></table></figure><p>å…¶å®è¿™äº›åœ¨<code>tsconfig.json</code>æ–‡ä»¶éƒ½æœ‰æ³¨è§£ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šèµ˜è¿°</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7c1714b0fcce4285adb4b4e7b88dd828~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1268&h=409&s=76064&e=png&b=1e1e1e" alt="image.png"></p><h3 id="è¿è¡Œä»£ç "><a href="#è¿è¡Œä»£ç " class="headerlink" title="è¿è¡Œä»£ç "></a>è¿è¡Œä»£ç </h3><p>é¦–å…ˆæˆ‘ä»¬åœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>.ts</code>æ–‡ä»¶ï¼Œåœ¨é‡Œé¢ä¹¦å†™æˆ‘ä»¬éœ€è¦è¿è¡Œçš„ä»£ç ã€‚</p><p>ğŸ™‹â€â™€ï¸ğŸŒ° åˆ›å»ºä¸€ä¸ª ts æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">//1.ts</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">nickname</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(nickname);<br></code></pre></td></tr></table></figure><p>æ¥ç€æˆ‘ä»¬åœ¨æ§åˆ¶å°è¾“å…¥<code>tsc</code>å‘½ä»¤ï¼Œç›®å½•ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ JS æ–‡ä»¶</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/306dca1cb3054ddc9ea339aa6e58230b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=286&h=41&s=2761&e=png&b=1e1e1e" alt="image.png"><br><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1cd21a3abacd432f85a0028156f0784b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=148&h=89&s=2641&e=png&b=252526" alt="image.png"></p><p>tsc å°† ts æ–‡ä»¶ç¼–è¯‘æˆäº† js æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//1.js</span><br><span class="hljs-meta">&quot;use strict&quot;</span>;<br><span class="hljs-keyword">let</span> nickname = <span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(nickname);<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯æ¯å½“æˆ‘ä»¬ä¿®æ”¹ TS ä»£ç åˆéœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡<code>tsc</code>ï¼Œå¾ˆéº»çƒ¦ï¼ŒTS æä¾›äº†ä¸€ä¸ªæŒ‡ä»¤<code>tsc --watch</code>ï¼ˆç®€å†™<code>tsc -w</code>ï¼‰æ‰§è¡Œè¿™æ®µå‘½ä»¤åï¼Œç¼–è¯‘å™¨ä¼šæŒç»­ç›‘å¬æ–‡ä»¶å†…å®¹çš„å˜åŒ–ï¼Œç„¶åæ›´æ–°ç¼–è¯‘åçš„ JS æ–‡ä»¶ï¼Œå°±ä¸ç”¨æ¯æ¬¡æ‰‹åŠ¨ç¼–è¯‘ã€‚</p><p>æ‹¿åˆ°ç¼–è¯‘å¥½çš„ JS æ–‡ä»¶ï¼Œæˆ‘ä»¬æ‰§è¡Œ node å‘½ä»¤è¿è¡Œè¿™ä¸ªç¼–è¯‘åçš„æ–‡ä»¶å³å¯ã€‚</p><h4 id="ä¸‰æ–¹è¿è¡Œå·¥å…·"><a href="#ä¸‰æ–¹è¿è¡Œå·¥å…·" class="headerlink" title="ä¸‰æ–¹è¿è¡Œå·¥å…·"></a>ä¸‰æ–¹è¿è¡Œå·¥å…·</h4><p>å¦‚æœä½ è§‰å¾—ä»¥ä¸Šè¿è¡Œæ–¹å¼å¤ªå¤æ‚äº†ï¼Œä½ å¯ä»¥å®‰è£…ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œè¿™é‡Œæˆ‘ä»‹ç»ä¸¤ç§ï¼Œå¦‚æœæœ‰å¥½ç”¨çš„ï¼Œæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºåˆ†äº«ï¼</p><h5 id="ts-node"><a href="#ts-node" class="headerlink" title="ts-node"></a>ts-node</h5><p>åœ¨æ§åˆ¶å°è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm i ts-node -g<br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•åï¼Œåœ¨æ§åˆ¶å°è¾“å…¥å‘½ä»¤<code>ts-node</code>åŠ æ–‡ä»¶åå³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ts-node 1.ts<br></code></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/54151bf579ea40688ef039e8964d451f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=326&h=37&s=2526&e=png&b=1e1e1e" alt="image.png"></p><h5 id="Code-Runner"><a href="#Code-Runner" class="headerlink" title="Code Runner"></a>Code Runner</h5><p>è¿˜æœ‰ä¸€ä¸ªæ˜¯ VScode ä¸­çš„ä¸€ä¸ªæ’ä»¶</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/94ee9c12eae8425f9698d6617f8d6897~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=629&h=149&s=16670&e=png&b=1e1e1e" alt="image.png"></p><p>å®‰è£…å®Œè¿™ä¸ªæ’ä»¶æˆ‘ä»¬ç›´æ¥åœ¨æ–‡ä»¶å³ä¸Šè§’ç‚¹å‡»è¿è¡Œå³å¯</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a0a12dbad54144cf947eecd5024c7e6b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=806&h=144&s=13264&e=png&b=1e1e1e" alt="image.png"></p><p>è¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨è¾“å‡ºçª—å£çœ‹åˆ°ä»£ç è¿è¡Œç»“æœ</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab6912e2e2b94dfb9b71817610908034~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=601&h=118&s=14971&e=png&b=1e1e1e" alt="image.png"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»¥ä¸Šå°±æ˜¯ã€Šå¿«é€Ÿä¸Šæ‰‹ TSï¼ˆç¯å¢ƒç¯‡ï¼‰ã€‹çš„å…¨éƒ¨å†…å®¹äº†ï¼Œå¦‚æœä½ ä¹Ÿå¯¹ TS æ„Ÿå…´è¶£ï¼Œå¯ä»¥å…³æ³¨åŠ ä¸‰è¿ï¼ŒåæœŸæˆ‘ä¼šç»§ç»­æ›´æ–° TS çš„ç›¸å…³çŸ¥è¯†ã€‚</p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å·²å°†å­¦ä¹ ä»£ç ä¸Šä¼ è‡³ <a href="https://github.com/YangyangU/CodeSpace">github</a>ï¼Œæ¬¢è¿å¤§å®¶å­¦ä¹ æŒ‡æ­£ï¼</p>]]></content>
    
    
    <categories>
      
      <category>TypeScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TypeScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åªä¼šVueï¼Œå¿«é€Ÿä¸Šæ‰‹Reactï¼ˆReact Routerç¯‡ï¼‰</title>
    <link href="/2024/06/12/%E5%8F%AA%E4%BC%9AVue%EF%BC%8C%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BReact%EF%BC%88React%20Router%E7%AF%87%EF%BC%89/"/>
    <url>/2024/06/12/%E5%8F%AA%E4%BC%9AVue%EF%BC%8C%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BReact%EF%BC%88React%20Router%E7%AF%87%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨ä¸Šæ–‡ä¸­ï¼ˆ<a href="https://juejin.cn/post/7377320107929829388">åªä¼š Vue çš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™ React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ</a>ï¼‰ï¼Œæˆ‘ä»¬è®²è¿°äº† React ä»é¡¹ç›®åˆ›å»ºåˆ°å¦‚ä½•å®ç°è‡ªå®šä¹‰ Hooks ï¼Œæ¯”è¾ƒååŸºç¡€ï¼Œä»Šå¤©è¿™ç¯‡æ–‡ç« å°†å¸¦å¤§å®¶å­¦ä¹  React Routerã€‚</p><h2 id="React-Router"><a href="#React-Router" class="headerlink" title="React Router"></a>React Router</h2><p>å¦‚æœä½ å¯¹ Vue Router æœ‰äº†è§£çš„è¯ï¼Œé‚£ä¹ˆ React Router è‚¯å®šä¹Ÿä¸åœ¨è¯ä¸‹ï¼Œå› ä¸ºä»–ä»¬å®åœ¨å¤ªç›¸ä¼¼äº†ã€‚æˆ‘ä»¬çŸ¥é“å‰ç«¯è·¯ç”±æ˜¯ä¸€ä¸ªåœ¨å•é¡µåº”ç”¨ä¸­ç®¡ç†ä¸åŒé¡µé¢çš„å¯¼èˆªï¼Œæ— éœ€å‘æœåŠ¡å™¨å‘é€è¯·æ±‚é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚å³ä¸€ä¸ª<code>path</code>å¯¹åº”ä¸€ä¸ª<code>component</code>ã€‚æ‰€ä»¥ Router åœ¨ä¸ç®¡æ˜¯ Vue è¿˜æ˜¯ React äº¦æˆ–æ˜¯ Angular éƒ½æ˜¯å‰ç«¯å•é¡µåº”ç”¨ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>é€‰æ‹©è‡ªå·±å–œæ¬¢çš„åŒ…ç®¡ç†å·¥å…·ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„å®‰è£…çš„æ˜¯ <code>react-router-dom</code>ï¼Œåé¢æœ‰ä¸ª domï¼Œè·Ÿ <code>react-dom</code> ä¸€ä¸ªé“ç†ï¼ŒReact Router åº“åˆ†ä¸ºå¤šä¸ªåŒ…ï¼Œå…¶ä¸­<code>react-router-dom</code>æ˜¯ä¸“é—¨ç”¨äºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œ React çš„è·¯ç”±æ–¹æ¡ˆï¼Œé€‚åˆ Web å¼€å‘ã€‚å¦‚æœæ˜¯ç§»åŠ¨ç«¯å¼€å‘åº”è¯¥ç”¨<code>react-router-native</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install react-router-dom<br></code></pre></td></tr></table></figure><h3 id="è·¯ç”±æ¨¡å¼"><a href="#è·¯ç”±æ¨¡å¼" class="headerlink" title="è·¯ç”±æ¨¡å¼"></a>è·¯ç”±æ¨¡å¼</h3><p>æˆ‘ä»¬çŸ¥é“åœ¨ Vue ä¸­æœ‰ä¸¤ç§è·¯ç”±æ¨¡å¼ History è·Ÿ Hash æ¨¡å¼ï¼ŒReact åŒæ ·ã€‚ä¸‹è¡¨æ˜¯æˆ‘å¯¹è¿™ä¸¤è€…çš„ç®€å•å¯¹æ¯”ï¼Œæƒ³å¿…å¤§å®¶èƒŒå…«è‚¡çš„æ—¶å€™å°±å·²ç»ç†Ÿè®°äºå¿ƒäº†ã€‚</p><table><thead><tr><th>æ¨¡å¼</th><th>url</th><th>åŸç†</th><th>åç«¯æ”¯æŒ</th></tr></thead><tbody><tr><td>history</td><td>url&#x2F;login</td><td>history å¯¹è±¡ + pushState äº‹ä»¶</td><td>éœ€è¦</td></tr><tr><td>hash</td><td>url&#x2F;#&#x2F;login</td><td>hashChange äº‹ä»¶</td><td>ä¸éœ€è¦</td></tr></tbody></table><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p>ä¸»è¦æ–‡ä»¶ç›®å½•å¦‚ä¸‹</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs lua">src/<br>|<span class="hljs-comment">-- pages/</span><br>|   |<span class="hljs-comment">-- Login.jsx</span><br>|   |<span class="hljs-comment">-- About.jsx</span><br>|<span class="hljs-comment">-- router/</span><br>|   |<span class="hljs-comment">-- index.jsx</span><br>|<span class="hljs-comment">-- App.jsx</span><br>|<span class="hljs-comment">-- main.jsx</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸€èˆ¬éƒ½åœ¨<code>src</code>ä¸‹æ–°å»ºç›®å½•<code>router</code>ï¼Œç„¶ååœ¨<code>index.jsx</code>ä¸­åˆ›å»ºè·¯ç”±ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// router/index.jsx</span><br><span class="hljs-keyword">import</span> &#123; createBrowserRouter &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Login&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/views/Home&quot;</span>;<br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([<br>  <span class="hljs-comment">//åˆ›å»º history è·¯ç”±</span><br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/home&quot;</span>,<br>    <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span>,<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/login&quot;</span>,<br>    <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>,<br>  &#125;,<br>]);<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure><p><code>react-router-dom</code>æä¾›<code>createBrowserRouter</code>API è·Ÿ Vue Router æä¾›çš„<code>createWebHistory</code>ä¸€æ ·ï¼Œå…è®¸æˆ‘ä»¬åˆ›å»º History æ¨¡å¼è·¯ç”±ï¼ŒHash æ¨¡å¼ React ä¸ Vue åˆ†åˆ«å¯¹åº”<code>createHashRouter</code>ä¸<code>createWebHashHistory</code>ï¼Œå¦‚æœè®°æ··äº†å¯ä»¥è‡ªè¡ŒæŸ¥æ–‡æ¡£ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// app.jsx</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./App.css&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">RouterProvider</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./router&quot;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">&#123;router&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">RouterProvider</span>&gt;</span></span>;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p>åˆ›å»ºå¥½äº†å°±è¯¥ä½¿ç”¨äº†ï¼Œåœ¨ Vue ä¸­æ˜¯ç›´æ¥åœ¨<code>main.js</code>ä¸­ App æ ¹ç»„ä»¶ç›´æ¥<code>use</code>æ‰ï¼Œè€Œåœ¨ React ä¸­åˆ™æœ‰æ‰€ä¸åŒï¼Œ React Router ä¸“é—¨æä¾›ä¸€ä¸ªç»„ä»¶ <code>RouterProvider</code>ï¼Œç”¨äºå°†è·¯ç”±é…ç½®ä¼ é€’ç»™åº”ç”¨ã€‚å®ƒæ¥å—ä¸€ä¸ª<code>router</code>propï¼Œè¯¥ prop æ˜¯åœ¨åˆšåˆšåˆ›å»ºçš„è·¯ç”±å®ä¾‹ã€‚</p><h3 id="å¯¼èˆªè·³è½¬"><a href="#å¯¼èˆªè·³è½¬" class="headerlink" title="å¯¼èˆªè·³è½¬"></a>å¯¼èˆªè·³è½¬</h3><h4 id="å£°æ˜å¼å¯¼èˆª"><a href="#å£°æ˜å¼å¯¼èˆª" class="headerlink" title="å£°æ˜å¼å¯¼èˆª"></a>å£°æ˜å¼å¯¼èˆª</h4><p>é€šè¿‡åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨<code>&lt;Link /&gt;</code>ç»„ä»¶ï¼Œé€šè¿‡<code>to</code>å±æ€§æŒ‡å®šè¦è·³è½¬çš„è·¯å¾„ï¼Œè·Ÿ Vue çš„<code>router-link</code>å¾ˆç±»ä¼¼ï¼Œ</p><p>ğŸŒ° ç°åœ¨æˆ‘ä»¬è¦å®ç°ä»ç™»å½•é¡µè·³è½¬è‡³é¦–é¡µï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Link</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Login</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      Login</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home&quot;</span>&gt;</span>è·³è½¬è‡³é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Login</span>;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å…ˆæ‰‹åŠ¨å»åˆ°<code>/login</code>è·¯å¾„ã€‚</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a6feb8ec6848414e84874849c93a663c~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=657&h=364&s=25231&e=gif&f=6&b=fefefe" alt="GIF 2024-6-12 10-42-24.gif" width="50%" /><h4 id="ç¼–ç¨‹å¼å¯¼èˆª"><a href="#ç¼–ç¨‹å¼å¯¼èˆª" class="headerlink" title="ç¼–ç¨‹å¼å¯¼èˆª"></a>ç¼–ç¨‹å¼å¯¼èˆª</h4><p>é€šè¿‡<code>useNavigate</code>é’©å­æ‹¿åˆ°å¯¼èˆªæ–¹æ³•ï¼Œå†é€šè¿‡è°ƒç”¨å‘½ä»¤å¼è¿›è¡Œè·³è½¬ã€‚ç±»ä¼¼äº Vue çš„<code>router.push()</code></p><p>ğŸŒ° ä¸€æ ·çš„åœºæ™¯:</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; useNavigate &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Login</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> navigate(&quot;/home&quot;)&#125;&gt;è·³è½¬<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Login</span>;<br></code></pre></td></tr></table></figure><p>é€šè¿‡äº‹ä»¶é©±åŠ¨è·³è½¬ï¼Œæ›´åŠ çµæ´»ã€‚</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8f6cfd379e4b4af28cedbeccd34e2914~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=620&h=402&s=15187&e=gif&f=4&b=fefefe" alt="GIF 2024-6-12 10-51-15.gif" width="50%" /><h3 id="å¯¼èˆªä¼ å‚"><a href="#å¯¼èˆªä¼ å‚" class="headerlink" title="å¯¼èˆªä¼ å‚"></a>å¯¼èˆªä¼ å‚</h3><p>React æä¾›äº†ä¸¤ä¸ªé’©å­å…è®¸æˆ‘ä»¬è¿›è¡Œå¯¼èˆªä¼ å‚ã€‚</p><h4 id="useSearchParams-ä¼ å‚"><a href="#useSearchParams-ä¼ å‚" class="headerlink" title="useSearchParams ä¼ å‚"></a>useSearchParams ä¼ å‚</h4><p>è¿™é‡Œæˆ‘ä»¬åœ¨ Login é¡µé¢è¿›è¡Œè·³è½¬ï¼Œå¹¶ç”¨<code>?</code>+<code>å‚æ•°å</code>&#x3D;<code>å‚æ•°</code>æ‹¼æ¥ï¼Œå¤šä¸ªå‚æ•°ç”¨<code>&amp;</code>æ‹¼æ¥ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// login.jsx</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; useNavigate &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Login</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> navigate(&quot;/home?id=1&amp;name=yangyang&quot;)&#125;&gt;</span><br><span class="language-xml">        è·³è½¬ä¼ å‚</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Login</span>;<br></code></pre></td></tr></table></figure><p><code>useSearchParams</code>è¿è¡Œæˆ‘ä»¬è§£æ„å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†æ‰€æœ‰é€šè¿‡<code>?</code>åçš„å‚æ•°</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// home.jsx</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; useSearchParams &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [params] = <span class="hljs-title function_">useSearchParams</span>();<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(params);<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>id:&#123;params.get(&quot;id&quot;)&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>name:&#123;params.get(&quot;name&quot;)&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Home</span>;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬æ‰“å° params å¯¹è±¡çœ‹çœ‹</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70e2dac1326f474990f1a4f45d64c293~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=931&h=692&s=98095&e=png&b=ffffff" alt="image.png" width="70%" /><p>å®ƒæ˜¯ä¸€ä¸ª<code>URLSearchParams</code> å¯¹è±¡ï¼ŒåŒ…å«äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>get</code>æ–¹æ³•æŸ¥è¯¢å‚æ•°</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f193eca1b6147709683f5f511bfeab0~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=975&h=431&s=59017&e=gif&f=10&b=fefefe" alt="GIF 2024-6-12 12-16-59.gif" width="50%" /><h4 id="useParams"><a href="#useParams" class="headerlink" title="useParams"></a>useParams</h4><p>è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯åœ¨ Login é¡µé¢è¿›è¡Œè·³è½¬ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨è·¯å¾„åé¢ç»§ç»­æ¥<code>/</code>+<code>å‚æ•°</code>ï¼Œ</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// login.jsx</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; useNavigate &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Login</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> navigate(&quot;/home/1/yangyang&quot;)&#125;&gt;è·³è½¬ä¼ å‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Login</span>;<br></code></pre></td></tr></table></figure><p>ä¸ä»…å¦‚æ­¤ï¼Œè¿˜éœ€è¦ä¿®æ”¹<code>router</code>é…ç½®ï¼Œå°†è¡¥å…¨<code>path</code>ç”¨<code>:</code>+<code>å‚æ•°å</code>ï¼Œè¿™æ ·æ‰èƒ½ä¸€ä¸€åŒ¹é…ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/home/:id/:name&#x27;</span>,<br>    <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span>,<br>&#125;,<br></code></pre></td></tr></table></figure><p>æœ€åï¼Œåœ¨ Home é¡µé¢æ¥æ”¶å‚æ•°ï¼Œè°ƒç”¨<code>useParams</code>å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„æ¯ä¸ªå±æ€§å°±æ˜¯æˆ‘ä»¬ä¼ é€’çš„å‚æ•°</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// home.jsx</span><br><span class="hljs-keyword">import</span> &#123; useParams &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> params = <span class="hljs-title function_">useParams</span>();<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(params);<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>id:&#123;params.id&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>name:&#123;params.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Home</span>;<br></code></pre></td></tr></table></figure><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1cf0aba3e4f04eb2a44b825b255ab089~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=930&h=146&s=15495&e=png&b=ffffff" alt="image.png" width="70%" /><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/122da242b0d642c8a54c722b65722c58~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=819&h=431&s=22894&e=gif&f=3&b=fefefe" alt="GIF 2024-6-12 12-30-26.gif" width="50%" /><h3 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h3><p>è·Ÿ Vue ä¸€æ ·ï¼ŒReact åŒæ ·å…è®¸ä½ åœ¨ä¸€ä¸ªè·¯ç”±ç»„ä»¶çš„<code>children</code>å±æ€§ä¸­é…ç½®å­è·¯ç”±ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// router/index.js</span><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/home&quot;</span>,<br>    <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span>,<br>    <span class="hljs-attr">children</span>: [<br>      &#123;<br>        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//é»˜è®¤äºŒçº§è·¯ç”±</span><br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;board&quot;</span>,<br>        <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Board</span> /&gt;</span></span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;about&quot;</span>,<br>        <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">About</span> /&gt;</span></span>,<br>      &#125;,<br>    ],<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/login&quot;</span>,<br>    <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>,<br>  &#125;,<br>]);<br></code></pre></td></tr></table></figure><p>äºŒçº§è·¯ç”±çš„<code>path</code>å¦‚æœä¸å†™<code>/</code>ï¼Œä¼šé»˜è®¤æ‹¼æ¥åœ¨çˆ¶çº§è·¯ç”±åé¢ï¼Œé…ç½®<code>index:true</code>è¡¨ç¤ºé»˜è®¤æ˜¾ç¤ºè¯¥è·¯ç”±ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// home.js</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Outlet</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;board&quot;</span>&gt;</span>é¢æ¿<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>|<span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;about&quot;</span>&gt;</span>å…³äº<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Home</span>;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šè¿‡<code>Link</code>ç»„ä»¶è¿›è¡Œè·³è½¬ï¼Œ<code>Outlet</code>ç»„ä»¶æ˜¯äºŒçº§è·¯ç”±çš„å‡ºå£ï¼Œä½ å®šä¹‰åœ¨å“ªï¼Œé‚£ä¹ˆç»„ä»¶å°±ä¼šåœ¨å“ªæ˜¾ç¤ºï¼Œè·Ÿ Vue çš„<code>router-view</code>ç±»ä¼¼ã€‚</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7dea9a7b1b404ce2883e79efc33d5304~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=719&h=437&s=38430&e=gif&f=16&b=fefefe" alt="GIF 2024-6-12 15-00-00.gif" width="50%" /><h3 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="headerlink" title="æ‡’åŠ è½½"></a>æ‡’åŠ è½½</h3><p>React æä¾›äº†<code>React.lazy</code>å’Œ<code>Suspense</code>ç»„ä»¶æ¥å®ç°æ‡’åŠ è½½ã€‚<code>React.lazy</code>ç”¨äºå®šä¹‰æ‡’åŠ è½½çš„ç»„ä»¶ï¼Œ<code>Suspense</code>ç”¨äºåœ¨ç»„ä»¶åŠ è½½æ—¶æ˜¾ç¤ºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; createBrowserRouter &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-router-dom&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Suspense</span>, lazy &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Home</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&quot;@/pages/Home&quot;</span>));<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Login</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&quot;@/pages/Login&quot;</span>));<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Board</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&quot;@/pages/Board&quot;</span>));<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">About</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&quot;@/pages/About&quot;</span>));<br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/login&quot;</span>,<br>    <span class="hljs-attr">element</span>: (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">&#123;</span>&quot;<span class="hljs-attr">åŠ è½½ä¸­</span>&quot;&#125;&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span><br>    ),<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/home&quot;</span>,<br>    <span class="hljs-attr">element</span>: (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">&#123;</span>&quot;<span class="hljs-attr">åŠ è½½ä¸­</span>&quot;&#125;&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span><br>    ),<br>    <span class="hljs-attr">children</span>: [<br>      &#123;<br>        <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;board&quot;</span>,<br>        <span class="hljs-attr">element</span>: (<br>          <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">&#123;</span>&quot;<span class="hljs-attr">åŠ è½½ä¸­</span>&quot;&#125;&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Board</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span><br>        ),<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;about&quot;</span>,<br>        <span class="hljs-attr">element</span>: (<br>          <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">&#123;</span>&quot;<span class="hljs-attr">åŠ è½½ä¸­</span>&quot;&#125;&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">About</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span><br>        ),<br>      &#125;,<br>    ],<br>  &#125;,<br>]);<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;<br></code></pre></td></tr></table></figure><p>é€šè¿‡å¥—ä¸€å±‚<code>lazy</code>å°±å¯ä»¥å®ç°æ‡’åŠ è½½ï¼Œ<code>Suspense</code>æä¾› loading å†…å®¹ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä¸ç®¡æ˜¯ Vue è¿˜æ˜¯ React ï¼Œå‰ç«¯è·¯ç”±çš„å¤§è‡´ç†å¿µéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¦‚æœçŸ¥é“ä¸€ä¸ªï¼Œå¾ˆå®¹æ˜“èæ±‡è´¯é€šã€‚è¿˜æ˜¯é‚£å¥è¯ï¼Œå¤šçœ‹æ–‡æ¡£ï¼Œå¤šæ•²ä»£ç ï¼Œå¤šå®è·µï¼</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://zh-hans.react.dev/learn">React-ä¸­æ–‡å®˜ç½‘</a></li><li><a href="https://reactrouter.com/en/main/start/overview">React-Router-å®˜ç½‘</a></li></ul><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å·²å°†å­¦ä¹ ä»£ç ä¸Šä¼ è‡³ <a href="https://github.com/YangyangU/CodeSpace">github</a>ï¼Œæ¬¢è¿å¤§å®¶å­¦ä¹ æŒ‡æ­£ï¼</p>]]></content>
    
    
    <categories>
      
      <category>React</category>
      
    </categories>
    
    
    <tags>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åªä¼šVueçš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ</title>
    <link href="/2024/06/07/%E5%8F%AA%E4%BC%9A%E4%B8%8A%E7%8F%AD%E7%AC%AC%E4%B8%80%E5%A4%A9%E5%B0%B1%E8%A6%81%E6%88%91%E5%86%99ReactTS%E6%98%AF%E7%A7%8D/"/>
    <url>/2024/06/07/%E5%8F%AA%E4%BC%9A%E4%B8%8A%E7%8F%AD%E7%AC%AC%E4%B8%80%E5%A4%A9%E5%B0%B1%E8%A6%81%E6%88%91%E5%86%99ReactTS%E6%98%AF%E7%A7%8D/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><strong>åªä¼š Vue çš„æˆ‘ï¼Œä¸Šç­ç¬¬ä¸€å¤©å°±è¦æˆ‘å†™ React+TSï¼Œæ˜¯ç§ä»€ä¹ˆæ ·çš„ä½“éªŒï¼Ÿ</strong></p><p>å…¥èŒç¬¬ä¸€å¤©ï¼Œåå…¬äº¤æ¥åˆ°æŒ‡å®šæŠ¥é“å¤„ï¼Œæ‹¿å·æ’é˜Ÿå‡†å¤‡åŠç†å…¥èŒï¼Œæ‹¿è£…å¤‡å»å·¥ä½ï¼Œè®¤è¯† Leader è·Ÿ Mentorï¼Œè‡ªå·±çœ‹æ–‡æ¡£è£…ç¯å¢ƒï¼Œå±è‚¡éƒ½æ²¡åçƒ­ï¼Œmentor å°±é—®æˆ‘æŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆï¼Œæˆ‘è¯´ Vueï¼Œä»–åˆé—® React ç”¨è¿‡å—ï¼Ÿæˆ‘å¼€å§‹æœ‰ä¸ç¥¥çš„é¢„æ„Ÿï¼Œä»–åæ‰‹å°±ç”©äº†ä¸ªé“¾æ¥ï¼Œå«æˆ‘è£…å®Œç¯å¢ƒçœ‹ä¸€ä¸‹ï¼Œè£…å®Œ vscodeã€nodeã€gitï¼Œæˆ‘ç›´æ¥ pull ä¸‹æ¥ï¼Œçœ‹äº†ä¸€ä¸‹ç›®å½• pnpm å’±ä¹Ÿæ²¡ç”¨è¿‡å•Šï¼Œæ€ä¹ˆå…¨æ˜¯ ts ï¼Œç”¨çš„ Viteï¼Ÿè¿™ä¸ªæˆ‘ç†Ÿï¼Œç›´æ¥å®‰è£…ä¾èµ– run devï¼</p><p>é¦–å…ˆï¼Œè¿™ä¸ªé¡¹ç›®å°±ä¸¤ä¸ªé¡µé¢ï¼Œæˆ‘ç¬¬ä¸€æ„Ÿè§‰æ˜¯ï¼šæ€ä¹ˆçœ‹ç€è¿˜ä¸å¦‚æˆ‘è‡ªå·±çš„é¡¹ç›®å¥½çœ‹ ğŸ˜¢ï¼Œä½†æ˜¯å½“æˆ‘æ‰“å¼€ä»£ç ï¼Œè„‘å­ç›´æ¥ç¼ºæ°§ï¼Œå•¥éƒ½çœ‹ä¸æ‡‚ã€‚ä»€ä¹ˆ type ä»€ä¹ˆ useMemoï¼Œé—»æ‰€æœªé—»ã€‚</p><p>èµ¶ç´§å¼€å§‹è‡ªå­¦ React + TS â€¦â€¦</p><p>æ™šä¸Šå›åˆ°å‡ºç§Ÿå±‹ï¼Œçªç„¶æœ‰ä¸€ç§å‹åŠ›æ²¹ç„¶è€Œç”Ÿï¼Œæˆ‘æ˜¯ä¸æ˜¯å¤ªè ¢äº†ï¼ŒMentor ä¼šä¸ä¼šçœ‹ä¸èµ·æˆ‘ â€¦â€¦</p><p>çœ‹äº†ä¸€å¤©è§†é¢‘ï¼Œæ–‡ç« ï¼Œæˆ‘è§‰å¾—æˆ‘å·²ç»äº†è§£äº† React ï¼Œè‡³å°‘ä¸ä¼šçœ‹ä¸æ‡‚äº†ã€‚</p><p>è¿™ç¯‡æ–‡ç« å°±æ¥æ€»ç»“ä¸€ä¸‹æˆ‘æ˜¯å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹çš„ï¼Œåˆ†äº«ä¸€ä¸‹æˆ‘å¿ƒå¾—ä½“ä¼šã€‚å¦‚æœä½ ä¹Ÿè·Ÿæˆ‘ä¸€æ ·ï¼Œä¸‹é¢æˆ‘åˆ†äº«ä¸€äº›æˆ‘çš„ç»éªŒï¼Œå¸Œæœ›èƒ½å¤Ÿå¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚</p><h2 id="é¡¹ç›®åˆ›å»º"><a href="#é¡¹ç›®åˆ›å»º" class="headerlink" title="é¡¹ç›®åˆ›å»º"></a>é¡¹ç›®åˆ›å»º</h2><p>åœ¨ Vue ä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„è„šæ‰‹æ¶æ˜¯ Vue-CLI ä»¥åŠå°¤å¤§å¤§æ¨èçš„ Vite ï¼›åœ¨ React ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ creat-react-appï¼ˆCRAï¼‰åˆ›å»ºé¡¹ç›®ï¼Œå½“ç„¶ Vite åŒæ ·ä¹Ÿæ”¯æŒæˆ‘ä»¬åˆ›å»º React é¡¹ç›®ã€‚</p><h3 id="ä½¿ç”¨-CRA"><a href="#ä½¿ç”¨-CRA" class="headerlink" title="ä½¿ç”¨ CRA"></a>ä½¿ç”¨ CRA</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npx create-react-app my-react-app<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-Vite"><a href="#ä½¿ç”¨-Vite" class="headerlink" title="ä½¿ç”¨ Vite"></a>ä½¿ç”¨ Vite</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn create vite my-react-app --template react<br></code></pre></td></tr></table></figure><h3 id="å…¶ä»–åˆ›å»ºæ–¹å¼"><a href="#å…¶ä»–åˆ›å»ºæ–¹å¼" class="headerlink" title="å…¶ä»–åˆ›å»ºæ–¹å¼"></a>å…¶ä»–åˆ›å»ºæ–¹å¼</h3><p>å‚è€ƒ <a href="https://zh-hans.react.dev/learn/start-a-new-react-project">React | å¯åŠ¨ä¸€ä¸ªæ–°é¡¹ç›®</a></p><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>å€¼å¾—æ³¨æ„çš„æ˜¯ä½¿ç”¨ cra åˆ›å»ºçš„é¡¹ç›®ä¸­ï¼ŒJS æ–‡ä»¶å°±æ˜¯æ­£å¸¸çš„<code>.js</code>åç¼€ï¼Œè€Œ Vite åˆ›å»ºé¡¹ç›®çš„æ–‡ä»¶åç¼€æ˜¯<code>.jsx</code>ã€‚</p><ul><li>Vite åŸºäº ESModuleï¼Œå®ƒæä¾›äº†å¯¹ JSX çš„åŸç”Ÿæ”¯æŒï¼Œä½¿ç”¨<code>.jsx</code>ä½œä¸ºæºæ–‡ä»¶çš„åç¼€ï¼Œä»¥ä¾¿æˆ‘ä»¬ç›´æ¥ç¼–å†™ JSX è¯­æ³•çš„ React ç»„ä»¶ã€‚</li><li>CRA é»˜è®¤æ²¡æœ‰å¯ç”¨ JSX é¢„å¤„ç†å™¨ï¼Œè€Œæ˜¯é€šè¿‡ Babel å’Œ Webpack ç­‰å·¥å…·æ¥å¤„ç† JSX è¯­æ³•ã€‚</li></ul><p>åœ¨å†™æ³•ä¸Šæ²¡æœ‰åŒºåˆ«ï¼Œä¸ç”¨è€ƒè™‘å¤ªå¤šã€‚</p><h2 id="é¡¹ç›®ç›®å½•"><a href="#é¡¹ç›®ç›®å½•" class="headerlink" title="é¡¹ç›®ç›®å½•"></a>é¡¹ç›®ç›®å½•</h2><p>ä»¥ä¸‹æ˜¯ Vite åˆ›å»ºçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼š</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/af365556f65d4b75ba8b3656d79b105f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=195&h=338&s=14100&e=png&b=252526" alt="image.png"></p><p>å…¶ä¸­å…¥å£æ–‡ä»¶æ˜¯<code>main.jsx</code>ï¼Œå¦‚æœæ˜¯ CRA åˆ›å»ºçš„é¡¹ç›®åˆ™æ˜¯<code>index.js</code>ã€‚</p><p>è®©æˆ‘æ¥çœ‹çœ‹å®ƒçš„ä»£ç ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom/client&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.jsx&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./index.css&quot;</span>;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>)).<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br>);<br></code></pre></td></tr></table></figure><p>è¿™è·Ÿ Vue çš„<code>main.js</code>çš„ä½œç”¨ä¸€æ ·ï¼Œå°†<code>App</code>æ ¹ç»„ä»¶æŒ‚è½½åˆ°<code>id</code>ä¸º<code>root</code>çš„ DOM å…ƒç´ ä¸Šã€‚</p><p><strong>æˆ‘çŒœä½ å¯èƒ½ä¼šæƒ³ï¼Œè¿™é‡Œå¼•å…¥ä¸€ä¸ª React åˆå¼•å…¥ä¸€ä¸ª ReactDom å¹²å˜›ï¼Œå®ƒä»¬ä¸¤ä¸ªæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p><p>æˆ‘ä»¬åœ¨<code>package.json</code>ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªä¾èµ–ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0df638d47a88442e8f77dabd6a41a1c0~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=292&h=115&s=5549&e=png&b=1e1e1e" alt="image.png"></p><p>è¿™æ˜¯å› ä¸º React ä½œè€…å°† React æºç æ‹†æˆäº†ä¸¤éƒ¨åˆ†ï¼š</p><ul><li><p><code>React</code> åº“æä¾›æ„å»ºç”¨æˆ·ç•Œé¢çš„å„ç§ API å’Œç»„ä»¶ï¼Œæ¯”å¦‚åˆ›å»º React ç»„ä»¶ã€å¤„ç†ç»„ä»¶ç”Ÿå‘½å‘¨æœŸã€çŠ¶æ€ç®¡ç†ã€äº‹ä»¶å¤„ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚</p></li><li><p><code>ReactDom</code> åº“æ˜¯ React çš„ DOM æ¸²æŸ“å™¨ï¼Œåªè´Ÿè´£å°† React ç»„ä»¶æ¸²æŸ“åˆ°æµè§ˆå™¨çš„ DOM ä¸­ï¼Œæä¾›ä¸€äº›ç®¡ç†ç»„ä»¶çš„æ›´æ–°ã€æŒ‚è½½å’Œå¸è½½ç­‰æ“ä½œçš„ APIã€‚</p></li></ul><h2 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h2><p>æˆ‘ä»¬<code>return</code>å‡ºæ¥çš„ JSX æ¨¡æ¿ï¼Œå¦‚æœè¦æ¢è¡Œçš„è¯ï¼Œéœ€è¦ç”¨<code>()</code>åŒ…è£¹ä¸€ä¸‹ï¼Œç„¶åè¿™ä¸ª JSX è¡¨è¾¾å¼å¿…é¡»å…·æœ‰ä¸€ä¸ªçˆ¶å…ƒç´ ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯ä¸‹é¢è¿™ç§å†™æ³•ä¼šæŠ¥é”™ï¼ŒJSX è¡¨è¾¾å¼è§„å®šäº†æœ€å¤–å±‚åªèƒ½æœ‰ä¸€ä¸ªçˆ¶å…ƒç´ ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨æœ€å¤–é¢å¥—ä¸€ä¸ª<code>div</code>æˆ–è€…ç©ºæ ‡ç­¾<code>&lt;&gt;&lt;/&gt;</code>ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">return</span> (<br>  &#123;<span class="hljs-comment">/*æŠ¥é”™*/</span>&#125;<br>  &lt;div&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  &lt;/div&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä½ å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>)<br><br><span class="hljs-keyword">return</span> (<br>  <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä½ å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/&gt;</span></span><br>)<br></code></pre></td></tr></table></figure><p>åœ¨ JSX è¡¨è¾¾å¼å…è®¸æˆ‘ä»¬åªèƒ½åœ¨<code>&#123;&#125;</code>ä¸­å†™ JS ä»£ç </p><h2 id="åˆ›å»ºç»„ä»¶"><a href="#åˆ›å»ºç»„ä»¶" class="headerlink" title="åˆ›å»ºç»„ä»¶"></a>åˆ›å»ºç»„ä»¶</h2><p>åœ¨ React ä¸­æœ‰ä¸¤ç§åˆ›å»ºç»„ä»¶çš„æ–¹å¼ï¼Œå‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶ï¼Œç±»ç»„ä»¶æ˜¯ã€‚ç°åœ¨ç•Œå†…å¤§éƒ¨åˆ†éƒ½ä½¿ç”¨å‡½æ•°ç»„ä»¶ï¼Œå‡½æ•°ç»„ä»¶ç›¸æ¯”äºç±»ç»„ä»¶ï¼Œæ€§èƒ½æ›´å¥½ï¼ŒReact 18 è™½ç„¶è¿˜æ”¯æŒç±»ç»„ä»¶ï¼Œä½†æ˜¯æ›´æ¨èä½¿ç”¨å‡½æ•°ç»„ä»¶ã€‚</p><h3 id="å‡½æ•°ç»„ä»¶"><a href="#å‡½æ•°ç»„ä»¶" class="headerlink" title="å‡½æ•°ç»„ä»¶"></a>å‡½æ•°ç»„ä»¶</h3><h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><p>å‡½æ•°ç»„ä»¶æ˜¯é€šè¿‡å‡½æ•°æ¥å®šä¹‰çš„ï¼Œå‡½æ•°çš„è¿”å›å€¼æ˜¯ JSX æ¨¡æ¿ï¼Œå¯ä»¥ä½¿ç”¨ <code>function</code> å…³é”®å­—æˆ–ç®­å¤´å‡½æ•°å®šä¹‰ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello Function Component<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d21eaa75fc34fcaac6638fb39e28de6~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=454&h=157&s=8769&e=png&b=ffffff" alt="image.png"></p><h4 id="çŠ¶æ€ç®¡ç†"><a href="#çŠ¶æ€ç®¡ç†" class="headerlink" title="çŠ¶æ€ç®¡ç†"></a>çŠ¶æ€ç®¡ç†</h4><p>å‡½æ•°ç»„ä»¶é€šè¿‡ React æä¾›çš„ Hooks å‡½æ•°ï¼ˆå®˜æ–¹æä¾›çš„ä¸€èˆ¬ä»¥<code>use</code>å¼€å¤´çš„ APIï¼‰ï¼Œæ¯”å¦‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨<code>useState</code> é’©å­æ¥ç®¡ç†çŠ¶æ€ã€‚</p><p><code>useState</code> è¿”å›ä¸€ä¸ªç”±ä¸¤ä¸ªå€¼ç»„æˆçš„æ•°ç»„ï¼š</p><ol><li>å½“å‰çš„<code>state</code>ï¼Œåˆå§‹å€¼ä¸ºä¼ é€’ç»™<code>useState</code>çš„å‚æ•°ã€‚</li><li><code>set</code>Â  å‡½æ•°ï¼Œå®ƒå¯ä»¥è®©ä½ å°†<code>state</code>æ›´æ–°ä¸ºä¸åŒçš„å€¼å¹¶è§¦å‘é‡æ–°æ¸²æŸ“ã€‚</li></ol><p>ğŸ™‹â€ ä¸¾ä¸ªä¾‹å­ ğŸŒ°ï¼Œè¿™é‡Œæˆ‘ä»¬å®ç°ä¸€ä¸ªè®¡æ•°å™¨ï¼Œç‚¹å‡»<code>count</code>è‡ªå¢<code>1</code>ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">let</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);<br>  &#125;;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;handleClick&#125;</span>&gt;</span>&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬è§£æ„å¾—åˆ°<code>count</code>è·Ÿå®ƒçš„<code>set</code>æ–¹æ³•ï¼Œæˆ‘ä»¬æ¯æ¬¡ç‚¹å‡»è§¦å‘<code>handleClick</code>å‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨é€šè¿‡<code>set</code>æ–¹æ³•ä¿®æ”¹çŠ¶æ€å¹¶é‡æ–°æ¸²æŸ“ã€‚</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/91d93bd5149b47a095840c25ac501823~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=538&h=272&s=25427&e=gif&f=27&b=fefefe" alt="GIF 2024-6-6 17-23-01.gif" width="50%" /><h4 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><p>React 16.8 ä¹‹å‰ï¼Œå‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä½†æ˜¯ä» React 16.8 å¼€å§‹ï¼Œå¯ä»¥ä½¿ç”¨<code>useEffect</code> è¿™ä¸ª Hook å‡½æ•°æ¥æ‰§è¡Œç±»ä¼¼ç”Ÿå‘½å‘¨æœŸçš„é€»è¾‘ï¼Œç”¨äºæ›¿ä»£ <code>componentDidMount</code>ã€<code>componentDidUpdate</code> å’Œ <code>componentWillUnmount</code>è¿™äº›æ–¹æ³•ã€‚</p><h5 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h5><p><code>useEffect</code>æ˜¯ React ä¸­ç”¨äºæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œçš„ Hookï¼Œå¹¶ä¸”å…·æœ‰ç±»ä¼¼äºç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„åŠŸèƒ½ã€‚</p><p><code>useEffect</code> æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šå‰¯ä½œç”¨å‡½æ•°å’Œä¾èµ–æ•°ç»„ã€‚</p><ol><li><strong>å‰¯ä½œç”¨å‡½æ•°</strong>ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œã€‚</li><li><strong>ä¾èµ–æ•°ç»„</strong>ï¼šç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†å‰¯ä½œç”¨å‡½æ•°ä¸­æ‰€ä¾èµ–çš„å˜é‡ã€‚å¦‚æœçœç•¥è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå‰¯ä½œç”¨å‡½æ•°ä¼šåœ¨æ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶éƒ½æ‰§è¡Œï¼Œå¯ä»¥å……å½“<code>componentDidUpdate</code>è¿™ä¸ªç”Ÿå‘½å‘¨æœŸï¼›å¦‚æœä¼ å…¥ç©ºæ•°ç»„ <code>[]</code>ï¼Œåˆ™å‰¯ä½œç”¨å‡½æ•°åªä¼šåœ¨ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œï¼Œç›¸å½“äº <code>componentDidMount</code>ï¼›å¦‚æœä¾èµ–æ•°ç»„ä¸­åŒ…å«äº†æŸäº›å˜é‡ï¼Œåˆ™åªæœ‰è¿™äº›å˜é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå‰¯ä½œç”¨å‡½æ•°æ‰ä¼šé‡æ–°æ‰§è¡Œã€‚å¦‚æœæˆ‘ä»¬åœ¨å…¶ä¸­<code>return</code>ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°†ä¼šåœ¨ç»„ä»¶å¸è½½æ—¶é™¤éï¼Œç›¸å½“äº<code>componentWillUnmount</code>ã€‚</li></ol><p>æˆ‘æ€»ç»“äº†ä¸€ä¸‹å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œæ—¶æœºä¸ä¾èµ–é¡¹çš„å…³ç³»å¦‚ä¸‹ï¼š</p><table><thead><tr><th>ä¾èµ–é¡¹</th><th>å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œæ—¶æœº</th></tr></thead><tbody><tr><td>æ²¡æœ‰ä¾èµ–é¡¹</td><td>ç»„ä»¶åˆå§‹æ¸²æŸ“ + ç»„ä»¶æ›´æ–°æ—¶æ‰§è¡Œ</td></tr><tr><td>ç©ºæ•°ç»„ä¾èµ–é¡¹</td><td>åªåœ¨åˆæ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡</td></tr><tr><td>æ·»åŠ ç‰¹å®šä¾èµ–é¡¹</td><td>ç»„ä»¶åˆå§‹æ¸²æŸ“ + ç‰¹å®šä¾èµ–é¡¹å˜åŒ–æ—¶æ‰§è¡Œ</td></tr></tbody></table><p>ä¸¾ä¾‹è¯´æ˜ ğŸŒ°ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//æ²¡æœ‰ä¾èµ–é¡¹æ•°ç»„</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»„ä»¶æ›´æ–°&quot;</span>);<br>  &#125;);<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»äº† &#123;count&#125; æ¬¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰ä¾èµ–é¡¹æ•°ç»„ï¼Œåˆ·æ–°é¡µé¢ï¼Œç»„ä»¶åˆæ¬¡æ¸²æŸ“æ‰“å°ï¼ˆæ‰“å°ä¸¤æ¬¡æ˜¯å› ä¸º React æºç è‡ªå·±æ‰§è¡Œäº†ä¸€æ¬¡ï¼Œåº”è¯¥æ˜¯è·Ÿä¸¥æ ¼æ¨¡å¼æœ‰å…³ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸ç”¨æ·±ç©¶ï¼‰ï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½ä¼šæ‰“å°ï¼Œå¯ä»¥å……å½“<code>componentDidUpdate</code>ç”Ÿå‘½å‘¨æœŸã€‚</p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ed443e30b2e45629bbe20cf6064e775~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=696&h=468&s=52307&e=gif&f=21&b=fefefe" alt="GIF 2024-6-6 19-32-33.gif" width="50%" /><hr><p>ä¾èµ–é¡¹ä¸ºç©ºæ•°ç»„å‘¢ï¼Ÿ</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//ä¾èµ–é¡¹ä¸ºç©ºæ•°ç»„å‘¢ï¼Ÿ</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»„ä»¶æŒ‚è½½&quot;</span>);<br>  &#125;, []);<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»äº† &#123;count&#125; æ¬¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬çš„ä¾èµ–é¡¹æ•°ç»„ä¸ºç©ºï¼Œåˆ·æ–°é¡µé¢ï¼Œåªåœ¨åˆæ¬¡æ¸²æŸ“æ—¶æ‰“å°ï¼Œç‚¹å‡»ä¸æ‰“å°ï¼Œå¯ä»¥å……å½“<code>componentDidMount</code>ç”Ÿå‘½å‘¨æœŸã€‚</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/746f9e4ce2254e8cbe223791767e28c3~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=696&h=468&s=68204&e=gif&f=28&b=fefefe" alt="GIF 2024-6-6 19-33-14.gif" width="50%" /><hr><p>ä¾èµ–é¡¹æ•°ç»„ä¸ä¸ºç©ºå‘¢ï¼Ÿ</p><p>å¾ˆå®¹æ˜“è”æƒ³åˆ°ï¼Œå¦‚æœæ•°ç»„é‡Œé¢æœ‰ä¼šå‘ç”Ÿæ”¹å˜çš„é¡¹ï¼Œåˆ™ä¼šè§¦å‘å‰¯ä½œç”¨å‡½æ•°ï¼Œå¦åˆ™ä¸ä¼šè§¦å‘ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚</p><hr><p>æ¥çœ‹æœ€åä¸€ä¸ªï¼Œåœ¨å‰¯ä½œç”¨å‡½æ•°ä¸­<code>return</code>ä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»„ä»¶æ›´æ–°&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»„ä»¶å¸è½½&quot;</span>);<br>    &#125;;<br>  &#125;, [count]);<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»äº† &#123;count&#125; æ¬¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬<code>return</code>ä¸€ä¸ªå‡½æ•°æ‰“å°å¸è½½ï¼Œè¡¨ç¤ºç»„ä»¶å¸è½½æ—¶ä¼šæ‰§è¡Œçš„æ“ä½œã€‚æˆ‘ä»¬é€šå¸¸åœ¨è¿™é‡Œè¿›è¡Œç»„ä»¶å¸è½½æ—¶çš„æ‰§è¡Œçš„æ“ä½œï¼Œå¯ä»¥å……å½“<code>componentWillUnmount</code>ç”Ÿå‘½å‘¨æœŸã€‚</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84e36073cdfe4f27b271fd53ded4a814~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=800&h=567&s=51838&e=gif&f=22&b=fefefe" alt="GIF 2024-6-6 19-51-19.gif" width="50%" /><p>ä¸€ä¸ªå¾ˆå¸¸è§çš„ä¾‹å­ ğŸŒ°ï¼š</p><p>æˆ‘ä»¬é€šå¸¸åœ¨ç»„ä»¶å¸è½½æ—¶æ¸…é™¤ä¸€äº›å‰¯ä½œç”¨å‡½æ•°ï¼Œå¦‚å®šæ—¶å™¨</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);<br>    &#125;, <span class="hljs-number">1000</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-built_in">clearInterval</span>(timer);<br>    &#125;;<br>  &#125;, [count]);<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»äº† &#123;count&#125; æ¬¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬ä¸åŠæ—¶æ¸…é™¤å®šæ—¶å™¨ï¼Œä¼šå¯¼è‡´èµ„æºæµªè´¹ã€‚</p><p>è€Œä¸”ç”±äº <code>setCount</code> æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œå®ƒä¸ä¼šç«‹å³æ›´æ–° <code>count</code> çš„å€¼ï¼Œè€Œæ˜¯åœ¨ä¸‹ä¸€æ¬¡æ¸²æŸ“æ—¶æ‰ä¼šç”Ÿæ•ˆã€‚å› æ­¤ï¼Œå³ä½¿ä½ è®¾ç½®äº†å®šæ—¶å™¨æ¯éš”ä¸€ç§’é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œä½† <code>count</code> çš„å€¼å¹¶ä¸ä¼šæ¯ç§’å¢åŠ ä¸€æ¬¡ã€‚ç›¸åï¼Œå½“å®šæ—¶å™¨è§¦å‘æ—¶ï¼Œ<code>count</code> çš„å€¼ä»ç„¶æ˜¯ä¸Šä¸€æ¬¡æ¸²æŸ“æ—¶çš„å€¼ã€‚ç­‰ä¸€æ®µæ—¶é—´åå°±ä¼šçœ‹åˆ°ä¸‹é¢è¿™ä¸ªæƒ…å†µï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29923fc094d648879b1013c2c93e0f02~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=572&h=324&s=27666&e=gif&f=18&b=fefefe" alt="GIF 2024-6-6 20-06-38.gif" width="50%" /><h3 id="ç±»ç»„ä»¶"><a href="#ç±»ç»„ä»¶" class="headerlink" title="ç±»ç»„ä»¶"></a>ç±»ç»„ä»¶</h3><p>ğŸ˜<strong>å¯ä»¥ä¸ç”¨ä½†ä¸èƒ½ä¸å­¦ï¼</strong></p><h4 id="è¯­æ³•-1"><a href="#è¯­æ³•-1" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><p>ç±»ç»„ä»¶é€šè¿‡ç»§æ‰¿ <code>React.Component</code> æˆ–å…¶å­ç±»æ¥åˆ›å»ºï¼Œç±»ç»„ä»¶ä¸­æœ‰ä¸€ä¸ª <code>render()</code> æ–¹æ³•ï¼Œç”¨æ¥è¿”å› JSX è¯­æ³•ã€‚</p><p>æ‹¿ä»£ç è¯´äº‹ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">super</span>();<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello Class Component<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p>ç±»ç»„ä»¶çš„è¯­æ³•å°±æ˜¯å£°æ˜ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»ç»§æ‰¿<code>React.Component</code> æˆ–è€…å­ç±»ï¼Œ<code>render()</code>æ–¹æ³•è¿”å› JSX æ¨¡æ¿ã€‚ç„¶åå°†æˆ‘ä»¬çš„ App ç»„ä»¶æŒ‚è½½åˆ°é¡µé¢ä¸Šå°±å¯ä»¥äº†ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04452e5cd75c48dc9e2c1f9cd6f7d1a2~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=458&h=167&s=9583&e=png&b=ffffff" alt="image.png"></p><h4 id="çŠ¶æ€ç®¡ç†-1"><a href="#çŠ¶æ€ç®¡ç†-1" class="headerlink" title="çŠ¶æ€ç®¡ç†"></a>çŠ¶æ€ç®¡ç†</h4><p>ç±»ç»„ä»¶æ‹¥æœ‰å†…éƒ¨çŠ¶æ€<code>state</code>ï¼Œé€šè¿‡ <code>this.state</code> æ¥è®¿é—®ç»„ä»¶çš„çŠ¶æ€ï¼Œä½¿ç”¨ <code>setState()</code>æ–¹æ³•æ¥æ›´æ–°çŠ¶æ€ï¼Œè§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span>&#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">super</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>=&#123;<br>      <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span><br>    &#125;<br>  &#125;<br>  <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"></span>)&#123;<br><br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>this.setState(&#123;name:&quot;æå››&quot;&#125;)&gt;&#123;this.state.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ç»‘å®š<code>onClick</code>äº‹ä»¶ï¼Œå½“ç‚¹å‡»æ—¶ä¿®æ”¹<code>name</code>çš„çŠ¶æ€ã€‚</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f05edfaefa984490ba816a83af73136d~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=467&h=332&s=17537&e=gif&f=5&b=fefefe" alt="GIF 2024-6-6 17-04-25.gif" width="30%" /><h4 id="ç”Ÿå‘½å‘¨æœŸ-1"><a href="#ç”Ÿå‘½å‘¨æœŸ-1" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><p>ç±»ç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå¸¸è§çš„æœ‰<code>componentDidMount</code>ã€<code>componentDidUpdate</code>ã€&#x3D;è·Ÿ<code>componentWillUnmount</code>ï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº” Vue3 ä¸­çš„ <code>onMounted</code>ã€<code>onUpdated</code> è·Ÿ <code>onBeforeUnmount</code>ã€‚</p><p>è¿™ä¸ªç½‘ç«™å¯ä»¥å¾ˆæ¸…æ¥šçœ‹åˆ° React çš„ç”Ÿå‘½å‘¨æœŸï¼Œ<a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">React ç”Ÿå‘½å‘¨æœŸ</a>ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šèµ˜è¿°ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1c876571316c4779bf0528aca4cef60a~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1180&h=424&s=40943&e=png&b=fbf8f7" alt="image.png"></p><h3 id="ç»„ä»¶é€šè®¯"><a href="#ç»„ä»¶é€šè®¯" class="headerlink" title="ç»„ä»¶é€šè®¯"></a>ç»„ä»¶é€šè®¯</h3><p>åœ¨ Vue ä¸­ç»„ä»¶ä¼ å€¼ä¸€èˆ¬é€šè¿‡<code>props &amp; emit</code>ã€<code>provide &amp; inject</code>ä»¥åŠ Vue2 ä¸­çš„<code>EventBus</code>ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨çŠ¶æ€ç®¡ç†å·¥å…·<code>Vuex</code>æˆ–<code>Pinia</code>ï¼ŒReact å…¶å®å¤§å·®ä¸å·®ï¼ŒåŒæ ·ä¹Ÿæœ‰è‡ªå·±çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚</p><h4 id="çˆ¶ä¼ å­"><a href="#çˆ¶ä¼ å­" class="headerlink" title="çˆ¶ä¼ å­"></a>çˆ¶ä¼ å­</h4><p>çˆ¶ç»„ä»¶é€šè¿‡<code>props</code>ä¼ é€’ä»»æ„çš„æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€æ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ç”šè‡³æ˜¯ JSXï¼Œå­ç»„ä»¶é€šè¿‡<code>props</code>å‚æ•°æ¥æ”¶ã€‚</p><p>ğŸ™‹â€â™€ï¸ğŸŒ°ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Son</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;props.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;props.age&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;props.cb()&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;props.child&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Father</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Son</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">name</span>=<span class="hljs-string">&#123;</span>&quot;<span class="hljs-attr">é˜³é˜³ç¾Š</span>&quot;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">age</span>=<span class="hljs-string">&#123;20&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">cb</span>=<span class="hljs-string">&#123;function</span> <span class="hljs-attr">cb</span>() &#123;</span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">console.log</span>(<span class="hljs-attr">123</span>);</span></span><br><span class="hljs-tag"><span class="language-xml">      &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">child</span>=<span class="hljs-string">&#123;</span>&lt;<span class="hljs-attr">span</span>&gt;</span>i am jsx<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>&#125;</span><br><span class="language-xml">    &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br>  );<br>&#125;;<br></code></pre></td></tr></table></figure><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f7493c702384844b509095a3f5f3972~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=789&h=415&s=27428&e=png&b=fefefe" alt="image.png" width="50%" /><p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå­ç»„ä»¶åªèƒ½è¯»å–<code>props</code>ä¸­çš„æ•°æ®ï¼Œä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œçˆ¶ç»„ä»¶çš„æ•°æ®åªèƒ½ç”±çˆ¶ç»„ä»¶ä¿®æ”¹ï¼Œæˆ–è€…é€šè¿‡çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å‡½æ•°è¿›è¡Œä¿®æ”¹ã€‚å¦‚æœåœ¨å­æ ‡ç­¾ä¸­åµŒå¥—å…ƒç´ ï¼Œå¯ä»¥åœ¨å­ç»„ä»¶çš„<code>props.children</code>ä¸­è·å–ã€‚</p><h4 id="å­ä¼ çˆ¶"><a href="#å­ä¼ çˆ¶" class="headerlink" title="å­ä¼ çˆ¶"></a>å­ä¼ çˆ¶</h4><p>å­ä¼ çˆ¶é€šè¿‡æœ€åŸå§‹çš„å›è°ƒå‡½æ•°æ–¹å¼ï¼Œçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ ä¸€ä¸ªå‡½æ•°ï¼Œå­ç»„ä»¶è°ƒç”¨è¿™ä¸ªå‡½æ•°ç„¶åä¼ å…¥å®å‚ï¼Œåœ¨å‡½æ•°å†…éƒ¨ç”¨<code>set</code>æ–¹æ³•ä¿®æ”¹çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚</p><p>ğŸ™‹â€â™€ï¸ğŸŒ°ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Son</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> props.cb(&quot;å°ç¾Š&quot;)&#125;&gt;ç‚¹å‡»ä¼ é€’<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Father</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">let</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;é˜³é˜³ç¾Š&quot;</span>);<br>  <span class="hljs-keyword">let</span> <span class="hljs-title function_">cb</span> = (<span class="hljs-params">name</span>) =&gt; &#123;<br>    <span class="hljs-title function_">setName</span>(name);<br>  &#125;;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Son</span> <span class="hljs-attr">cb</span>=<span class="hljs-string">&#123;cb&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br><span class="language-xml">      &#123;name&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br></code></pre></td></tr></table></figure><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44f24ffe31fa4c8b84aada591cf2e534~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=549&h=284&s=14214&e=gif&f=3&b=fdfdfd" alt="GIF 2024-6-7 11-20-34.gif" width="50%" /><p>âš ï¸ è¿™é‡Œéœ€è¦æ³¨æ„ï¼š<code>onClick</code>äº‹ä»¶å¤„ç†ç¨‹åºæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå†™æˆ<code>onClick=&#123;() =&gt; props.cb(&#39;å°ç¾Š&#39;)&#125;</code>æ—¶ï¼Œå®é™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå½“ç‚¹å‡»æŒ‰é’®æ—¶ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œç„¶åè°ƒç”¨<code>props.cb(&#39;å°ç¾Š&#39;)</code>ï¼Œå¦‚æœç›´æ¥å†™æˆ<code>onClick=&#123;props.cb(&#39;å°ç¾Š&#39;)&#125;</code>ï¼Œåœ¨æ¸²æŸ“æ—¶å°±ä¼šç«‹å³è°ƒç”¨<code>props.cb(&#39;å°ç¾Š&#39;)</code>ï¼Œè€Œä¸æ˜¯åœ¨ç‚¹å‡»æ—¶è°ƒç”¨ã€‚</p><h4 id="å…„å¼Ÿç»„ä»¶é€šä¿¡"><a href="#å…„å¼Ÿç»„ä»¶é€šä¿¡" class="headerlink" title="å…„å¼Ÿç»„ä»¶é€šä¿¡"></a>å…„å¼Ÿç»„ä»¶é€šä¿¡</h4><p>å…„å¼Ÿç»„ä»¶é€šä¿¡è´¯ç”¨æ‰‹æ®µå°±æ˜¯<strong>çŠ¶æ€æå‡</strong>ï¼Œè¯´ç™½è¯å°±æ˜¯å°†æ•°æ®éƒ½äº¤ç»™çˆ¶ç»„ä»¶ï¼Œç„¶åçˆ¶ç»„ä»¶ä½œä¸ºä¸­é—´å•†æ´¾å‘ç»™å¤§å®¶ã€‚</p><p>ğŸ™‹â€â™€ï¸ğŸŒ°ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Son1</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      å­ç»„ä»¶1-</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> props.cb(&quot;å°ç¾Š&quot;)&#125;&gt;ä¼ ç»™å­ç»„ä»¶2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Son2</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å­ç»„ä»¶2-&#123;props.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">Father</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">let</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;Son2&quot;</span>);<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">cb</span> = (<span class="hljs-params">newName</span>) =&gt; &#123;<br>    <span class="hljs-title function_">setName</span>(newName);<br>  &#125;;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Son1</span> <span class="hljs-attr">cb</span>=<span class="hljs-string">&#123;cb&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Son2</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#123;name&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son2</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œå­<code>ç»„ä»¶1</code>é€šè¿‡è§¦å‘çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‡½æ•°ï¼Œå¹¶ä¼ é€’å‚æ•°ï¼Œç„¶åçˆ¶ç»„ä»¶æ¥æ”¶åˆ°å‚æ•°ä¿®æ”¹æ•°æ®æºï¼Œä¼ é€’ç»™<code>ç»„ä»¶2</code>ã€‚è¿™æ ·å°±å®Œæˆäº†å…„å¼Ÿç»„ä»¶é€šä¿¡ã€‚</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3eb12209347142b59eea4b418c9507dc~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=547&h=273&s=24884&e=gif&f=6&b=fdfcfc" alt="GIF 2024-6-7 11-16-47.gif" width="50%" /><h4 id="å¤¸å±‚ç»„ä»¶é€šè®¯"><a href="#å¤¸å±‚ç»„ä»¶é€šè®¯" class="headerlink" title="å¤¸å±‚ç»„ä»¶é€šè®¯"></a>å¤¸å±‚ç»„ä»¶é€šè®¯</h4><p>æ€è·¯æ˜¯å°†ä¸¤ä¸ªç»„ä»¶æ”¾åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­å°±èƒ½å®ç°æ•°æ®å…±äº«ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>ä½¿ç”¨<code>createContext</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå°†ç»„ä»¶<code>Provider</code>ï¼Œ<code>Consumer</code>æŠ›å‡º</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">Provider</span>, <span class="hljs-title class_">Consumer</span> &#125; = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createContext</span>();<br><br><span class="hljs-keyword">export</span> &#123; <span class="hljs-title class_">Provider</span>, <span class="hljs-title class_">Consumer</span> &#125;;<br></code></pre></td></tr></table></figure><ol start="2"><li><p>åœ¨é¡¶å±‚ç»„ä»¶(App)ä¸­é€šè¿‡<code>Provider</code>ç»„ä»¶æä¾›æ•°æ®</p></li><li><p>åœ¨åº•å±‚ç»„ä»¶(B)ä¸­é€šè¿‡<code>Consumer</code>ç»„ä»¶è·å–å¯¹åº”æ•°æ®</p></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Provider</span>, <span class="hljs-title class_">Consumer</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./provider&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">ComponentB</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Consumer</span>&gt;</span></span><br><span class="language-xml">      &#123;(value) =&gt; (</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åº•å±‚ç»„ä»¶â€”â€”&#123;value&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      )&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Consumer</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> value = <span class="hljs-string">&quot;é¡¶å±‚ç»„ä»¶çš„æ•°æ®&quot;</span>;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;value&#125;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>é¡¶å±‚ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">ComponentB</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span></span><br>  );<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c488273f449470fbfbdccb8e36b31d3~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=813&h=369&s=31043&e=png&b=fefefe" alt="image.png" width="50%" /><h4 id="çŠ¶æ€ç®¡ç†å·¥å…·"><a href="#çŠ¶æ€ç®¡ç†å·¥å…·" class="headerlink" title="çŠ¶æ€ç®¡ç†å·¥å…·"></a>çŠ¶æ€ç®¡ç†å·¥å…·</h4><p>å¸¸è§çš„ React çŠ¶æ€ç®¡ç†å·¥å…·æœ‰ Reduxã€Mobxã€Rcoil ç­‰ç­‰ï¼Œå¦‚æœæœ‰æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œæˆ‘å¯ä»¥å•ç‹¬å‡ºä¸€ç¯‡æ–‡ç« è¯¦ç»†èŠèŠã€‚æœ¬ç¯‡å°±ä¸å±•å¼€èŠäº†ã€‚</p><h2 id="è‡ªå®šä¹‰-Hooks"><a href="#è‡ªå®šä¹‰-Hooks" class="headerlink" title="è‡ªå®šä¹‰ Hooks"></a>è‡ªå®šä¹‰ Hooks</h2><p>é™¤äº† React å®˜æ–¹æä¾›çš„ä¸€äº› Hooks ä¹‹å¤–ï¼Œè¿˜å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰è‡ªå·±çš„ Hooksï¼Œæˆ‘ä»¬éœ€è¦éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p><ol><li>å£°æ˜ä»¥<code>use</code>å¼€å¤´çš„å‡½æ•°</li><li>åœ¨å‡½æ•°ä½“å†…å°è£…å¯å¤ç”¨çš„é€»è¾‘</li><li>æŠŠç»„ä»¶ä¸­ä½¿ç”¨åˆ°çš„çŠ¶æ€<code>return</code>å‡ºå»</li><li>åœ¨å“ªé‡Œç”¨åˆ°å°±åœ¨é‡Œé¢æ‰§è¡Œè§£æ„</li></ol><p>ğŸ™‹â€â™€ï¸ğŸŒ°ï¼š</p><p>æˆ‘ä»¬è®¾è®¡æ¥è®¾è®¡ä¸€ä¸ªå¼€å…³ Hooksï¼Œä½œç”¨æ˜¯å¯¹å€¼å–åï¼Œä»è€Œæ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºéšè—ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">useToggle</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [value, setValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggle</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-title function_">setValue</span>(!value);<br>  &#125;;<br>  <span class="hljs-keyword">return</span> [value, toggle];<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [value, toggle] = <span class="hljs-title function_">useToggle</span>();<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;value ? &quot;å¼€&quot; : &quot;å…³&quot;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;toggle&#125;</span>&gt;</span>æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å€ŸåŠ©<code>useState</code>è¿›è¡Œå°è£…ï¼Œå°†éœ€è¦ç”¨åˆ°çš„å˜é‡è¿›è¡ŒæŠ›å‡ºï¼Œåœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹è§£æ„æ‹¿åˆ°ï¼Œé€šè¿‡ä¸‰ç›®è¿ç®—ç¬¦è¿›è¡Œæ˜¾ç¤ºéšè—ã€‚</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c183f8bc55224444b6bb384239bd4c08~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=613&h=369&s=29609&e=gif&f=12&b=fefefe" alt="GIF 2024-6-7 12-07-46.gif" width="50%" /><h3 id="Hooks-ä½¿ç”¨è§„åˆ™"><a href="#Hooks-ä½¿ç”¨è§„åˆ™" class="headerlink" title="Hooks ä½¿ç”¨è§„åˆ™"></a>Hooks ä½¿ç”¨è§„åˆ™</h3><p>Hooks å¹¶ä¸æ˜¯ç„¶ååœºæ™¯ä¸‹éƒ½èƒ½ç”¨ï¼Œåƒæ¯”å¦‚åœ¨ç±»ç»„ä»¶ä¸­æ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨ Hooks çš„ï¼Œé™¤éä½¿ç”¨é«˜é˜¶å‡½æ•°è¿›è¡ŒåŒ…è£…ï¼Œä»¥åŠå…¶ä»–è®¸å¤šè§„åˆ™ï¼š</p><ul><li>ä¸èƒ½åœ¨ç»„ä»¶å¤–éƒ¨ä½¿ç”¨</li><li>ä¸èƒ½åœ¨åˆ¤æ–­è¯­å¥ä¸­ä½¿ç”¨</li></ul><p>è¯¦è§ <a href="https://zh-hans.react.dev/reference/rules/rules-of-hooks">React ä¸­æ–‡å®˜ç½‘</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿˜æ˜¯é‚£å¥è¯ï¼Œä¸ç®¡æ˜¯ Vue è·Ÿ React éƒ½æœ‰è‡ªå·±çš„ä¼˜ç¼ºç‚¹ï¼Œæˆ‘ä»¬ä¸èƒ½æ–­è¨€è¯´å“ªä¸ªå¥½å“ªä¸ªå·®ï¼Œåœ¨æˆ‘çœ‹æ¥ Vue æ›´é€‚åˆç¬¬ä¸€æ¬¡æ¥è§¦å‰ç«¯æ¡†æ¶çš„å°ç™½ï¼Œå®ƒå°è£…äº†è®¸å¤š APIï¼Œå¯¹æ–°æ‰‹å¾ˆå‹å¥½ï¼Œä¸Šæ‰‹å³ç”¨ï¼›è€Œ React ç›¸å¯¹å¤æ‚ï¼Œæ›´è€ƒéªŒå¼€å‘è€…çš„æ€ç»´ï¼Œå¯¹äºä¸€äº›å¤æ‚éœ€æ±‚èƒ½å¤Ÿè‡ªå®šä¹‰è¿›è¡Œå°è£…ï¼Œæ›´æ¥è¿‘åŸç”Ÿ JS å¼€å‘ã€‚å¤§å®¶æŒ‰éœ€æ±‚é€‰æ‹©å°±å¥½ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://zh-hans.react.dev/learn">React-ä¸­æ–‡å®˜ç½‘</a></p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å·²å°†å­¦ä¹ ä»£ç ä¸Šä¼ è‡³ <a href="https://github.com/YangyangU/CodeSpace">github</a>ï¼Œæ¬¢è¿å¤§å®¶å­¦ä¹ æŒ‡æ­£ï¼</p>]]></content>
    
    
    <categories>
      
      <category>React</category>
      
    </categories>
    
    
    <tags>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•å®˜ï¼šä»è¾“å…¥URLåˆ°é¡µé¢æ¸²æŸ“ï¼Œæœ‰å“ªäº›åœ°æ–¹å¯ä»¥ä¼˜åŒ–</title>
    <link href="/2024/04/27/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%EF%BC%8C%E6%9C%89%E5%93%AA%E4%BA%9B%E5%9C%B0%E6%96%B9%E5%8F%AF%E4%BB%A5%E4%BC%98%E5%8C%96/"/>
    <url>/2024/04/27/%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%EF%BC%8C%E6%9C%89%E5%93%AA%E4%BA%9B%E5%9C%B0%E6%96%B9%E5%8F%AF%E4%BB%A5%E4%BC%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ˜¥æ‹›åœ¨ç»§ç»­ï¼Œé¢è¯•ä¸åœæ¯ï¼æœ€è¿‘ä¹Ÿæ˜¯è¢«é—®åˆ°äº†æ ‡é¢˜ä¸Šè¿™ä¸ªé—®é¢˜ï¼Œå¥½å®¶ä¼™ï¼Œä¸€ä¸ªé—®é¢˜é—®åˆ°äº† URL åˆ°é¡µé¢æ¸²æŸ“çš„è¿‡ç¨‹å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œå¦‚æœä¸ç†Ÿæ‚‰è¿™ä¸ªè¿‡ç¨‹çš„è¯ï¼Œå›ç­”èµ·æ¥ç¡®å®æŒºè´¹åŠ²ï¼Œè¿™ç¯‡æ–‡ç« å°±å°†å¸¦å¤§å®¶æ¥æ‹ä¸€æ‹ï¼Œäº‰å–å›ç­”çš„æ—¶å€™ä¸å¡å£³ ~</p><h2 id="è¾“å…¥-URL-åˆ°é¡µé¢æ¸²æŸ“è¿‡ç¨‹"><a href="#è¾“å…¥-URL-åˆ°é¡µé¢æ¸²æŸ“è¿‡ç¨‹" class="headerlink" title="è¾“å…¥ URL åˆ°é¡µé¢æ¸²æŸ“è¿‡ç¨‹"></a>è¾“å…¥ URL åˆ°é¡µé¢æ¸²æŸ“è¿‡ç¨‹</h2><h3 id="1-URL-è§£æ"><a href="#1-URL-è§£æ" class="headerlink" title="1.URL è§£æ"></a>1.URL è§£æ</h3><p>é¦–å…ˆæµè§ˆå™¨ä¼šåˆ¤æ–­ä½ è¾“å…¥çš„æ˜¯ä¸€ä¸ªåˆæ³•çš„<code>URL</code>Â  è¿˜æ˜¯ä¸€ä¸ªå¾…æœç´¢çš„å…³é”®è¯ï¼Œå¦‚æœæ˜¯å…³é”®è¯ï¼Œåˆ™ä¼šå°†å…³é”®è¯å‘é€ç»™é»˜è®¤çš„æœç´¢å¼•æ“ï¼Œç„¶åè¿”å›é¡µé¢ï¼›å¦‚æœæ˜¯<code>URL</code>ï¼Œåˆ™ä¼šå¯¹<code>URL</code>çš„ç»“æ„è¿›è¡Œè§£æã€‚</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/56d345299ffd4a9da71e3bf11a6e3944~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=942&h=265&s=55934&e=png&b=fefefe" alt="image.png"></p><h3 id="2-DNS-è§£æ"><a href="#2-DNS-è§£æ" class="headerlink" title="2.DNS è§£æ"></a>2.DNS è§£æ</h3><p>å½“æµè§ˆå™¨è§£æå‡ºåŸŸåï¼Œå®ƒä¼šå‘ DNS æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè·å–ç›¸åº”åŸŸåå¯¹åº”çš„ IP åœ°å€ã€‚</p><ul><li>é¦–å…ˆæœç´¢æµè§ˆå™¨çš„ DNS ç¼“å­˜ï¼Œç¼“å­˜ä¸­ç»´æŠ¤ä¸€å¼ åŸŸåä¸ IP åœ°å€çš„å¯¹åº”è¡¨</li><li>è‹¥æ²¡æœ‰å‘½ä¸­ï¼Œåˆ™ç»§ç»­æœç´¢æ“ä½œç³»ç»Ÿçš„ DNS ç¼“å­˜</li><li>è‹¥ä»ç„¶æ²¡æœ‰å‘½ä¸­ï¼Œåˆ™æ“ä½œç³»ç»Ÿå°†åŸŸåå‘é€è‡³æœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼Œæœ¬åœ°åŸŸåæœåŠ¡å™¨é‡‡ç”¨é€’å½’æŸ¥è¯¢è‡ªå·±çš„ DNS ç¼“å­˜ï¼ŒæŸ¥æ‰¾æˆåŠŸåˆ™è¿”å›ç»“æœ</li><li>è‹¥æœ¬åœ°åŸŸåæœåŠ¡å™¨çš„ DNS ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œåˆ™æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘ä¸Šçº§åŸŸåæœåŠ¡å™¨è¿›è¡Œè¿­ä»£æŸ¥è¯¢<ul><li>é¦–å…ˆæœ¬åœ°åŸŸåæœåŠ¡å™¨å‘æ ¹åŸŸåæœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œæ ¹åŸŸåæœåŠ¡å™¨è¿”å›é¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€ç»™æœ¬åœ°æœåŠ¡å™¨</li><li>æœ¬åœ°åŸŸåæœåŠ¡å™¨æ‹¿åˆ°è¿™ä¸ªé¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€åï¼Œå°±å‘å…¶å‘èµ·è¯·æ±‚ï¼Œè·å–æƒé™åŸŸåæœåŠ¡å™¨çš„åœ°å€</li><li>æœ¬åœ°åŸŸåæœåŠ¡å™¨æ ¹æ®æƒé™åŸŸåæœåŠ¡å™¨çš„åœ°å€å‘å…¶å‘èµ·è¯·æ±‚ï¼Œæœ€ç»ˆå¾—åˆ°è¯¥åŸŸåå¯¹åº”çš„ IP åœ°å€</li></ul></li><li>æœ¬åœ°åŸŸåæœåŠ¡å™¨å°†å¾—åˆ°çš„ IP åœ°å€è¿”å›ç»™æ“ä½œç³»ç»Ÿï¼ŒåŒæ—¶è‡ªå·±å°† IP åœ°å€ç¼“å­˜èµ·æ¥</li><li>æ“ä½œç³»ç»Ÿå°† IP åœ°å€è¿”å›ç»™æµè§ˆå™¨ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå°† IP åœ°å€ç¼“å­˜èµ·æ¥</li><li>è‡³æ­¤ï¼Œæµè§ˆå™¨å°±å¾—åˆ°äº†åŸŸåå¯¹åº”çš„ IP åœ°å€ï¼Œå¹¶å°† IP åœ°å€ç¼“å­˜èµ·æ¥</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fafd1dd33e6d4fe389872eb4ec215da0~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1013&h=730&s=78701&e=png&b=ffffff" alt="image.png"></p><h3 id="3-TCP-ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥"><a href="#3-TCP-ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥" class="headerlink" title="3.TCP ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥"></a>3.TCP ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥</h3><p>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘èµ· TCP è¿æ¥è¯·æ±‚ï¼Œä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ã€‚</p><ol><li><strong>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¿æ¥è¯·æ±‚</strong>ï¼šå®¢æˆ·ç«¯é¦–å…ˆå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª SYN æŠ¥æ–‡æ®µï¼ŒæŒ‡å®šå®¢æˆ·ç«¯çš„åˆå§‹åºåˆ—å·ï¼Œå¹¶è®¾ç½® SYN æ ‡å¿—ä½ä¸º 1ï¼Œè¡¨ç¤ºè¯·æ±‚å»ºç«‹è¿æ¥ã€‚</li><li><strong>æœåŠ¡å™¨å“åº”ç¡®è®¤è¿æ¥è¯·æ±‚</strong>ï¼šæœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„ SYN æŠ¥æ–‡æ®µåï¼Œä¼šå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ª ACK æŠ¥æ–‡æ®µä½œä¸ºç¡®è®¤ï¼ŒåŒæ—¶ä¹Ÿå‘é€ä¸€ä¸ª SYN æŠ¥æ–‡æ®µã€‚æœåŠ¡å™¨åœ¨ SYN æŠ¥æ–‡æ®µä¸­æŒ‡å®šæœåŠ¡å™¨çš„åˆå§‹åºåˆ—å·ï¼Œå¹¶è®¾ç½® SYN å’Œ ACK æ ‡å¿—ä½ä¸º 1ï¼Œè¡¨ç¤ºç¡®è®¤å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶è¯·æ±‚å»ºç«‹è¿æ¥ã€‚</li><li><strong>å®¢æˆ·ç«¯ç¡®è®¤è¿æ¥</strong>ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„ SYN æŠ¥æ–‡æ®µåï¼Œä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª ACK æŠ¥æ–‡æ®µä½œä¸ºç¡®è®¤ã€‚å®¢æˆ·ç«¯è®¾ç½® ACK æ ‡å¿—ä½ä¸º 1ï¼Œè¡¨ç¤ºç¡®è®¤æœåŠ¡å™¨çš„è¿æ¥è¯·æ±‚ï¼Œå»ºç«‹è¿æ¥ã€‚</li></ol><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8355f9f227574d9ca85e5c76e9cfb872~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=864&h=439&s=265977&e=png&b=fdfdfd" alt="image.png"></p><h3 id="4-å‘èµ·-HTTP-è¯·æ±‚"><a href="#4-å‘èµ·-HTTP-è¯·æ±‚" class="headerlink" title="4.å‘èµ· HTTP è¯·æ±‚"></a>4.å‘èµ· HTTP è¯·æ±‚</h3><p>å½“å»ºç«‹ TCP è¿æ¥ä¹‹åï¼Œæµè§ˆå™¨å°±å¯ä»¥å‘é€ Â HTTP è¯·æ±‚åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œè¯·æ±‚çš„å†…å®¹åŒ…æ‹¬ï¼š</p><ul><li><strong>è¯·æ±‚è¡Œï¼š</strong> è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚çš„ URLã€HTTP åè®®çš„ç‰ˆæœ¬</li><li><strong>è¯·æ±‚å¤´éƒ¨ï¼š</strong> åŒ…å«äº†å…³äºå®¢æˆ·ç«¯ã€è¯·æ±‚ã€æ‰€éœ€èµ„æºç­‰çš„ä¿¡æ¯ï¼ˆHostã€User-Agent ç­‰ç­‰ï¼‰</li><li><strong>è¯·æ±‚ä½“</strong>ï¼ˆä»…åœ¨å‘æœåŠ¡å™¨å‘é€æ•°æ®æ—¶æ‰æœ‰ï¼‰ï¼šåŒ…å«äº†è¦å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ï¼Œå¦‚è¡¨å•æ•°æ®ã€JSON æ•°æ®ç­‰ã€‚</li></ul><h3 id="5-æœåŠ¡å™¨å“åº”"><a href="#5-æœåŠ¡å™¨å“åº”" class="headerlink" title="5.æœåŠ¡å™¨å“åº”"></a>5.æœåŠ¡å™¨å“åº”</h3><p>æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œè¿”å›ç›¸åº”çš„èµ„æºæ•°æ®ï¼Œå“åº”çš„å†…å®¹åŒ…æ‹¬ï¼š</p><ul><li><strong>çŠ¶æ€è¡Œï¼š</strong> åŒ…å«äº† HTTP åè®®çš„ç‰ˆæœ¬ã€çŠ¶æ€ç å’ŒçŠ¶æ€æ¶ˆæ¯ã€‚</li><li><strong>å“åº”å¤´ï¼š</strong> åŒ…å«äº†å…³äºå“åº”ã€æœåŠ¡å™¨ã€æ‰€è¿”å›èµ„æºç­‰çš„ä¿¡æ¯ï¼ˆContent-Typeã€Content-Length ç­‰ç­‰ï¼‰ã€‚</li><li><strong>å“åº”ä½“ï¼š</strong> åŒ…å«æœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯çš„å®é™…æ•°æ®ï¼Œå¦‚ HTML é¡µé¢ã€å›¾ç‰‡ç­‰ã€‚</li></ul><h3 id="6-æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢"><a href="#6-æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢" class="headerlink" title="6.æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢"></a>6.æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</h3><h4 id="1-æ„å»º-DOM-æ ‘"><a href="#1-æ„å»º-DOM-æ ‘" class="headerlink" title="1.æ„å»º DOM æ ‘"></a>1.æ„å»º DOM æ ‘</h4><ol><li><strong>è¯æ³•åˆ†æ</strong> ï¼š<ul><li>æµè§ˆå™¨æ¥æ”¶åˆ° HTML å­—ç¬¦ä¸²åï¼Œä¼šå°†å…¶åˆ†è§£æˆä¸€ç³»åˆ—çš„æ ‡è®°ï¼ˆtokensï¼‰ã€‚</li><li>æ ‡è®°åŒ…æ‹¬å¼€å§‹æ ‡ç­¾ã€ç»“æŸæ ‡ç­¾ã€å±æ€§ã€æ–‡æœ¬å†…å®¹ç­‰ã€‚</li></ul></li><li><strong>è§£ææ ‡è®°</strong> ï¼š<ul><li>æµè§ˆå™¨æ ¹æ®è¯æ³•åˆ†æå¾—åˆ°çš„æ ‡è®°ï¼Œå¼€å§‹è§£æè¿™äº›æ ‡è®°å¹¶æ„å»º DOM èŠ‚ç‚¹ã€‚</li><li>å½“è§£æåˆ°å¼€å§‹æ ‡ç­¾æ—¶ï¼Œæµè§ˆå™¨åˆ›å»ºå¯¹åº”çš„å…ƒç´ èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶åŠ å…¥ DOM æ ‘ä¸­ã€‚</li><li>å½“è§£æåˆ°å±æ€§æ—¶ï¼Œæµè§ˆå™¨å°†å±æ€§æ·»åŠ åˆ°å¯¹åº”çš„å…ƒç´ èŠ‚ç‚¹ä¸Šã€‚</li><li>å½“è§£æåˆ°æ–‡æœ¬å†…å®¹æ—¶ï¼Œæµè§ˆå™¨åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶åŠ å…¥åˆ° DOM æ ‘ä¸­ã€‚</li></ul></li><li><strong>æ„å»º DOM æ ‘</strong>ï¼š<ul><li>åœ¨è§£æè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®æ ‡è®°çš„åµŒå¥—å…³ç³»æ„å»ºå‡ºå®Œæ•´çš„ DOM æ ‘ç»“æ„ã€‚</li><li>æ ¹æ® HTML æ–‡æ¡£çš„å±‚æ¬¡ç»“æ„ï¼Œæµè§ˆå™¨å°†åˆ›å»ºçš„å…ƒç´ èŠ‚ç‚¹å’Œæ–‡æœ¬èŠ‚ç‚¹æŒ‰ç…§å…¶åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®è¿›è¡Œç»„ç»‡ï¼Œå½¢æˆä¸€æ£µæ ‘çŠ¶ç»“æ„ã€‚</li></ul></li></ol><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/608838c921b24d74a2bff2c3c2d8adaa~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=800&h=443&s=214016&e=png&b=fefdfd" alt="image.png"></p><h4 id="2-æ„å»º-CSSOM-æ ‘"><a href="#2-æ„å»º-CSSOM-æ ‘" class="headerlink" title="2.æ„å»º CSSOM æ ‘"></a>2.æ„å»º CSSOM æ ‘</h4><ol><li><strong>è¯æ³•åˆ†æ</strong> ï¼š<ul><li>æµè§ˆå™¨æ¥æ”¶åˆ° CSS å­—ç¬¦ä¸²åï¼Œä¼šå°†å…¶åˆ†è§£æˆä¸€ç³»åˆ—çš„æ ‡è®°ï¼ˆtokensï¼‰ã€‚</li><li>æ ‡è®°åŒ…æ‹¬é€‰æ‹©å™¨ã€å±æ€§ã€å±æ€§å€¼ç­‰ã€‚</li></ul></li><li><strong>è§£ææ ·å¼è¡¨</strong> ï¼š<ul><li>æµè§ˆå™¨æ ¹æ®è¯æ³•åˆ†æå¾—åˆ°çš„æ ‡è®°ï¼Œå¼€å§‹è§£æè¿™äº›æ ‡è®°å¹¶æ„å»º CSSOM èŠ‚ç‚¹ã€‚</li><li>å½“è§£æåˆ°é€‰æ‹©å™¨æ—¶ï¼Œæµè§ˆå™¨åˆ›å»ºå¯¹åº”çš„è§„åˆ™èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶åŠ å…¥ CSSOM æ ‘ä¸­ã€‚</li><li>å½“è§£æåˆ°å±æ€§å’Œå±æ€§å€¼æ—¶ï¼Œæµè§ˆå™¨å°†å…¶æ·»åŠ åˆ°å¯¹åº”çš„è§„åˆ™èŠ‚ç‚¹ä¸Šã€‚</li></ul></li><li><strong>è®¡ç®—ä¼˜å…ˆçº§</strong> ï¼š<ul><li>åœ¨è§£æè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šç¡®å®šæ ·å¼çš„ä¼˜å…ˆçº§ã€‚</li></ul></li><li><strong>å¤„ç†æ ·å¼ç»§æ‰¿</strong> ï¼š<ul><li>æµè§ˆå™¨ä¼šå¤„ç†æ ·å¼çš„ç»§æ‰¿å…³ç³»ï¼Œå°†çˆ¶å…ƒç´ çš„æ ·å¼å±æ€§åº”ç”¨åˆ°å­å…ƒç´ ä¸Šã€‚</li></ul></li><li><strong>è§£ææ ·å¼è¡¨å¼•ç”¨</strong> ï¼š<ul><li>å¦‚æœæ ·å¼è¡¨ä¸­åŒ…å«äº† <code>@import</code> è§„åˆ™ï¼Œæµè§ˆå™¨ä¼šè§£æå¼•å…¥çš„å¤–éƒ¨æ ·å¼è¡¨ï¼Œå¹¶å°†å…¶å†…å®¹åˆå¹¶åˆ°å½“å‰çš„ CSSOM æ ‘ä¸­ã€‚</li></ul></li><li><strong>åˆå¹¶æ ·å¼è¡¨ï¼ˆMerging Stylesheetsï¼‰</strong> ï¼š<ul><li>å¦‚æœé¡µé¢ä¸­åŒ…å«å¤šä¸ªæ ·å¼è¡¨ï¼Œæµè§ˆå™¨ä¼šå°†è¿™äº›æ ·å¼è¡¨åˆå¹¶æˆä¸€ä¸ªç»Ÿä¸€çš„ CSSOM æ ‘ã€‚</li></ul></li></ol><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/395b713f42e54922bb733d37f6a0f574~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=582&h=299&s=123760&e=png&b=fbfafa" alt="image.png"></p><h4 id="3-æ„å»ºæ¸²æŸ“æ ‘"><a href="#3-æ„å»ºæ¸²æŸ“æ ‘" class="headerlink" title="3.æ„å»ºæ¸²æŸ“æ ‘"></a>3.æ„å»ºæ¸²æŸ“æ ‘</h4><p>æµè§ˆå™¨å°† DOM æ ‘å’Œ CSSOM æ ‘åˆå¹¶æˆæ¸²æŸ“æ ‘ï¼ˆRender Treeï¼‰ã€‚</p><ol><li><strong>ä» DOM æ ‘å’Œ CSSOM æ ‘ä¸­é€‰æ‹©å¯è§å…ƒç´ </strong>ï¼š<ul><li>é¦–å…ˆï¼Œæµè§ˆå™¨éœ€è¦ä» DOM æ ‘å’Œ CSSOM æ ‘ä¸­é€‰æ‹©å‡ºåœ¨é¡µé¢ä¸­å¯è§çš„å…ƒç´ ã€‚</li><li>ä¸å¯è§çš„å…ƒç´ ï¼Œå¦‚ <code>&lt;head&gt;</code>ã€<code>script</code> æ ‡ç­¾å†…çš„å†…å®¹ç­‰ï¼Œä¸ä¼šåŒ…å«åœ¨æ¸²æŸ“æ ‘ä¸­ã€‚</li></ul></li><li><strong>åŒ¹é…æ ·å¼è§„åˆ™</strong>ï¼š<ul><li>å¯¹äºæ¸²æŸ“æ ‘ä¸­çš„æ¯ä¸ªå¯è§å…ƒç´ ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®å…¶æ ‡ç­¾å’Œå±æ€§ç­‰ä¿¡æ¯ï¼ŒåŒ¹é…é€‚ç”¨çš„ CSS æ ·å¼è§„åˆ™ã€‚</li></ul></li><li><strong>è®¡ç®—æœ€ç»ˆæ ·å¼</strong>ï¼š<ul><li>å½“ä¸€ä¸ªå…ƒç´ åŒ¹é…åˆ°å¤šä¸ª CSS æ ·å¼è§„åˆ™æ—¶ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®ä¼˜å…ˆçº§å’Œå±‚å è§„åˆ™è®¡ç®—å‡ºæœ€ç»ˆçš„æ ·å¼å€¼ã€‚</li></ul></li><li><strong>ç”Ÿæˆæ¸²æŸ“æ ‘</strong>ï¼š<ul><li>å½“æ‰€æœ‰å¯è§å…ƒç´ éƒ½è¢«åŒ¹é…æ ·å¼å¹¶åŠ å…¥æ¸²æŸ“æ ‘åï¼Œæ¸²æŸ“æ ‘çš„æ„å»ºè¿‡ç¨‹å°±å®Œæˆäº†ã€‚</li></ul></li></ol><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8798bcc009a4c0e8d1b41b25b5a6886~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1726&h=840&s=332657&e=png&b=fdfdfd" alt="image.png"></p><h4 id="4-å›æµ"><a href="#4-å›æµ" class="headerlink" title="4.å›æµ"></a>4.å›æµ</h4><p>æœ‰äº†æ¸²æŸ“æ ‘ï¼Œå†æ¥ç€å°±è¦è¿›å…¥å›æµï¼ˆReflowï¼‰ï¼Œä¹Ÿç§°ä¸ºé‡æ–°å¸ƒå±€ï¼ˆLayoutï¼‰ï¼Œæµè§ˆå™¨æ ¹æ®æ¸²æŸ“æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å¸ƒå±€ä¿¡æ¯ï¼Œè®¡ç®—å„ä¸ªèŠ‚ç‚¹åœ¨é¡µé¢ä¸­çš„ä½ç½®å’Œå¤§å°ã€‚å½“é¡µé¢ä¸­çš„å…ƒç´ å°ºå¯¸ã€ä½ç½®æˆ–å¯è§æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å¹¶æ›´æ–°é¡µé¢çš„å¸ƒå±€ä¿¡æ¯ã€‚</p><h4 id="5-é‡ç»˜"><a href="#5-é‡ç»˜" class="headerlink" title="5.é‡ç»˜"></a>5.é‡ç»˜</h4><p>å›æµä¸€å®šä¼´éšç€é‡ç»˜ï¼ˆRepaintï¼‰ï¼Œé‡ç»˜æ˜¯æŒ‡æµè§ˆå™¨æ ¹æ®å…ƒç´ çš„æ ·å¼ä¿¡æ¯é‡æ–°ç»˜åˆ¶é¡µé¢çš„è¿‡ç¨‹ï¼Œè€Œä¸æ¶‰åŠå¸ƒå±€çš„æ”¹å˜ã€‚æµè§ˆå™¨æ ¹æ®å¸ƒå±€ä¿¡æ¯ï¼Œå°†é¡µé¢å†…å®¹ç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚å½“å…ƒç´ çš„æ ·å¼å±æ€§ï¼ˆå¦‚é¢œè‰²ã€èƒŒæ™¯è‰²ã€æ–‡æœ¬ç­‰ï¼‰å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè§¦å‘é‡ç»˜æ“ä½œã€‚</p><h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h2><h3 id="1-DNS-è§£æä¼˜åŒ–"><a href="#1-DNS-è§£æä¼˜åŒ–" class="headerlink" title="1.DNS è§£æä¼˜åŒ–"></a>1.DNS è§£æä¼˜åŒ–</h3><ul><li>ä½¿ç”¨å¿«é€Ÿçš„ DNS æœåŠ¡å™¨ï¼Œå¯ä»¥å€ŸåŠ© CDN ï¼Œå‡å°‘åŸŸåè§£ææ—¶é—´ã€‚</li><li>å‡å°‘ä¸å¿…è¦çš„åŸŸåè§£æï¼Œåˆå¹¶èµ„æºåˆ°å°½å¯èƒ½å°‘çš„åŸŸåã€‚</li></ul><h3 id="2-å»ºç«‹-TCP-è¿æ¥ä¼˜åŒ–"><a href="#2-å»ºç«‹-TCP-è¿æ¥ä¼˜åŒ–" class="headerlink" title="2.å»ºç«‹ TCP è¿æ¥ä¼˜åŒ–"></a>2.å»ºç«‹ TCP è¿æ¥ä¼˜åŒ–</h3><ul><li>ä½¿ç”¨ HTTP&#x2F;2 ä»¥ä¸Šç‰ˆæœ¬åè®®ï¼Œå……åˆ†åˆ©ç”¨å¤šè·¯å¤ç”¨åŠŸèƒ½ï¼Œå‡å°‘è¿æ¥å»ºç«‹æ—¶é—´ã€‚</li><li>å‡å°‘ä¸å¿…è¦çš„ TCP è¿æ¥ï¼Œé€šè¿‡åˆå¹¶æˆ–å†…è”èµ„æºæ¥å‡å°‘è¿æ¥å»ºç«‹æ¬¡æ•°ã€‚</li></ul><h3 id="3-å‘èµ·-HTTP-è¯·æ±‚ä¼˜åŒ–"><a href="#3-å‘èµ·-HTTP-è¯·æ±‚ä¼˜åŒ–" class="headerlink" title="3.å‘èµ· HTTP è¯·æ±‚ä¼˜åŒ–"></a>3.å‘èµ· HTTP è¯·æ±‚ä¼˜åŒ–</h3><ul><li>å‡å°‘ HTTP è¯·æ±‚æ¬¡æ•°ï¼Œé€šè¿‡åˆå¹¶æˆ–å†…è”èµ„æºæ¥å‡å°‘è¯·æ±‚æ¬¡æ•°ï¼ˆæ¯”å¦‚å›¾ç‰‡èµ„æºå¯ä»¥è€ƒè™‘æ‡’åŠ è½½å›¾ç‰‡æˆ–ä½¿ç”¨ç²¾çµå›¾ï¼‰ã€‚</li><li>ä½¿ç”¨èµ„æºé¢„åŠ è½½å’Œé¢„è§£ææ¥é¢„å…ˆåŠ è½½é¡µé¢æ‰€éœ€èµ„æºã€‚<code>&lt;link rel=&quot;preload&quot;&gt;</code> æˆ– <code>&lt;link rel=&quot;prefetch&quot;&gt;</code></li></ul><h3 id="4-æœåŠ¡å™¨å“åº”ä¼˜åŒ–"><a href="#4-æœåŠ¡å™¨å“åº”ä¼˜åŒ–" class="headerlink" title="4.æœåŠ¡å™¨å“åº”ä¼˜åŒ–"></a>4.æœåŠ¡å™¨å“åº”ä¼˜åŒ–</h3><ul><li>ä½¿ç”¨ CDN åŠ é€Ÿèµ„æºä¼ è¾“ï¼Œæé«˜æœåŠ¡å™¨å“åº”é€Ÿåº¦ã€‚</li><li>å¯ç”¨æœåŠ¡å™¨ç«¯ç¼“å­˜ï¼Œç¼“å­˜åŠ¨æ€ç”Ÿæˆçš„å†…å®¹æˆ–æ•°æ®åº“æŸ¥è¯¢ç»“æœï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›å’Œå“åº”æ—¶é—´ã€‚</li></ul><h3 id="5-èµ„æºä¸‹è½½ä¼˜åŒ–"><a href="#5-èµ„æºä¸‹è½½ä¼˜åŒ–" class="headerlink" title="5.èµ„æºä¸‹è½½ä¼˜åŒ–"></a>5.èµ„æºä¸‹è½½ä¼˜åŒ–</h3><ul><li>å‡å°èµ„æºæ–‡ä»¶å¤§å°ï¼Œå¦‚ä¼˜åŒ–å›¾ç‰‡ï¼ˆä½¿ç”¨ WebP æ ¼å¼ï¼‰ã€å‹ç¼© JavaScript å’Œ CSSã€‚</li><li>ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜ï¼ˆCache-Controlã€Expiresï¼‰ï¼Œå‡å°‘å¯¹æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œå°¤å…¶æ˜¯é™æ€èµ„æºã€‚</li><li>ä½¿ç”¨å¼‚æ­¥åŠ è½½ <code>&lt;script async&gt;</code> å’Œ <code>&lt;script defer&gt;</code></li></ul><h3 id="6-HTML-è§£æä¼˜åŒ–"><a href="#6-HTML-è§£æä¼˜åŒ–" class="headerlink" title="6.HTML è§£æä¼˜åŒ–"></a>6.HTML è§£æä¼˜åŒ–</h3><ul><li>ç¼–å†™è¯­ä¹‰åŒ–çš„ HTMLï¼Œé¿å…è¿‡å¤šåµŒå¥—å’Œå†—ä½™æ ‡ç­¾ã€‚</li><li>å‡å° HTML æ–‡ä»¶å¤§å°ï¼Œå»é™¤ä¸å¿…è¦çš„ç©ºæ ¼å’Œæ³¨é‡Šã€‚</li></ul><h3 id="7-CSS-è§£æä¼˜åŒ–"><a href="#7-CSS-è§£æä¼˜åŒ–" class="headerlink" title="7.CSS è§£æä¼˜åŒ–"></a>7.CSS è§£æä¼˜åŒ–</h3><ul><li>å‡å°‘ CSS æ–‡ä»¶å¤§å°ï¼Œåˆ é™¤ä¸å¿…è¦çš„æ ·å¼å’Œé€‰æ‹©å™¨ã€‚</li><li>é¿å…ä½¿ç”¨æ˜‚è´µçš„ CSS é€‰æ‹©å™¨ï¼ˆå°½é‡ç»™æ¯ä¸€ä¸ªæ ‡ç­¾ç»™å®šç±»åï¼Œä¸è¦åµŒå¥—ï¼‰ï¼Œä¼˜åŒ–æ ·å¼è¡¨æ€§èƒ½ã€‚</li></ul><h3 id="8-æ„å»ºæ¸²æŸ“æ ‘ä¼˜åŒ–"><a href="#8-æ„å»ºæ¸²æŸ“æ ‘ä¼˜åŒ–" class="headerlink" title="8.æ„å»ºæ¸²æŸ“æ ‘ä¼˜åŒ–"></a>8.æ„å»ºæ¸²æŸ“æ ‘ä¼˜åŒ–</h3><ul><li>å‡å°‘ä¸å¿…è¦çš„ DOM æ“ä½œï¼Œä¼˜åŒ– JS æ‰§è¡Œæ€§èƒ½ã€‚</li><li>é¿å…ä½¿ç”¨ JS åŠ¨æ€ä¿®æ”¹æ ·å¼ï¼Œå°½é‡ä½¿ç”¨ CSS å®ç°åŠ¨ç”»æ•ˆæœã€‚</li></ul><h3 id="9-å›æµä¼˜åŒ–"><a href="#9-å›æµä¼˜åŒ–" class="headerlink" title="9.å›æµä¼˜åŒ–"></a>9.å›æµä¼˜åŒ–</h3><ul><li>ä½¿ç”¨æ–°å¸ƒå±€ï¼ˆFlexbox æˆ– Grid å¸ƒå±€ï¼‰ï¼Œå‡å°‘å¤æ‚çš„å¸ƒå±€è®¡ç®—ã€‚</li><li>é¿å…é¢‘ç¹ä¿®æ”¹æ ·å¼å±æ€§ï¼Œå°½é‡ä½¿ç”¨æ‰¹é‡ä¿®æ”¹æˆ–è€…ä½¿ç”¨ç±»ååˆ‡æ¢çš„æ–¹å¼ã€‚</li></ul><h3 id="10-é‡ç»˜ä¼˜åŒ–"><a href="#10-é‡ç»˜ä¼˜åŒ–" class="headerlink" title="10.é‡ç»˜ä¼˜åŒ–"></a>10.é‡ç»˜ä¼˜åŒ–</h3><ul><li>ä½¿ç”¨ transform å’Œ opacity å±æ€§æ¥è§¦å‘ç¡¬ä»¶åŠ é€Ÿï¼Œå‡å°‘é¡µé¢é‡ç»˜æ¬¡æ•°ã€‚</li><li>é¿å…åœ¨é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­é˜»å¡æ¸²æŸ“ï¼Œå°½å¿«å°†é¡µé¢å†…å®¹å‘ˆç°ç»™ç”¨æˆ·ã€‚</li><li>å¦‚æœéœ€è¦æ“ä½œ DOMï¼Œå…ˆè®© DOM è„±ç¦»æ–‡æ¡£æµï¼Œå†ä¿®æ”¹ï¼Œå†å¸¦å›æ–‡æ¡£æµï¼ˆæˆ–è€…ä½¿ç”¨ DocumentFragmentï¼‰ï¼Œå‡å°‘å›æµé‡ç»˜ã€‚</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://juejin.cn/post/6844904134307495943?searchId=20240426205357E60AB4CA7A393DAA106E#heading-26">ã€Œä¸€é“é¢è¯•é¢˜ã€è¾“å…¥ URL åˆ°æ¸²æŸ“å…¨é¢æ¢³ç†ä¸­-é¡µé¢æ¸²æŸ“ç¯‡ - æ˜é‡‘ (juejin.cn)</a></li><li><a href="https://juejin.cn/post/6844903784229896199?searchId=20240426205107A43476DE1FB412A9CC53#heading-15">ä» URL è¾“å…¥åˆ°é¡µé¢å±•ç°åˆ°åº•å‘ç”Ÿä»€ä¹ˆï¼Ÿ - æ˜é‡‘ (juejin.cn)</a></li><li><a href="https://vue3js.cn/interview/http/after_url.html#%E4%BA%8C%E3%80%81%E8%AF%A6%E7%BB%86%E5%88%86%E6%9E%90">é¢è¯•å®˜ï¼šè¯´è¯´åœ°å€æ è¾“å…¥ URL æ•²ä¸‹å›è½¦åå‘ç”Ÿäº†ä»€ä¹ˆ? | web å‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></li></ul><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å·²å°†å­¦ä¹ ä»£ç ä¸Šä¼ è‡³ <a href="https://github.com/YangyangU/CodeSpace">github</a>ï¼Œæ¬¢è¿å¤§å®¶å­¦ä¹ æŒ‡æ­£ï¼</p>]]></content>
    
    
    <categories>
      
      <category>æ€§èƒ½ä¼˜åŒ–</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€§èƒ½ä¼˜åŒ–</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€æ–‡ææ‡‚ Webpack å’Œ Vite</title>
    <link href="/2024/04/25/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82Webpack%E5%92%8CVite/"/>
    <url>/2024/04/25/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82Webpack%E5%92%8CVite/</url>
    
    <content type="html"><![CDATA[<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2b07f91e750c4751ab4e412a06fb8c9f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=771&h=318&s=214903&e=png&b=fec644" alt="image.png"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Webpack å’Œ Vite éƒ½æ˜¯å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·ã€‚Webpack ä½œä¸ºè€å¤§å“¥ï¼Œåœ¨å‰ç«¯ç¤¾åŒºä¹Ÿç®—ç«™ç¨³äº†è„šè·Ÿï¼Œå®ƒæä¾›äº†è®¸å¤šé…ç½®å’Œæ’ä»¶ï¼Œè®©å¼€å‘è€…å®šåˆ¶åŒ–æ„å»ºé¡¹ç›®ã€‚éšç€ Vite çš„å‡ºç°ï¼ŒWebpack åœ¨å¯åŠ¨æ—¶é—´å’Œçƒ­æ›´æ–°æ–¹é¢çš„ç¼ºé™·å°±æ…¢æ…¢æš´éœ²ï¼ŒVite é€æ¸å¼€å§‹æ›¿ä»£ Webpackã€‚</p><h2 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h2><h3 id="ä½¿ç”¨æ­¥éª¤"><a href="#ä½¿ç”¨æ­¥éª¤" class="headerlink" title="ä½¿ç”¨æ­¥éª¤"></a>ä½¿ç”¨æ­¥éª¤</h3><p><strong>1. åˆå§‹åŒ–é¡¹ç›®</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn init -y<br></code></pre></td></tr></table></figure><p><strong>2. å®‰è£…ä¾èµ–</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add webpack webpack-cli -D<br></code></pre></td></tr></table></figure><p><strong>3. åœ¨é¡¹ç›®ä¸­åˆ›å»º src ç›®å½•ï¼Œç¼–å†™ä»£ç </strong></p><p><strong>4. æ‰“åŒ…</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn webpack<br></code></pre></td></tr></table></figure><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>Webpack æä¾›é…ç½®é¡¹å’Œæ’ä»¶ç³»ç»Ÿï¼Œå…è®¸æˆ‘ä»¬åœ¨<code>webpack.config.js</code>æ–‡ä»¶ä¸­è¿›è¡Œå„ç§é…ç½®ï¼Œä»è€Œå¸®åŠ©æˆ‘ä»¬å®šåˆ¶åŒ–æ„å»ºé¡¹ç›®ã€‚</p><h4 id="mode"><a href="#mode" class="headerlink" title="mode"></a>mode</h4><p>è®¾ç½®æ‰“åŒ…çš„æ¨¡å¼ï¼Œ<code>production</code>ä¸ºç”Ÿäº§æ¨¡å¼ï¼Œ<code>development</code>ä¸ºå¼€å‘æ¨¡å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;production&quot;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="entry"><a href="#entry" class="headerlink" title="entry"></a>entry</h4><p>æŒ‡å®šæ‰“åŒ…å…¥å£æ–‡ä»¶ï¼Œé»˜è®¤ä¸º<code>./src/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/a.js&quot;</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><p>æŒ‡å®šæ‰“åŒ…å…¥å£æ–‡ä»¶ä¸º<code>./src/a.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">entry</span>: [<span class="hljs-string">&quot;./src/a.js&quot;</span>, <span class="hljs-string">&quot;./src/b.js&quot;</span>];<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨æ•°ç»„å¯ä»¥è®¾ç½®å¤šä¸ªå…¥å£æ–‡ä»¶ï¼Œä½†æ˜¯æœ€åå§‹ç»ˆæ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">entry</span>:&#123;<br>    <span class="hljs-attr">aa</span>:<span class="hljs-string">&#x27;./src/a.js&#x27;</span>,<br>    <span class="hljs-attr">bb</span>:<span class="hljs-string">&#x27;./src/b.js&#x27;</span><br>&#125;,<br></code></pre></td></tr></table></figure><p>å¯¹è±¡å½¢å¼ä¹Ÿå¯è®¾ç½®å¤šä¸ªå…¥å£æ–‡ä»¶ï¼Œä½†æ˜¯ä¼šæ‰“åŒ…æˆå¤šä¸ªæ–‡ä»¶ã€‚Webpack ä¼šå°†<code>value</code>æ–‡ä»¶æ‰“åŒ…æˆ<code>key.js</code>æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸Šè¿°ä¾‹å­ä¼šå°†<code>&#39;./src/a.js&#39;</code>æ–‡ä»¶æ‰“åŒ…æˆ<code>aa.js</code>æ–‡ä»¶ã€<code>&#39;./src/b.js&#39;</code>ä»¶æ‰“åŒ…æˆ<code>bb.js</code>æ–‡ä»¶ã€‚</p><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><p>å¯¹æ‰“åŒ…åçš„æ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œé»˜è®¤æ‰“åŒ…æ–‡ä»¶åœ°å€ä¸º<code>./dist/main.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;bundle.js&quot;</span>, <span class="hljs-comment">//æ‰“åŒ…åçš„æ–‡ä»¶å</span><br>    <span class="hljs-attr">clean</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//æ¯æ¬¡æ‰“åŒ…å‰æ¸…é™¤ä¸Šæ¬¡æ‰“åŒ…çš„æ–‡ä»¶</span><br>    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;hello&quot;</span>), <span class="hljs-comment">//æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾è·¯å¾„ï¼Œå¿…é¡»è¦ç»å¯¹è·¯å¾„</span><br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>åœ¨<code>filename</code>ä¸­ Webpack æä¾›æ¨¡ç‰ˆå­—ç¬¦ä¸²çš„å½¢å¼ï¼Œå¯ä»¥è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€æ–‡ä»¶åï¼š</p><ul><li><code>filename: &quot;[name].js&quot;</code> æ‰“åŒ…å¤šä¸ªæ–‡ä»¶æ—¶åŒ¹é…å¯¹åº”çš„æ–‡ä»¶å,<code>[name]</code>ä¸ entry ä¸­çš„ key å¯¹åº”ã€‚</li><li><code>filename: &quot;[hash].js&quot;</code> ä¼šéšæœºç”Ÿæˆå“ˆå¸Œå€¼ï¼Œä¸€èˆ¬ç”¨äºåŒºåˆ†ç‰ˆæœ¬ã€‚</li></ul><p>ç­‰ç­‰ï¼Œè¯¦æƒ…å‚è€ƒå®˜æ–¹æ–‡æ¡£ <a href="https://webpack.docschina.org/configuration/output/#template-strings">Output | template-strings</a></p><h4 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h4><p>Webpack é»˜è®¤æƒ…å†µä¸‹ï¼Œåªä¼šå¤„ç† js æ–‡ä»¶ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›å®ƒå¯ä»¥å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œåˆ™è¦ä¸ºå…¶å¼•å…¥ loader</p><p>ä»¥ css ä¸ºä¾‹ï¼Œå¦‚æœæˆ‘ä»¬ä¸è¿›è¡Œä»»ä½•æ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//ç›´æ¥å°†csså¼•å…¥åˆ°jsä¸­</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./style/index.css&quot;</span>;<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">insertAdjacentHTML</span>(<span class="hljs-string">&quot;beforeend&quot;</span>, <span class="hljs-string">&quot;&lt;h1&gt;hello webpack&lt;/h1&gt;&quot;</span>);<br></code></pre></td></tr></table></figure><p>ç›´æ¥æ‰“åŒ…</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b79dfc906c304c919c48740c96fca4f0~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=745&h=222&s=21476&e=png&b=1e1e1e" alt="image.png"></p><p>æŠ¥é”™äº†ï¼ŒWebpack è¯´è¯»ä¸æ‡‚ã€‚</p><p>æˆ‘ä»¬éœ€è¦å®‰è£…è§£æ css æ–‡ä»¶çš„ loaderï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add css-loader<br></code></pre></td></tr></table></figure><p>é…ç½® loaderï¼Œ<code>rules</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…è®¸æˆ‘ä»¬é…ç½®å¤šä¸ª loaderï¼Œ<code>test</code>å±æ€§æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºåŒ¹é…å¯¹åº” loader çš„æ–‡ä»¶ï¼Œ<code>use</code>å±æ€§åˆ™æ˜¯åŒ¹é…å¯¹åº” loaderã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">module</span>: &#123;<br>  <span class="hljs-attr">rules</span>: [<br>    &#123;<br>      <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>, <span class="hljs-comment">//åŒ¹é…æ–‡ä»¶</span><br>      <span class="hljs-attr">use</span>: <span class="hljs-string">&quot;css-loader&quot;</span>,<br>    &#125;,<br>  ];<br>&#125;<br></code></pre></td></tr></table></figure><p>é…ç½®å®Œæ¯•ï¼ŒæˆåŠŸæ‰“åŒ…ï¼Œä½†æ˜¯é¡µé¢ä¸Šå¹¶æ²¡æœ‰æ ·å¼ï¼Œä½†æ˜¯æ‰“åŒ…æ–‡ä»¶ä¸­æ˜¯æœ‰æ ·å¼çš„å•Šï¼Œä¸ºä»€ä¹ˆå°±æ²¡æœ‰æ˜¾ç¤ºåˆ°é¡µé¢ä¸Šå‘¢ï¼Ÿ</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f78ba8c1067840159bffdb596152f8f4~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=481&h=61&s=4104&e=png&b=1f1f1f" alt="image.png"></p><p>å› ä¸º loader éµå¾ªèŒè´£å•ä¸€åŸåˆ™ï¼Œä¸€ä¸ª loader åªåšä¸€ä»¶äº‹æƒ…ï¼Œå¦‚æœä½ æƒ³åœ¨æ‰“åŒ…çš„æ–‡ä»¶ä¸­ä½¿ç”¨ä¸Š cssï¼Œå…‰æœ‰è§£æ loader è¿˜ä¸å¤Ÿï¼Œè¿˜éœ€è¦å®‰è£…å¦ä¸€ä¸ª loaderï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add style-loader<br></code></pre></td></tr></table></figure><p>ç„¶åé…ç½®<code>style-loader</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">module</span>: &#123;<br>    <span class="hljs-attr">rules</span>: [<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>, <span class="hljs-comment">//åŒ¹é…æ–‡ä»¶</span><br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&quot;style-loader&quot;</span>, <span class="hljs-string">&quot;css-loader&quot;</span>], <span class="hljs-comment">//ä»åå¾€å‰æ‰§è¡Œ,æœ‰é¡ºåºè¦æ±‚</span><br>      &#125;,<br>    ],<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦æ³¨æ„ âš ï¸ï¼Œå¦‚æœæˆ‘ä»¬é…ç½®å¤šä¸ª loaderï¼Œåˆ™ç”¨æ•°ç»„å­˜æ”¾ï¼Œå­˜æ”¾çš„é¡ºåºéµå¾ª<strong>ä»å³å¾€å·¦</strong>ï¼Œå…ˆæ‰§è¡Œçš„æ”¾å³è¾¹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™é‡Œå…ˆç¼–è¯‘ css å†ä½¿ç”¨ï¼Œæ‰€ä»¥é¡ºåºä¸º<code>&#39;style-loader&#39;,&#39;css-loader&#39;</code>ã€‚</p><h5 id="babel-loader"><a href="#babel-loader" class="headerlink" title="babel-loader"></a>babel-loader</h5><p>åœ¨ç¼–å†™ js ä»£ç æ—¶ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨ä¸€äº› js ä¸­çš„æ–°ç‰¹æ€§ï¼Œè€Œæ–°ç‰¹æ€§åœ¨æ—§çš„æµè§ˆå™¨ä¸­å…¼å®¹æ€§å¹¶ä¸å¥½ã€‚ä½†æ˜¯æˆ‘ä»¬ç°åœ¨å¸Œæœ›èƒ½å¤Ÿä½¿ç”¨æ–°çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æŠ˜ä¸­çš„æ–¹æ¡ˆã€‚ä¾ç„¶ä½¿ç”¨æ–°ç‰¹æ€§ç¼–å†™ä»£ç ï¼Œä½†æ˜¯ä»£ç ç¼–å†™å®Œæˆæ—¶æˆ‘ä»¬é€šè¿‡ä¸€äº›å·¥å…·å°†æ–°ä»£ç è½¬æ¢ä¸ºæ—§ä»£ç ã€‚</p><p><a href="https://babel.nodejs.cn/">Babel</a> å°±æ˜¯è¿™æ ·ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥å°†æ–°çš„ js è¯­æ³•è½¬æ¢ä¸ºæ—§çš„ jsï¼Œä»¥æé«˜ä»£ç çš„å…¼å®¹æ€§ã€‚æˆ‘ä»¬å¦‚æœå¸Œæœ›åœ¨ Webpack æ”¯æŒ babelï¼Œåˆ™éœ€è¦å‘ Webpack ä¸­å¼•å…¥ babel-loaderã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">onclick</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;hello webpack&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œåœ¨ä¸åšä»»ä½•å¤„ç†çš„æƒ…å†µä¸‹è¿›è¡Œæ‰“åŒ…</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9a10db0edca94d77872bd99660885a22~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=582&h=61&s=6024&e=png&b=1f1f1f" alt="image.png"></p><p>æ‰“åŒ…åå‘ç°è¿˜æ˜¯ç®­å¤´å‡½æ•°ã€‚</p><p>äºæ˜¯æˆ‘ä»¬å®‰è£…<code>babel-loader</code>ä»¥åŠä¸€äº›é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add -D babel-loader @babel/core @babel/preset-env<br></code></pre></td></tr></table></figure><p>é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">module</span>: &#123;<br>  <span class="hljs-attr">rules</span>: [<br>    &#123;<br>      <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.m?js$/</span>, <span class="hljs-comment">//ä»¥.mjsæˆ–jsåç¼€çš„æ–‡ä»¶</span><br>      <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/(node_modules|bower_components)/</span>, <span class="hljs-comment">//æ’é™¤node_modulesä¸­çš„æ–‡ä»¶</span><br>      <span class="hljs-attr">use</span>: &#123;<br>        <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;babel-loader&quot;</span>,<br>        <span class="hljs-attr">options</span>: &#123;<br>          <span class="hljs-attr">presets</span>: [<span class="hljs-string">&quot;@babel/preset-env&quot;</span>], <span class="hljs-comment">//æ ¹æ®ç›®æ ‡æµè§ˆå™¨æˆ–è¿è¡Œæ—¶ç¯å¢ƒè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„è½¬æ¢è§„åˆ™</span><br>        &#125;,<br>      &#125;,<br>    &#125;,<br>  ];<br>&#125;<br></code></pre></td></tr></table></figure><p>å†è¯•è¯•å‘¢ï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b1a28dfbd914275971397476bf870c9~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=608&h=60&s=6398&e=png&b=1f1f1f" alt="image.png"></p><p>æˆåŠŸå°†ç®­å¤´å‡½æ•°æ‰“åŒ…æˆæ™®é€šå‡½æ•°ã€‚</p><h6 id="é…ç½®å…¼å®¹æ€§"><a href="#é…ç½®å…¼å®¹æ€§" class="headerlink" title="é…ç½®å…¼å®¹æ€§"></a>é…ç½®å…¼å®¹æ€§</h6><p>æˆ‘ä»¬å¯ä»¥åœ¨<code>package.json</code>æ–‡ä»¶ä¸­é…ç½®éœ€è¦å…¼å®¹çš„æµè§ˆå™¨ï¼Œè¯¦æƒ…è§ <a href="https://github.com/browserslist/browserslist">github</a></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;browserslist&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>  <span class="hljs-string">&quot;defaults&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//é»˜è®¤</span><br>  <span class="hljs-string">&quot;ie &lt;= 11&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//ieç‰ˆæœ¬ä½äº11</span><br>  <span class="hljs-string">&quot;last 2 versions&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//è‡³å°‘å­˜åœ¨ä¸¤ä¸ªç‰ˆæœ¬</span><br>  <span class="hljs-string">&quot;&gt; 1%&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//å¸‚åœºå æœ‰ç‡å¤§äº1%</span><br>  <span class="hljs-string">&quot;iOS 7&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><h4 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h4><p>plugin çš„ä½œç”¨æ˜¯ Webpack æ‰©å±•åŠŸèƒ½ã€‚loader å¯ä»¥ç†è§£ä¸ºè½¬æ¢å™¨ï¼Œç”¨äºå¤„ç†æ¨¡å—ä¹‹é—´çš„è½¬æ¢ï¼Œplugin åˆ™ç”¨äºæ‰§è¡Œæ›´å¹¿æ³›çš„ä»»åŠ¡ï¼Œå®ƒå¯ä»¥è®¿é—® Webpack çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨åˆé€‚çš„æ—¶æœºæ‰§è¡Œæ’ä»¶çš„åŠŸèƒ½ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ ğŸŒ°ï¼š</p><p>æˆ‘æƒ³åœ¨æ‰“åŒ…ç›®å½•ç”Ÿæˆ html æ–‡ä»¶ï¼Œç”¨äºè®¿é—®æ‰“åŒ…çš„ js æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å»ºè®®ç›´æ¥æ“ä½œ<code>dist</code>æ‰“åŒ…ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ plugin è‡ªåŠ¨ç”Ÿæˆè¯¥æ–‡ä»¶ã€‚</p><p>å®‰è£…è‡ªåŠ¨ç”Ÿæˆ html æ–‡ä»¶çš„æ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add -D html-webpack-plugin<br></code></pre></td></tr></table></figure><p>é…ç½® plugin</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">plugins</span>: [<br>  <span class="hljs-comment">//è‡ªåŠ¨åˆ›å»ºhtmlæ–‡ä»¶</span><br>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">HTMLPlugin</span>(&#123;<br>    <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Hello Webpack&quot;</span>, <span class="hljs-comment">//é…ç½®htmlæ–‡ä»¶çš„æ ‡é¢˜</span><br>    <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;./src/index.html&quot;</span>, <span class="hljs-comment">//ä»¥å“ªä¸ªæ–‡ä»¶ä¸ºæ¨¡ç‰ˆåˆ›å»º</span><br>  &#125;),<br>];<br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬å†æ¬¡æ‰“åŒ…ï¼Œå°±ä¼šè‡ªåŠ¨ç”ŸæˆåŒ…å«å¯¹åº”é…ç½®çš„ html æ–‡ä»¶ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/87bfecda699449a5979753c9c4d6d3bd~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=200&h=90&s=3005&e=png&b=252526" alt="image.png"></p><h3 id="æœåŠ¡å™¨ç¯å¢ƒ"><a href="#æœåŠ¡å™¨ç¯å¢ƒ" class="headerlink" title="æœåŠ¡å™¨ç¯å¢ƒ"></a>æœåŠ¡å™¨ç¯å¢ƒ</h3><p><code>webpack-cli</code>æä¾›äº†è®¸å¤šå‘½ä»¤å¸®åŠ©æˆ‘ä»¬æ‰“åŒ…è¿è¡Œé¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn webpack<br></code></pre></td></tr></table></figure><p>æ¯æ¬¡ä¿®æ”¹æºç éƒ½éœ€è¦é‡æ–°æ‰“åŒ…ï¼Œå¤ªéº»çƒ¦äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn webpack --watch<br></code></pre></td></tr></table></figure><p>åŠ ä¸Š<code>--watch</code>åæ¯æ¬¡ä¿®æ”¹æºç éƒ½ä¼šè¢«ç›‘å¬åˆ°ï¼Œå¹¶ä¸”é‡æ–°æ‰“åŒ…ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6329df87bb8e4f91a2b344f2d239a561~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=544&h=73&s=11212&e=png&b=1e1e1e" alt="image.png"></p><p>ä½†æ˜¯è¿™ä¸ªå‘½ä»¤ä¸èƒ½å®Œç¾è¿˜åŸé¡¹ç›®ä¸Šçº¿çš„åœºæ™¯ï¼Œå› ä¸ºå®ƒè®¿é—®çš„æ˜¯æ–‡ä»¶ç›®å½•ï¼Œè€Œä¸æ˜¯æœåŠ¡å™¨ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/041b8d5d3b9a4785a96f6810536c74fa~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=704&h=176&s=11852&e=png&b=fefefe" alt="image.png"></p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®‰è£…ä¸€ä¸ª Webpack æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add -D webpack-dev-server<br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®ƒèƒ½å¤Ÿå°†é¡¹ç›®éƒ¨ç½²åˆ°ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ä¸Šï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn webpack serve --open<br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬è®¿é—®æœ¬åœ° 8080 ç«¯å£ï¼Œå°±èƒ½å¤Ÿçœ‹åˆ°æˆ‘ä»¬çš„é¡¹ç›®ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a39e13a757994cbf8ebd21a9be5870a5~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=421&h=149&s=8115&e=png&b=fdfdfd" alt="image.png"></p><p>âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¿™ä¸ªæœåŠ¡å®ƒåªä¼šå°†æˆ‘ä»¬çš„é¡¹ç›®æ‰“åŒ…å¹¶è¿è¡Œåœ¨è¿™ä¸ªæœåŠ¡å™¨ï¼Œä½†æ˜¯æœ¬åœ°çœ‹ä¸åˆ°è¿™ä¸ª<code>dist</code>çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬é¡¹ç›®è°ƒè¯•å®Œæ¯•ï¼Œè¿˜éœ€è¦è‡ªå·±æ‰‹åŠ¨æ‰“åŒ…ä¸€ä¸‹ã€‚</p><h3 id="å¿«æ·å‘½ä»¤"><a href="#å¿«æ·å‘½ä»¤" class="headerlink" title="å¿«æ·å‘½ä»¤"></a>å¿«æ·å‘½ä»¤</h3><p>æˆ‘ä»¬ä¸€èˆ¬ä¼šå°†å¸¸ç”¨çš„å‘½ä»¤é…ç½®ä¸€ä¸‹ï¼Œä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;watch&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack --watch&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack serve --open&quot;</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><h2 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h2><p>Webpack æ˜¯å…ˆæ‰“åŒ…å†è¿è¡Œï¼Œè€Œ Vite å¼€å‘æ—¶å¹¶ä¸æ‰“åŒ…ï¼Œè€Œæ˜¯ç›´æ¥é‡‡ç”¨ ES Module è¿è¡Œé¡¹ç›®ï¼Œéƒ¨ç½²çš„æ—¶å€™å†æ‰“åŒ…ï¼Œå¼€ç®±å³ç”¨ã€‚</p><h3 id="ä½¿ç”¨æ­¥éª¤-1"><a href="#ä½¿ç”¨æ­¥éª¤-1" class="headerlink" title="ä½¿ç”¨æ­¥éª¤"></a>ä½¿ç”¨æ­¥éª¤</h3><p><strong>1. åˆå§‹åŒ–é¡¹ç›®</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn init -y<br></code></pre></td></tr></table></figure><p><strong>2. å®‰è£… Vite</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add -D vite<br></code></pre></td></tr></table></figure><p><strong>3. Vite çš„æºç ç›®å½•å°±æ˜¯é¡¹ç›®æ ¹ç›®å½•ï¼Œåˆ›å»º<code>index.html</code>æ–‡ä»¶ï¼Œä»¥ ES Module çš„æ–¹å¼å¼•å…¥ js æ–‡ä»¶</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./index.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>4. åœ¨æœ¬åœ°<code>5173</code>ç«¯å£å¯åŠ¨ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œè¿›è¡Œé¡¹ç›®è°ƒè¯•</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn vite<br></code></pre></td></tr></table></figure><p><strong>5. æ‰“åŒ…ä»£ç </strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn vite build<br></code></pre></td></tr></table></figure><h3 id="å¿«é€Ÿåˆ›å»ºé¡¹ç›®"><a href="#å¿«é€Ÿåˆ›å»ºé¡¹ç›®" class="headerlink" title="å¿«é€Ÿåˆ›å»ºé¡¹ç›®"></a>å¿«é€Ÿåˆ›å»ºé¡¹ç›®</h3><p>å‚è€ƒ <a href="https://vitejs.cn/vite3-cn/guide/#scaffolding-your-first-vite-project">å¼€å§‹ | Vite å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ (vitejs.cn)</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn create vite<br></code></pre></td></tr></table></figure><p>ç„¶åæŒ‰ç…§æç¤ºæ“ä½œä¸€æ­¥æ­¥é…ç½®å³å¯ï¼</p><p>å¦‚æœä½ é€‰çš„æ˜¯åŸç”Ÿ JSï¼Œä½ å°±ä¼šå¾—åˆ°ä¸€ä¸ªè¿™æ ·çš„å®Œæ•´é¡¹ç›®è·¯å¾„ï¼š</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dc878253b972445ca40eee285985308a~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=235&h=280&s=11761&e=png&b=252526" alt="image.png"></p><h3 id="é…ç½®æ–‡ä»¶-1"><a href="#é…ç½®æ–‡ä»¶-1" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>é¦–å…ˆåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º<code>vite.config.js</code>æ–‡ä»¶ï¼Œâš ï¸ æ³¨æ„è¿™é‡Œçš„æŠ›å‡ºè¯­æ³•ä¸ Webpack ä¸åŒï¼ŒWebpack ä½¿ç”¨ CommonJS è¯­æ³•ï¼Œè€Œ Vite ä½¿ç”¨çš„æ˜¯ ES Module è¯­æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//webpack</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//vite</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> = &#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œ Vite è¿˜æä¾›äº†ä¸€ä¸ªå¯é€‰é…ç½®é¡¹<code>defineConfig</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; defineConfig &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vite&quot;</span>;<span class="hljs-comment">//éœ€ä¸éœ€è¦æç¤º</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(&#123;<br>    ...<br>&#125;)<br></code></pre></td></tr></table></figure><p>å®ƒçš„ä½œç”¨æ˜¯åœ¨æˆ‘ä»¬å†™é…ç½®çš„æ—¶å€™ä¼šä¸ä¼šæœ‰æç¤ºã€‚</p><p>åŠ äº†ï¼š</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8b3281b4ea0411ab6db84977ed8da49~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=506&h=174&s=14896&e=png&b=1f1f1f" alt="image.png"></p><p>æ²¡åŠ ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a649bc2692564ce4a4822396eb14e8f6~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=398&h=164&s=8082&e=png&b=1e1e1e" alt="image.png"></p><p>å¯¹æ¯”ä¸éš¾å‘ç°åŒºåˆ«ã€‚</p><h4 id="Vite-éœ€è¦é…ç½®-loader-å—ï¼Ÿ"><a href="#Vite-éœ€è¦é…ç½®-loader-å—ï¼Ÿ" class="headerlink" title="Vite éœ€è¦é…ç½® loader å—ï¼Ÿ"></a>Vite éœ€è¦é…ç½® loader å—ï¼Ÿ</h4><p>è¯•éªŒä¸€ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h2</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: pink;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./index.css&quot;</span>;<br><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">insertAdjacentHTML</span>(<span class="hljs-string">&quot;beforeend&quot;</span>, <span class="hljs-string">&quot;&lt;h2&gt;hello vite&lt;/h2&gt;&quot;</span>);<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬åœ¨ js ä¸­å¼•å…¥ css æ ·å¼ï¼Œç„¶å<code>yarn vite</code> è¿è¡Œä¸€ä¸‹</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d4e62e6bcfd4ac3b2c04c7da18e9198~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=461&h=171&s=7138&e=png&b=fefefe" alt="image.png"></p><p>ç»“æœæ˜¾è€Œæ˜“è§ï¼Œvite ä¸ç”¨é…ç½® loader å°±èƒ½ç¼–è¯‘å’Œä½¿ç”¨ cssã€‚</p><h4 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h4><p>Vite å¯ä»¥ä½¿ç”¨æ’ä»¶è¿›è¡Œæ‰©å±•ï¼Œè¿™å¾—ç›Šäº Rollup ä¼˜ç§€çš„æ’ä»¶æ¥å£è®¾è®¡å’Œä¸€éƒ¨åˆ† Vite ç‹¬æœ‰çš„é¢å¤–é€‰é¡¹ã€‚è¯¦æƒ…å‚è§ <a href="https://vitejs.cn/vite3-cn/guide/using-plugins.html">ä½¿ç”¨æ’ä»¶ | Vite å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ (vitejs.cn)</a></p><p>ä¸¾ä¸ªä¾‹å­ ğŸŒ°ï¼š</p><p>è¦æƒ³ä¸ºä¼ ç»Ÿæµè§ˆå™¨æä¾›æ”¯æŒï¼Œç±»ä¼¼äº Babelï¼Œéœ€è¦å¼•å…¥å®˜æ–¹æ’ä»¶<code>@vitejs/plugin-legacy</code>å’Œå‹ç¼©å·¥å…·<code>terser</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn add -D @vitejs/plugin-legacy terser<br></code></pre></td></tr></table></figure><p>ç„¶åé…ç½®æ’ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; defineConfig &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vite&quot;</span>; <span class="hljs-comment">//éœ€ä¸éœ€è¦æç¤º</span><br><span class="hljs-keyword">import</span> legacy <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@vitejs/plugin-legacy&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(&#123;<br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-title function_">legacy</span>(&#123;<br>      <span class="hljs-attr">targets</span>: [<span class="hljs-string">&quot;ie 11&quot;</span>], <span class="hljs-comment">//å…¼å®¹IE 11</span><br>    &#125;),<br>  ],<br>&#125;);<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥ä¸ªç®­å¤´å‡½æ•°æ£€éªŒä¸€ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;hello vite&quot;</span>);<br>&#125;;<br></code></pre></td></tr></table></figure><p><code>yarn vite build</code>ä¸€ä¸‹</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b9c237136b5f417f8d75a4a7a83d562c~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=349&h=165&s=10660&e=png&b=262627" alt="image.png"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° Vite ç»™æˆ‘ä»¬ç”Ÿäº§äº†ä¸‰ä¸ª js æ–‡ä»¶å’Œä¸€ä¸ª html æ–‡ä»¶ï¼Œæ¥åˆ†æä¸€ä¸‹ï¼š</p><p><code>index.js</code>ï¼š</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ff6d50da1f7c431ca55d249120ebc223~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=468&h=52&s=4671&e=png&b=1e1e1e" alt="image.png"></p><p>è¿™ä¸ªæ–‡ä»¶ä¸­çš„ç®­å¤´å‡½æ•°å¹¶æ²¡æœ‰è½¬ä¸ºæ™®é€šå‡½æ•°ï¼›</p><p><code>index-legacy.js</code>ï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3153971c059148c0852a3917640edde0~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=522&h=48&s=5193&e=png&b=1f1f1f" alt="image.png"></p><p>è¿™ä¸ªæ–‡ä»¶ä¸­çš„ç®­å¤´å‡½æ•°æˆåŠŸè½¬æˆäº†æ™®é€šå‡½æ•°ï¼›</p><p><code>polyfills-legacy.js</code>ï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f289559ffa1c4faca4339661c488cbc8~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=706&h=123&s=21850&e=png&b=1e1e1e" alt="image.png"></p><p>è¿™ä¸ªæ–‡ä»¶çš„ä½œç”¨æ˜¯ç”¨äºå‘ä¸‹å…¼å®¹æ—§ç‰ˆæµè§ˆå™¨ï¼Œç¡®ä¿æ—§ç‰ˆæµè§ˆå™¨èƒ½å¤Ÿè¯»æ‡‚æ–°ç‰¹æ€§ã€‚</p><p><code>index.html</code>ï¼š</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51f54a5761f14494a5c12830c47d7028~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1044&h=299&s=49070&e=png&b=1e1e1e" alt="image.png"></p><p>è¿™ä¸ªæ–‡ä»¶çš„æ„å›¾å°±å¾ˆæ˜æ˜¾äº†ï¼Œå¦‚æœæµè§ˆå™¨æ”¯æŒ ESModuleï¼ˆå³ç°ä»£æµè§ˆå™¨ï¼‰ï¼Œåˆ™ä¸€èˆ¬å¯ä»¥æ”¯æŒæ–°è¯­æ³•ï¼Œå› æ­¤å°±å¯ä»¥ç›´æ¥å¼•å…¥æ–°è¯­æ³•æ–‡ä»¶ï¼›ä½†æ˜¯å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ ESModuleï¼Œåˆ™å¯èƒ½æ˜¯æ—§ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œå®ƒä»¬å¯èƒ½ä¸æ”¯æŒæ–°ç‰¹æ€§ï¼Œè¿™æ—¶å€™å°±éœ€è¦å¼•å…¥å…¼å®¹æ€§ä»£ç æ¥å¡«è¡¥è¿™äº›åŠŸèƒ½çš„ç¼ºå¤±ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€èˆ¬ä¼šå¼•å…¥ polyfillsï¼Œä»¥åŠæ—§ç‰ˆæ–‡ä»¶ï¼Œæ¥ç¡®ä¿åº”ç”¨åœ¨æ—§ç‰ˆæµè§ˆå™¨ä¸­çš„æ­£å¸¸è¿è¡Œã€‚</p><p>vite ä¸åƒ webpack åªç”Ÿæˆä¸€ä¸ªé™çº§ä¹‹åçš„æ–‡ä»¶ï¼Œè€Œæ˜¯ä¸¤ä¸ªéƒ½ç”Ÿæˆï¼Œå†æ ¹æ®æµè§ˆå™¨çš„å…¼å®¹æ€§ï¼ŒåŠ¨æ€åœ°ç¡®å®šåŠ è½½å“ªä¸ªç‰ˆæœ¬çš„ä»£ç ã€‚å¯¹äºç°ä»£æµè§ˆå™¨æ¥è¯´ï¼Œç›´æ¥åŠ è½½ç°ä»£ç‰ˆæœ¬çš„ä»£ç å¯ä»¥è·å¾—æ›´å¿«çš„åŠ è½½é€Ÿåº¦å’Œæ›´å¥½çš„æ€§èƒ½ã€‚è€Œå¯¹äºä¸æ”¯æŒ ES Module çš„æ—§ç‰ˆæµè§ˆå™¨ï¼Œåˆ™åŠ è½½é™çº§ç‰ˆæœ¬çš„ä»£ç ä»¥ç¡®ä¿å…¼å®¹æ€§ã€‚</p><p>ä»¥ä¸Šæ˜¯å¯¹å…¼å®¹æ€§æ’ä»¶<code>legacy</code>çš„åˆ†æï¼Œæ›´å¤šæ’ä»¶å¯å‚è§ <a href="https://vitejs.cn/vite3-cn/plugins/">æ’ä»¶ | Vite å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ (vitejs.cn)</a></p><h3 id="å¿«æ·å‘½ä»¤-1"><a href="#å¿«æ·å‘½ä»¤-1" class="headerlink" title="å¿«æ·å‘½ä»¤"></a>å¿«æ·å‘½ä»¤</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vite&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vite build&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;preview&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vite preview&quot;</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><h2 id="å¯¹æ¯”æ€»ç»“"><a href="#å¯¹æ¯”æ€»ç»“" class="headerlink" title="å¯¹æ¯”æ€»ç»“"></a>å¯¹æ¯”æ€»ç»“</h2><ol><li><strong>æ„å»ºæ–¹å¼ï¼š</strong> Webpack é€šè¿‡æ„å»ºæ•´ä¸ªé¡¹ç›®çš„ä¾èµ–å›¾ï¼Œå°†æ‰€æœ‰èµ„æºæ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundle æ–‡ä»¶ï¼Œæ¯æ¬¡é‡å¯éƒ½éœ€è¦æ‰“åŒ…ã€‚Vite é‡‡ç”¨äº†å³æ—¶ç¼–è¯‘çš„æ–¹å¼ï¼Œåœ¨å¼€å‘æ¨¡å¼ä¸‹é€šè¿‡æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ ES Module ç‰¹æ€§è¿›è¡ŒåŠ è½½ï¼Œä¸éœ€è¦æ‰“åŒ…ã€‚</li><li><strong>å¼€å‘ä½“éªŒï¼š</strong> Webpack éœ€è¦è¾ƒå¤šçš„é…ç½®ï¼Œå¯¹å¤æ‚çš„é¡¹ç›®æ¥è¯´ï¼Œéœ€è¦èŠ±è´¹æ—¶é—´å’Œç²¾åŠ›æ¥é…ç½®å„ç§ loader å’Œ pluginã€‚Vite å¼€ç®±å³ç”¨ï¼Œä¸éœ€è¦å¤æ‚çš„é…ç½®å³å¯å¿«é€Ÿå¯åŠ¨é¡¹ç›®ï¼Œæ”¯æŒå„ç§æ’ä»¶ä»¥æ»¡è¶³ç‰¹å®šéœ€æ±‚ã€‚</li><li><strong>çƒ­æ›´æ–°ï¼š</strong> Webpack çš„çƒ­æ›´æ–°é€šå¸¸éœ€è¦å€ŸåŠ© webpack-dev-server ç­‰æ’ä»¶ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹é…ç½®èµ·æ¥æ¯”è¾ƒå¤æ‚ã€‚Vite å†…ç½®äº†åŸºäºæµè§ˆå™¨åŸç”Ÿæ¨¡å—çƒ­æ›´æ–°çš„å¼€å‘æœåŠ¡å™¨ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯å®ç°å¿«é€Ÿçš„çƒ­æ›´æ–°ã€‚</li></ol><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å·²å°†å­¦ä¹ ä»£ç ä¸Šä¼ è‡³ <a href="https://github.com/YangyangU/CodeSpace">github</a>ï¼Œæ¬¢è¿å¤§å®¶å­¦ä¹ æŒ‡æ­£ï¼</p>]]></content>
    
    
    <categories>
      
      <category>å·¥ç¨‹åŒ–</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Webpack</tag>
      
      <tag>Vite</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€æ–‡ææ‡‚ HTTP ç¼“å­˜</title>
    <link href="/2024/04/22/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82%20HTTP%20%E7%BC%93%E5%AD%98/"/>
    <url>/2024/04/22/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82%20HTTP%20%E7%BC%93%E5%AD%98/</url>
    
    <content type="html"><![CDATA[<blockquote><p>HTTP ç¼“å­˜å¯è°“å‰ç«¯å·¥ç¨‹å¸ˆå¿…å¤‡æŠ€èƒ½ä¹‹ä¸€ï¼Œåœ¨æœ€è¿‘çš„é¢è¯•ä¸­ï¼Œä¹Ÿç»å¸¸è¢«é—®åˆ°ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦æœ‰ HTTP ç¼“å­˜ï¼Œä»¥åŠå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä¸‹é¢å’±ä»¬å±•å¼€æ¥å¥½å¥½èŠèŠã€‚</p></blockquote><p>è¿˜ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ HTTPï¼Ÿå¯ä»¥è·³è½¬åˆ°æˆ‘çš„å‰ä¸€ç¯‡æ–‡ç« â€”â€” <a href="https://juejin.cn/post/7351700046486863881">æ‹ä¸€ä¸‹ HTTP å‘å±•å² - æ˜é‡‘ (juejin.cn)</a></p><h2 id="ä¸ºä»€ä¹ˆè¦æœ‰-HTTP-ç¼“å­˜"><a href="#ä¸ºä»€ä¹ˆè¦æœ‰-HTTP-ç¼“å­˜" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æœ‰ HTTP ç¼“å­˜"></a>ä¸ºä»€ä¹ˆè¦æœ‰ HTTP ç¼“å­˜</h2><p>ç¼“å­˜ç¼“å­˜ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å°†ä¸€äº›èµ„æºä¿å­˜åœ¨æœ¬åœ°ï¼Œåç»­è¯·æ±‚æ—¶å°±å¯ä»¥ç›´æ¥åœ¨æœ¬åœ°è¯»å–ï¼Œè€Œä¸ç”¨è¯·æ±‚æœåŠ¡å™¨ã€‚ä½¿ç”¨ HTTP ç¼“å­˜æ˜¯æé«˜æ€§èƒ½ä¼˜åŒ–å’Œæå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®æŠ€æœ¯ï¼Œå®ƒä¸»è¦ä½“ç°åœ¨å‡ ä¸ªæ–¹é¢ï¼š</p><blockquote><ol><li><strong>å‡å°‘å»¶è¿Ÿ</strong>ï¼šå½“èµ„æºè¢«ç¼“å­˜åï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜æˆ–æ›´è¿‘çš„ç½‘ç»œèŠ‚ç‚¹ï¼ˆå¦‚ CDNï¼‰è·å–æ•°æ®ï¼Œè€Œä¸å¿…æ¯æ¬¡éƒ½è¯·æ±‚åŸå§‹æœåŠ¡å™¨ã€‚ç½‘ç»œå»¶è¿Ÿå’Œæ•°æ®ä¼ è¾“æ—¶é—´éƒ½å¤§å¤§ç¼©çŸ­äº†ã€‚</li><li><strong>å‡è½»æœåŠ¡å™¨è´Ÿæ‹…</strong>ï¼šé€šè¿‡ç¼“å­˜å¸¸ç”¨èµ„æºï¼ˆå¦‚ Logoï¼‰ï¼ŒæœåŠ¡å™¨ä¸å¿…æ¯æ¬¡éƒ½å¤„ç†ç›¸åŒçš„è¯·æ±‚ã€‚</li><li><strong>èŠ‚çº¦å¸¦å®½</strong>ï¼šç¼“å­˜å¯ä»¥æ˜¾è‘—å‡å°‘éœ€è¦é€šè¿‡ç½‘ç»œä¼ è¾“çš„æ•°æ®é‡ï¼Œé™ä½ç”¨æˆ·å’Œä¾›åº”å•†çš„æµé‡æˆæœ¬ã€‚</li><li><strong>æ”¹å–„ç”¨æˆ·ä½“éªŒ</strong>ï¼šç¼“å­˜ä½¿å¾—ç½‘é¡µã€å›¾ç‰‡ç­‰å†…å®¹çš„åŠ è½½æ›´å¿«ï¼Œä»è€Œç›´æ¥æé«˜äº†ç”¨æˆ·çš„æµè§ˆä½“éªŒã€‚</li><li><strong>ç¦»çº¿æµè§ˆ</strong>ï¼šHTTP ç¼“å­˜åœ¨ä¸€äº›åœºæ™¯å¯ä»¥è®©ç”¨æˆ·åœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥çš„æƒ…å†µä¸‹ï¼Œä»ç„¶èƒ½å¤Ÿè®¿é—®å…ˆå‰åŠ è½½è¿‡çš„å†…å®¹ã€‚ï¼ˆå¦‚ç½‘æ˜“äº‘éŸ³ä¹å¯ä»¥ç¦»çº¿å¬ä¹‹å‰ç¼“å­˜è¿‡çš„æ­Œï¼‰</li><li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šé€šè¿‡åœ¨å¤šä¸ªåœ°ç†ä½ç½®ç¼“å­˜å†…å®¹ï¼Œé¿å…æ‰€æœ‰è¯·æ±‚éƒ½é›†ä¸­åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šã€‚å¯ä»¥æœ‰æ•ˆå¤„ç†é«˜æµé‡å’Œå¤§è§„æ¨¡åˆ†å¸ƒçš„ç”¨æˆ·ã€‚</li></ol></blockquote><p>æ€»ä¹‹ï¼ŒHTTP ç¼“å­˜æ˜¯å‰ç«¯å¼€å‘è€…å¿…å¤‡ä¸€é¡¹è‡³å…³é‡è¦çš„æŠ€èƒ½ï¼Œè¯ä¸å¤šè¯´ï¼Œå¼€å§‹ä»‹ç»ï¼</p><h2 id="HTTP-ç¼“å­˜"><a href="#HTTP-ç¼“å­˜" class="headerlink" title="HTTP ç¼“å­˜"></a>HTTP ç¼“å­˜</h2><p>HTTP ç¼“å­˜æ˜¯ä¸€ç§å®¢æˆ·ç«¯ç¼“å­˜ï¼Œå½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€èµ„æºè¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨å¯ä»¥åœ¨å“åº”å¤´ä¸­æŸ¥çœ‹æ˜¯å¦åŒ…å«ç¼“å­˜ç›¸å…³çš„ä¿¡æ¯ã€‚æµè§ˆå™¨ä¾æ®è¿™äº›ä¿¡æ¯ç¼“å­˜å“åº”èµ„æºï¼Œå†æ¬¡è¯·æ±‚æ—¶å¦‚æœå‘½ä¸­ç¼“å­˜åˆ™ç›´æ¥è¯»å–æœ¬åœ°ç¼“å­˜èµ„æºï¼Œè€Œä¸å†å‘è¯·æ±‚ã€‚HTTP ç¼“å­˜åˆ†ä¸º<strong>å¼ºç¼“å­˜</strong>å’Œ<strong>åå•†ç¼“å­˜</strong>ã€‚</p><h3 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h3><p>å¼ºç¼“å­˜ç›´æ¥å†³å®šäº†æµè§ˆå™¨æ˜¯å¦éœ€è¦å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œåªéœ€è¦è®¾ç½®ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ã€‚å¦‚æœå¼ºç¼“å­˜æœ‰æ•ˆï¼Œæµè§ˆå™¨å°†ç›´æ¥ä»æœ¬åœ°ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œä¸ä¼šä¸æœåŠ¡å™¨è¿›è¡Œä»»ä½•äº¤äº’ã€‚</p><h4 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h4><p><code>Cache-Control</code>æ˜¯é€šç”¨æ¶ˆæ¯å¤´å­—æ®µï¼Œè¢«ç”¨äºåœ¨ HTTP è¯·æ±‚å’Œå“åº”ä¸­ï¼Œé€šè¿‡æŒ‡å®šæŒ‡ä»¤æ¥å®ç°ç¼“å­˜æœºåˆ¶ï¼Œé€šè¿‡è®¾ç½®<code>max-age=xxx</code>æ¥æŒ‡å®šèµ„æºåœ¨ç¼“å­˜ä¸­å¯ä»¥å­˜æ´»çš„æœ€å¤§æ—¶é—´ï¼ˆå•ä½æ˜¯ç§’ï¼‰ã€‚</p><p>ä¸¾ä¸ªæ —å­ ğŸŒ°ï¼š</p><p>è¿™é‡Œæˆ‘ä»¬ç¼“å­˜ä¸€ä¸ªå›¾ç‰‡èµ„æºï¼Œè¿‡æœŸæ—¶é—´ä¸º 86400 ç§’å³ä¸€å¤©</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, &#123;<br>  <span class="hljs-string">&quot;Content-Type&quot;</span>: mime.<span class="hljs-title function_">lookup</span>(ext),<br>  <span class="hljs-string">&quot;cache-control&quot;</span>: <span class="hljs-string">&quot;max-age=86400&quot;</span>, <span class="hljs-comment">//ç¼“å­˜ä¸€å¤©</span><br>&#125;);<br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œä¼šæ­£å¸¸å‘è¯·æ±‚æ‹¿åˆ°èµ„æº</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ba6bdbf76f7f4142adf814f086a56034~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=998&h=281&s=22453&e=png&b=fdfdfd" alt="image.png"></p><p>ä½†å½“æˆ‘ä»¬åˆ·æ–°é¡µé¢å†æ¬¡å‘è¯·æ±‚æ—¶å‘ç°ï¼Œæ­¤æ—¶çš„å±¥è¡Œè€…å˜ä¸º<code>memory cache</code>ï¼Œå¤§å°å’Œæ—¶é—´éƒ½å˜ä¸º 0ï¼Œè¯´æ˜è¿™æ¬¡çš„èµ„æºå¹¶ä¸æ˜¯ä»æœåŠ¡å™¨è¯·æ±‚å›æ¥çš„ï¼Œè€Œæ˜¯æ¥è‡ªæœ¬åœ°å†…å­˜ç¼“å­˜ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/760581758f064a0ca785bd599eb88c2b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=981&h=291&s=34416&e=png&b=fdfdfd" alt="image.png"></p><p>å¹¶ä¸”æˆ‘ä»¬å¯ä»¥åœ¨å“åº”å¤´ä¸­æŸ¥çœ‹<code>Cache-Control</code>å­—æ®µå’Œæˆ‘ä»¬è®¾ç½®çš„è¿‡æœŸæ—¶é—´ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ec48160b7fc4e3fb31dee812ba8e9d3~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=569&h=401&s=28906&e=png&b=fefdfd" alt="image.png"></p><p>å½“ç„¶<code>Cache-Control</code>ä¸æ­¢åªå…è®¸æˆ‘ä»¬è®¾ç½®<code>max-age</code>è¿‡æœŸæ—¶é—´ï¼Œè¿˜æœ‰å…¶ä»–å­—æ®µï¼Œè¯¦æƒ…å¯å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control#%E7%BC%93%E5%AD%98%E8%AF%B7%E6%B1%82%E6%8C%87%E4%BB%A4">Cache-Control - HTTP | MDN (mozilla.org)</a></p><h4 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h4><p><code>Expires</code>å“åº”å¤´æ˜¯ä¸€ä¸ªå…·ä½“çš„æ—¥æœŸ&#x2F;æ—¶é—´ï¼Œå‘Šè¯‰æµè§ˆå™¨åœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¹‹å‰ä¸éœ€è¦é‡æ–°è¯·æ±‚èµ„æºã€‚</p><blockquote><p>âš ï¸ æ³¨æ„ï¼šå¦‚æœå“åº”ä¸­æœ‰æŒ‡ä»¤ä¸º Â <code>max-age</code>Â  æˆ– Â <code>s-maxage</code>Â  çš„<code>Cache-Control</code>æ ‡å¤´ï¼Œåˆ™ Â <code>Expires</code>Â  æ ‡å¤´ä¼šè¢«å¿½ç•¥ã€‚</p></blockquote><p>ä¸¾ä¸ªæ —å­ ğŸŒ°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, &#123;<br>  <span class="hljs-string">&quot;Content-Type&quot;</span>: mime.<span class="hljs-title function_">lookup</span>(ext),<br>  <span class="hljs-title class_">Expires</span>: <span class="hljs-string">&quot;Mon Apr 22 2024 21:03:31 GMT+0800&quot;</span>, <span class="hljs-comment">//è¿‡æœŸæ—¶é—´æˆ³è‡ªå·±é€‰æ‹©</span><br>&#125;);<br></code></pre></td></tr></table></figure><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38882c45d14349289b70dfb5937a5fc1~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=707&h=405&s=30659&e=png&b=fefefe" alt="image.png"></p><p>ä¸<code>Cache-Control</code>ç”¨æ³•ç›¸ä¼¼ï¼Œå°±ä¸è¿‡å¤šèµ˜è¿°ã€‚</p><h3 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h3><p>å½“å¼ºç¼“å­˜è¿‡æœŸæˆ–æ— æ•ˆæ—¶ï¼Œæµè§ˆå™¨å°±ä¼šä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œé€šè¿‡å‘é€å¸¦æœ‰ç‰¹å®šéªŒè¯å¤´çš„è¯·æ±‚æ¥æ£€æŸ¥èµ„æºæ˜¯å¦è¢«ä¿®æ”¹ã€‚å¦‚æœæœåŠ¡å™¨ç¡®è®¤ç¼“å­˜èµ„æºä»ç„¶æ˜¯æœ€æ–°çš„ï¼Œåˆ™è¿”å› 304 çŠ¶æ€ç ï¼Œæµè§ˆå™¨ä¼šä»æœ¬åœ°ç¼“å­˜åŠ è½½èµ„æºã€‚å¦‚æœèµ„æºä¸æ˜¯æœ€æ–°çš„ï¼Œåˆ™è¿”å› 200 çŠ¶æ€ç å’Œæ–°çš„èµ„æºæ•°æ®ã€‚</p><h4 id="Last-Modified-å’Œ-If-Modified-Since"><a href="#Last-Modified-å’Œ-If-Modified-Since" class="headerlink" title="Last-Modified å’Œ If-Modified-Since"></a>Last-Modified å’Œ If-Modified-Since</h4><p>æœåŠ¡å™¨åœ¨å“åº”ä¸­æä¾›<code>Last-Modified</code>æ—¥æœŸï¼Œè¡¨æ˜èµ„æºæœ€åä¿®æ”¹æ—¶é—´ã€‚æµè§ˆå™¨åœ¨åç»­è¯·æ±‚ä¸­ä½¿ç”¨<code>If-Modified-Since</code>å¤´åŒ…å«è¿™ä¸ªæ—¥æœŸï¼Œå¦‚æœæœåŠ¡å™¨ä¸Šçš„èµ„æºè‡ªé‚£ä»¥åæœªä¿®æ”¹ï¼Œå°±ä¼šè¿”å› 304 çŠ¶æ€ç ã€‚</p><p>ä¸¾ä¸ªæ —å­ ğŸŒ°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> stats = fs.<span class="hljs-title function_">statSync</span>(filePath); <span class="hljs-comment">//è·å–æ–‡ä»¶æ–‡ä»¶ä¿®æ”¹æ—¶çš„æ—¶é—´æˆ³</span><br><span class="hljs-keyword">const</span> timeStamp = req.<span class="hljs-property">headers</span>[<span class="hljs-string">&quot;if-modified-since&quot;</span>]; <span class="hljs-comment">//è·å–è¯·æ±‚å¤´å­—æ®µ</span><br><span class="hljs-keyword">let</span> status = <span class="hljs-number">200</span>; <span class="hljs-comment">//èµ„æºä¿®æ”¹</span><br><span class="hljs-keyword">if</span> (timeStamp &amp;&amp; <span class="hljs-title class_">Number</span>(timeStamp) === stats.<span class="hljs-property">mtimeMs</span>) &#123;<br>  <span class="hljs-comment">//æ—¶é—´æˆ³ä¸å˜</span><br>  status = <span class="hljs-number">304</span>; <span class="hljs-comment">//èµ„æºæœªä¿®æ”¹</span><br>&#125;<br><br>res.<span class="hljs-title function_">writeHead</span>(status, &#123;<br>  <span class="hljs-string">&quot;Content-Type&quot;</span>: mime.<span class="hljs-title function_">lookup</span>(ext),<br>  <span class="hljs-string">&quot;last-modified&quot;</span>: stats.<span class="hljs-property">mtimeMs</span>, <span class="hljs-comment">//æ—¶é—´æˆ³</span><br>&#125;);<br></code></pre></td></tr></table></figure><p>é€šè¿‡å¯¹æ¯”è¿™æ¬¡è¯·æ±‚å¤´çš„<code>if-modified-since</code>å’Œå“åº”å¤´çš„<code>last-modified</code>åˆ¤æ–­èµ„æºæ˜¯å¦ä¿®æ”¹</p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/494eff6380b14035b2c2b10872038d88~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=720&h=664&s=50192&e=png&b=fefefe" alt="image.png" width="70%" /><p>å½“èµ„æºæœªä¿®æ”¹ï¼Œè¿”å› 304 çŠ¶æ€ç ï¼Œä»ç¼“å­˜ä¸­æ‹¿èµ„æºã€‚</p><p>ç°åœ¨æˆ‘ä»¬è¯•è¯•æ‰‹åŠ¨ä¿®æ”¹èµ„æºï¼Œå†æ¬¡åˆ·æ–°é¡µé¢ï¼š</p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c995a290776440df8a579378f5f45268~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=712&h=667&s=50667&e=png&b=fefefe" alt="image.png" width="70%" /><p>èµ„æºä¿®æ”¹ï¼Œä¸¤æ¬¡æ—¶é—´æˆ³ä¸åŒï¼Œè¿”å› 200 çŠ¶æ€ç ï¼Œå’Œæ–°çš„èµ„æºã€‚</p><h4 id="ETag-å’Œ-If-None-Match"><a href="#ETag-å’Œ-If-None-Match" class="headerlink" title="ETag å’Œ If-None-Match"></a>ETag å’Œ If-None-Match</h4><p><code>ETag</code>æ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œåæ˜ èµ„æºçš„å†…å®¹çŠ¶æ€ã€‚æµè§ˆå™¨å­˜å‚¨è¿™ä¸ªæ ‡è¯†å¹¶åœ¨åç»­è¯·æ±‚ä¸­é€šè¿‡<code>If-None-Match</code>å¤´å‘é€å®ƒã€‚å¦‚æœ<code>ETag</code>æœªæ”¹å˜ï¼ŒæœåŠ¡å™¨è¿”å› 304 çŠ¶æ€ç ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">if</span> (req.<span class="hljs-property">headers</span>[<span class="hljs-string">&quot;if-none-match&quot;</span>] === etag) &#123;<br>  res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">304</span>, &#123;<br>    <span class="hljs-comment">// æœªä¿®æ”¹ï¼Œè¿”å›304</span><br>    <span class="hljs-string">&quot;Content-Type&quot;</span>: mime.<span class="hljs-title function_">lookup</span>(ext),<br>    <span class="hljs-title class_">ETag</span>: etag,<br>  &#125;);<br>  <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">end</span>();<br>&#125;<br><br>res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, &#123;<br>  <span class="hljs-comment">//ä¿®æ”¹ï¼Œè¿”å›200</span><br>  <span class="hljs-string">&quot;Content-Type&quot;</span>: mime.<span class="hljs-title function_">lookup</span>(ext),<br>  <span class="hljs-title class_">ETag</span>: etag,<br>&#125;);<br><span class="hljs-keyword">return</span> res.<span class="hljs-title function_">end</span>(content);<br></code></pre></td></tr></table></figure><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/76f551ed1d2c4a0b8e8bec1f166665ff~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=714&h=644&s=49796&e=png&b=fefefe" alt="image.png" width="70%" /><p>ä¸¤ç§åå•†ç¼“å­˜çš„åŒºåˆ«æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ—¶é—´æˆ³ä¸€ä¸ªæ¯”è¾ƒå“ˆå¸Œå€¼ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¼ºç¼“å­˜é€šè¿‡è®¾ç½®è¿‡æœŸæ—¶é—´æ¥æ§åˆ¶èµ„æºçš„ç¼“å­˜ï¼›è€Œåå•†ç¼“å­˜åˆ™æ˜¯é€šè¿‡ä¸æœåŠ¡å™¨éªŒè¯èµ„æºçš„çŠ¶æ€æ¥å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜ã€‚åå•†ç¼“å­˜å¯ä»¥é¿å…å¼ºç¼“å­˜çš„ä¸è¶³ä¹‹å¤„ï¼Œæ¯”å¦‚å½“èµ„æºåœ¨æœ‰æ•ˆæœŸå†…ä½†å‘ç”Ÿäº†å˜åŒ–æ—¶ï¼Œåå•†ç¼“å­˜å¯ä»¥ä¿è¯å®¢æˆ·ç«¯è·å–åˆ°æœ€æ–°çš„èµ„æºã€‚</p><p>æœ€åé…ä¸€å¼ ä¸ªäººè§‰å¾—æ€»ç»“ååˆ†åˆ°ä½çš„å›¾ï¼ˆå›¾ç‰‡åœ°å€åœ¨æ–‡æœ«ï¼‰</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c58c2a8b007459ebeecb8fd3950a09f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=841&h=534&s=201743&e=png&b=eeeeee" alt="image.png"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Caching">HTTP ç¼“å­˜ - HTTP | MDN (mozilla.org)</a></li><li><a href="https://juejin.cn/post/6844904153043435533?searchId=20240422101749A6A836A76242BD0217C2">å›¾è§£ HTTP ç¼“å­˜ - æ˜é‡‘ (juejin.cn)</a></li><li><a href="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/5/10/171fea0fec0b4668~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp">å›¾ç‰‡åœ°å€</a></li></ul><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>å·²å°†å­¦ä¹ ä»£ç ä¸Šä¼ è‡³ <a href="https://github.com/YangyangU/CodeSpace">github</a>ï¼Œæ¬¢è¿å¤§å®¶å­¦ä¹ æŒ‡æ­£ï¼</p>]]></content>
    
    
    <categories>
      
      <category>HTTP</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTTP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•å®˜ ï¼š[] == ! [] ä¸ºä»€ä¹ˆè¿”å› true ï¼Ÿ</title>
    <link href="/2023/12/04/%E9%9D%A2%E8%AF%95%E5%AE%98%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%94%E5%9B%9Etrue/"/>
    <url>/2023/12/04/%E9%9D%A2%E8%AF%95%E5%AE%98%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%94%E5%9B%9Etrue/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡çš„è®²è§£æ˜¯å»ºç«‹åœ¨ç±»å‹è½¬æ¢çš„åŸºç¡€ä¸Šï¼Œå¦‚æœå¯¹ç±»å‹è½¬æ¢æœºåˆ¶ä¸äº†è§£çš„åŒå­¦å¯ä»¥å…ˆé˜…è¯»ä¸€ä¸‹æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ï¼ˆ<a href="https://juejin.cn/post/7307857937699405862">çœ‹äº†ä¸€å¤©çš„å®˜æ–¹æ–‡æ¡£ï¼Œç»ˆäºææ‡‚äº† JS ç±»å‹è½¬æ¢æœºåˆ¶ - æ˜é‡‘ (juejin.cn)</a>ï¼‰</p></blockquote><p>åœ¨ JavaScript å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€å‡ºç°ä¸€äº›ä¸æˆ‘ä»¬å¸¸ç†ç›¸è¿èƒŒçš„ç»“æœï¼Œæ¯”å¦‚æˆ‘ä»¬ä»Šå¤©çš„è®ºé¢˜<code>[] == ![]</code> ï¼Œå®ƒçš„è¿”å›çš„ç»“æœç«Ÿç„¶æ˜¯<code>true</code> ï¼Œè¿™ç€å®è®©åˆå­¦è€…æ„Ÿåˆ°å›°æƒ‘ã€‚å› ä¸ºæ ¹æ®ç›´è§‰ï¼Œ<code>[]</code>å’Œ<code>![]</code>ä¸¤è€…åº”è¯¥æ˜¯ä¸ç›¸ç­‰çš„ã€‚é¢è¯•å®˜æ°æ°å°±ä¼šæŠ“ä½è¿™ä¸€ç‚¹ï¼Œå¯¹ç¨‹åºå‘˜ä»¬è¿›è¡Œè€ƒå¯Ÿã€‚</p><p>è€Œæœ¬æ–‡å°†ç»“åˆå®˜æ–¹æ–‡æ¡£å¯¹è¯¥é¢˜è¿›è¡Œæ·±åº¦å‰–æã€‚</p><h2 id="çœ‹çœ‹å®˜æ–¹æ–‡æ¡£æ€ä¹ˆè¯´"><a href="#çœ‹çœ‹å®˜æ–¹æ–‡æ¡£æ€ä¹ˆè¯´" class="headerlink" title="çœ‹çœ‹å®˜æ–¹æ–‡æ¡£æ€ä¹ˆè¯´"></a>çœ‹çœ‹å®˜æ–¹æ–‡æ¡£æ€ä¹ˆè¯´</h2><h3 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº =="></a>å…³äº <code>==</code></h3><p>å…³äº<code>==</code>ï¼Œæ–‡æ¡£è¿™æ ·æè¿°ï¼š<a href="https://es5.github.io/#x11.9.1">Annotated ES5 11.9.1</a></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/974ce8282bb642cfbf0f14bdcff5f088~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1037&h=284&s=36877&e=png&b=ffffff" alt="image.png"></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6ad3699c380045b89d0047d7fec7df8b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1217&h=932&s=123351&e=png&b=ffffff" alt="image.png"></p><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘æ€»ç»“äº†ä»¥ä¸‹ <code>==</code> çš„éšå¼è½¬æ¢è§„åˆ™ï¼Œä¸€äº›ç®€å•çš„å°±å¿½ç•¥æ‰äº†ï¼š</p><ol><li><p><strong>ç±»å‹ç›¸åŒçš„æ¯”è¾ƒï¼š</strong></p><p>ï¼ˆ1ï¼‰å¦‚æœç±»å‹æ˜¯ Undefined æˆ– Nullï¼Œè¿”å› <code>true</code>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-literal">null</span> == <span class="hljs-literal">null</span>; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å¦‚æœä¸€ä¸ªæ˜¯ +0ï¼Œå¦ä¸€ä¸ªæ˜¯ -0ï¼Œè¿”å› <code>true</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-number">0</span> == -<span class="hljs-number">0</span>; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰å¦‚æœç±»å‹æ˜¯å¯¹è±¡ï¼ŒäºŒè€…å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å› <code>true</code>ï¼Œåä¹‹è¿”å› <code>false</code>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;&#125; == &#123;&#125;; <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure></li><li><p><strong>null å’Œ undefined æ¯”è¾ƒï¼š</strong> ä»…å½“å®ƒä»¬ä¹‹é—´çš„æ¯”è¾ƒæ—¶ï¼Œè¿”å› <code>true</code>ã€‚</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-literal">null</span> == <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><ol start="3"><li><strong>NaN æ¯”è¾ƒï¼š</strong> NaN ä¸ä»»ä½•å€¼æ¯”è¾ƒéƒ½è¿”å› <code>false</code>ï¼ŒåŒ…æ‹¬ NaN è‡ªå·±ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">NaN</span> == <span class="hljs-title class_">NaN</span>; <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure><ol start="4"><li><strong>å­—ç¬¦ä¸²ä¸æ•°å­—æ¯”è¾ƒï¼š</strong> å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ˜¯æ•°å­—ï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">&quot;5&quot;</span> == <span class="hljs-number">5</span>; <span class="hljs-comment">// trueï¼Œå°†å­—ç¬¦ä¸² &#x27;5&#x27; è½¬æ¢ä¸ºæ•°å­— 5 è¿›è¡Œæ¯”è¾ƒ</span><br></code></pre></td></tr></table></figure><ol start="5"><li><strong>å¸ƒå°”å€¼ä¸éå¸ƒå°”å€¼æ¯”è¾ƒï¼š</strong> å¸ƒå°”å€¼æ— æ³•ç›´æ¥æ¯”è¾ƒï¼Œéœ€å…ˆå°†å¸ƒå°”å€¼è½¬æ¢ä¸ºæ•°å­—ï¼ˆ<code>true</code> è½¬æ¢ä¸º <code>1</code>ï¼Œ<code>false</code> è½¬æ¢ä¸º <code>0</code>ï¼‰ï¼Œéå¸ƒå°”å€¼ä¹Ÿéœ€è¦è½¬æ¢æˆæ•°å­—å†æ¯”è¾ƒã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-literal">true</span> == <span class="hljs-number">1</span>; <span class="hljs-comment">// trueï¼Œå°†å¸ƒå°”å€¼ true è½¬æ¢ä¸ºæ•°å­— 1 è¿›è¡Œæ¯”è¾ƒ</span><br><span class="hljs-literal">false</span> == <span class="hljs-string">&quot;123&quot;</span>; <span class="hljs-comment">// falseï¼Œå°†å¸ƒå°”å€¼ false è½¬æ¢ä¸ºæ•°å­— 0 ï¼Œå°†å­—ç¬¦ä¸² &#x27;123&#x27; è½¬æ¢ä¸ºæ•°å­— 123 è¿›è¡Œæ¯”è¾ƒ</span><br></code></pre></td></tr></table></figure><ol start="6"><li><strong>å¯¹è±¡ä¸åŸå§‹ç±»å‹æ¯”è¾ƒï¼š</strong> å¦‚æœå…¶ä¸­ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ˜¯åŸå§‹ç±»å‹ï¼Œå°†å¯¹è±¡é€šè¿‡ <code>ToPrimitive</code> è½¬æ¢ä¸ºåŸå§‹ç±»å‹ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒã€‚<em>ï¼ˆå³å¦‚æœåŸå§‹ç±»å‹ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²å†æ¯”è¾ƒï¼›å¦‚æœåŸå§‹ç±»ä¸ºå¸ƒå°”å€¼ï¼Œåˆ™å°†å¸ƒå°”å€¼ä¸å¯¹è±¡éƒ½è½¬æ¢æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒï¼›å¦‚æœåŸå§‹ç±»ä¸ºæ•°å­—ï¼Œåˆ™å°†å¯¹è±¡è½¬æ¢æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚ï¼‰</em></li></ol><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;&#125; == <span class="hljs-number">1</span>;  <span class="hljs-comment">//false</span><br></code></pre></td></tr></table></figure><p><code>ToPrimitive</code> åœ¨æˆ‘çš„ä¸Šç¯‡æ–‡ç« ï¼ˆ<a href="https://juejin.cn/post/7307857937699405862">çœ‹äº†ä¸€å¤©çš„å®˜æ–¹æ–‡æ¡£ï¼Œç»ˆäºææ‡‚äº† JS ç±»å‹è½¬æ¢æœºåˆ¶</a>ï¼‰ä¸­è¯¦ç»†ä»‹ç»è¿‡ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥å½“åšå…¬å¼å¥—ç”¨ã€‚</p><blockquote><p>ToPrimitive(obj, Number) &#x3D;&#x3D;&gt; Number({})</p><ol><li>å¦‚æœ obj æ˜¯åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœå¾—åˆ°åŸå§‹å€¼ï¼Œåˆ™è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ toString æ–¹æ³•ï¼Œå¦‚æœå¾—åˆ°åŸå§‹å€¼ï¼Œåˆ™è¿”å›</li><li>å¦åˆ™ï¼ŒæŠ¥é”™</li></ol></blockquote><p>é¦–å…ˆ<code>&#123;&#125;</code>å…ˆè¢«<code>ToPrimitive</code>è½¬æ¢æˆå­—ç¬¦ä¸²<code>&quot;[object Object]&quot;</code>ï¼Œå°±ç›¸å½“äºç›´æ¥åˆ¤æ–­ <code>&quot;[object Object]&quot; == 1</code>ï¼Œå­—ç¬¦ä¸²ä¸æ•°å­—çš„æ¯”è¾ƒä¸­ï¼Œåˆè¦å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ï¼Œâ€[object Object]â€è½¬æ¢æˆæ•°å­—ä¸º <code>NaN</code>ï¼Œè€Œ<code>NaN</code> ä¸ä»»ä½•å€¼æ¯”è¾ƒéƒ½ä¸º <code>false</code>ã€‚</p><p>æ‰€ä»¥ <code>&#123;&#125; == 1</code> è¿”å› <code>false</code>ã€‚</p><ol start="7"><li><strong>å…³ç³»è½¬æ¢å›¾å¦‚ä¸‹ï¼š</strong></li></ol><p align=center><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eaf399a47c6f44ee8bcb54996ba8cc28~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=637&h=327&s=12357&e=png&b=ffffff" alt="image.png" width="70%" /></p><hr><p>å›åˆ°<code>[] == ! [] </code></p><p>è¿™é‡Œåˆ¤æ–­<code>[]</code>ä¸<code>![]</code>ï¼Œä¸¤è¾¹éƒ½æ˜¯å¯¹è±¡ï¼Œé‚£æ€ä¹ˆæ¯”å‘¢ï¼Œæˆ‘ä»¬å‘ç°å³è¾¹è¿˜æœ‰ä¸€ä¸ª<code>!</code>ï¼Œæˆ‘ä»¬çŸ¥é“<code>!</code>çš„ä¼˜å…ˆçº§æ˜¯è¦å¤§äº<code>==</code>çš„ï¼Œé‚£ä¹ˆå…ˆè¿›è¡Œéè¿ç®—ã€‚</p><h3 id="å…³äº-1"><a href="#å…³äº-1" class="headerlink" title="å…³äº !"></a>å…³äº <code>!</code></h3><p>å…³äº<code>!</code>ï¼Œæ–‡æ¡£è¿™æ ·æè¿°ï¼š<a href="https://es5.github.io/#x11.4.9">Annotated ES5 11.4.9</a><br><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/744fe88550fe4c1898cb0531dfd3ff05~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=804&h=264&s=29364&e=png&b=ffffff" alt="image.png"></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04d61953adad4811aaae747aac5bc178~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=912&h=395&s=36695&e=png&b=fafafa" alt="image.png"></p><p>ä¸Šè¡¨ä¸ºå„æ•°æ®ç±»å‹è½¬æ¢æˆå¸ƒå°”å€¼çš„ç»“æœã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œ<code>!</code>è¿™ä¸ªè¿ç®—ç¬¦ä¼šè¿›è¡Œä¸¤æ­¥æ“ä½œï¼š</p><blockquote><ol><li><p><strong>å¯¹<code>!</code>åé¢çš„æ“ä½œæ•°è½¬æ¢æˆå¸ƒå°”å€¼</strong></p></li><li><p><strong>å°†è¿™ä¸ªå¸ƒå°”å€¼å–å</strong></p></li></ol></blockquote><p>äºæ˜¯æˆ‘ä»¬åˆ¤æ–­<code>![]</code>ï¼Œå°†<code>[]</code>è½¬æ¢æˆå¸ƒå°”å€¼ï¼Œæˆ‘ä»¬åœ¨å®˜æ–¹æ–‡æ¡£ä¸­å°±çŸ¥é“äº†ï¼Œä»»ä½•å¯¹è±¡è½¬æ¢æˆå¸ƒå°”å€¼éƒ½å¾—åˆ°<code>ture</code>ï¼Œç„¶ååœ¨å–åï¼Œå¾—åˆ°<code>![]</code>ä¸º<code>false</code>ã€‚</p><h2 id="æœ€ç»ˆåˆ¤æ–­"><a href="#æœ€ç»ˆåˆ¤æ–­" class="headerlink" title="æœ€ç»ˆåˆ¤æ–­"></a>æœ€ç»ˆåˆ¤æ–­</h2><p>åŸå¼<code>[] == ![]</code>ç»è¿‡<code>!</code>è¿ç®—å°†ç­‰å¼å³è¾¹è½¬æ¢æˆäº† <code>false</code>ã€‚å³<code>[] == false</code>ã€‚</p><p>æ¥ç€ï¼Œæ ¹æ®<code>==</code>éšå¼è½¬æ¢è§„åˆ™ï¼Œç­‰å¼ä¸¤è¾¹ä¸ºå¯¹è±¡å’Œå¸ƒå°”ï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½åº”è¯¥è½¬æ¢æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚</p><p><code>[]</code>ç»è¿‡<code>ToPrimitive</code>ä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²<code>&quot;&quot;</code>ã€‚å†å°†ç­‰å·ä¸¤è¾¹çš„å­—ç¬¦ä¸²<code>&quot;&quot;</code>å’Œå¸ƒå°”å€¼<code>false</code>è½¬æ¢æˆæ•°å­— <code>0</code> ï¼Œå¾—åˆ° <code>0 == 0</code> ã€‚æ‰“å°å¾—åˆ° <code>true</code>ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ‰€ä»¥å®é™…åœ¨è¿›è¡Œ<code>[] == ! []</code>åˆ¤æ–­æ—¶ï¼Œåœ¨ JS å¼•æ“å†…éƒ¨ï¼Œä¼šå°†è¿™è¡Œä»£ç æ‰§è¡Œæˆè¿™ä¸ªæ ·å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js">[] == ![]<br><br>[] == !<span class="hljs-literal">true</span> <span class="hljs-comment">// å°†ç©ºæ•°ç»„è¿™ä¸ªå¯¹è±¡ç±»å‹è½¬æ¢æˆå¸ƒå°”å€¼</span><br><br>[] == <span class="hljs-literal">false</span> <span class="hljs-comment">// ! è¿ç®—ç¬¦å¯¹ true è¿›è¡Œå–å</span><br><br><span class="hljs-string">&#x27;&#x27;</span> == <span class="hljs-literal">false</span> <span class="hljs-comment">// å¯¹ [] è¿›è¡Œ ToPrimitive æ“ä½œï¼Œè¿”å›ä¸€ä¸ªç©ºå¯¹è±¡</span><br><br><span class="hljs-number">0</span> == <span class="hljs-number">0</span> <span class="hljs-comment">// å°†ç­‰å·ä¸¤è¾¹éƒ½è½¬æ¢æˆæ•°å­—ç±»å‹</span><br></code></pre></td></tr></table></figure><h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p><strong>çœ‹åˆ°è¿™é‡Œï¼Œæ­å–œä½ åˆæ‹¿ä¸‹ä¸€é“å¤§å‚é¢è¯•é¢˜ï¼</strong></p><p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿä¸ºä½ æä¾›å¸®åŠ©ï¼Œå¦‚æœä½ è¿˜æœ‰ä¸æ‡‚ä¹‹å¤„ï¼Œå¯ä»¥åå¤é˜…è¯»ï¼Œæˆ–è€…åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œå­¦ä¹ æ˜¯ä¸€ä¸ªå¾ªåºæ¸è¿›ï¼Œæ•¢äºè¯•é”™çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬é¡¶å³°ç›¸è§ï¼</p>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çœ‹äº†ä¸€å¤©å®˜æ–¹æ–‡æ¡£ï¼Œç»ˆäºææ‡‚äº†ç±»å‹è½¬æ¢æœºåˆ¶</title>
    <link href="/2023/12/03/%E7%9C%8B%E4%BA%86%E4%B8%80%E5%A4%A9%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%EF%BC%8C%E7%BB%88%E4%BA%8E%E6%90%9E%E6%87%82%E4%BA%86%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%9C%BA%E5%88%B6/"/>
    <url>/2023/12/03/%E7%9C%8B%E4%BA%86%E4%B8%80%E5%A4%A9%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%EF%BC%8C%E7%BB%88%E4%BA%8E%E6%90%9E%E6%87%82%E4%BA%86%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%9C%BA%E5%88%B6/</url>
    
    <content type="html"><![CDATA[<blockquote><p>JS æ•°æ®ç±»å‹çš„è½¬æ¢æœºåˆ¶æ˜¯æ˜¯å­¦ä¹  JS è¿‡ç¨‹ä¸­çš„ä¸€å¤§éš¾ç‚¹ï¼Œä¸€åº¦æˆä¸ºåˆå­¦è€…é¢ä¸´çš„å·¨å¤§æŒ‘æˆ˜ï¼Œè¿™ä¸€å¤æ‚æ€§å¾€å¾€æºäº JS çš„çµæ´»æ€§å’ŒåŠ¨æ€æ€§ï¼Œä½¿å¾—åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­ï¼ŒåŒä¸€ä¸ªå€¼å¯èƒ½è¢«è§£é‡Šä¸ºä¸åŒçš„æ•°æ®ç±»å‹ã€‚</p></blockquote><p>æœ¬æ–‡å°†é’ˆä»åº•å±‚å‡ºå‘ï¼Œå€ŸåŠ©å®˜æ–¹æ–‡æ¡£ï¼Œæ·±åº¦å‰–æ JS ç±»å‹è½¬æ¢æœºåˆ¶ã€‚</p><h2 id="JS-ä¸­çš„æ•°æ®ç±»å‹"><a href="#JS-ä¸­çš„æ•°æ®ç±»å‹" class="headerlink" title="JS ä¸­çš„æ•°æ®ç±»å‹"></a>JS ä¸­çš„æ•°æ®ç±»å‹</h2><p>é¦–å…ˆæˆ‘ä»¬å›å¿†ä¸€ä¸‹ JS ä¸­çš„æ•°æ®ç±»å‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//åŸºæœ¬æ•°æ®ç±»å‹</span><br><span class="hljs-keyword">let</span> num = <span class="hljs-number">123</span>; <span class="hljs-comment">//æ•°å­—</span><br><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;hello world&quot;</span>; <span class="hljs-comment">//å­—ç¬¦ä¸²</span><br><span class="hljs-keyword">let</span> flag = <span class="hljs-literal">true</span>; <span class="hljs-comment">//å¸ƒå°”</span><br><span class="hljs-keyword">let</span> un = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">//æœªå®šä¹‰</span><br><span class="hljs-keyword">let</span> nu = <span class="hljs-literal">null</span>; <span class="hljs-comment">//ç©ºå€¼</span><br><span class="hljs-keyword">let</span> bigint = <span class="hljs-number">9007199254740991n</span>; <span class="hljs-comment">//å¤§æ•´æ•°</span><br><span class="hljs-keyword">let</span> sy = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&quot;symbol&quot;</span>); <span class="hljs-comment">//ç¬¦å·</span><br><br><span class="hljs-comment">//å¼•ç”¨æ•°æ®ç±»å‹</span><br><span class="hljs-keyword">var</span> person = &#123;<br>  <span class="hljs-comment">//å¯¹è±¡</span><br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;John&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,<br>  <span class="hljs-attr">isStudent</span>: <span class="hljs-literal">false</span>,<br>  <span class="hljs-attr">hobbies</span>: [<span class="hljs-string">&quot;reading&quot;</span>, <span class="hljs-string">&quot;coding&quot;</span>],<br>&#125;;<br><span class="hljs-keyword">var</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]; <span class="hljs-comment">//æ•°ç»„</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">//å‡½æ•°</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ä½ å¥½ï¼æ˜å‹&quot;</span>;<br>&#125;<br><span class="hljs-comment">//ç­‰ç­‰</span><br></code></pre></td></tr></table></figure><h2 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h2><p>JS ç±»å‹è½¬æ¢ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼š<strong>éšå¼ç±»å‹è½¬æ¢</strong>å’Œ<strong>æ˜¾å¼ç±»å‹è½¬æ¢</strong>ã€‚</p><blockquote><p><strong>1. éšå¼ç±»å‹è½¬æ¢</strong>ï¼šåœ¨éšå¼ç±»å‹è½¬æ¢ä¸­ï¼ŒJS å¼•æ“è‡ªåŠ¨åœ°å°†ä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ï¼Œé€šå¸¸å‘ç”Ÿåœ¨è¿ç®—æˆ–æ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ã€‚è¿™ç§è½¬æ¢æ˜¯éšå¼çš„ï¼Œå¼€å‘è€…ä¸éœ€è¦æ˜ç¡®åœ°è¿›è¡Œæ“ä½œï¼Œè€Œæ˜¯ç”± JS å¼•æ“åœ¨å¿…è¦çš„æ—¶å€™è‡ªåŠ¨å®Œæˆã€‚</p><p><strong>2. æ˜¾å¼ç±»å‹è½¬æ¢</strong>ï¼šæ˜¾å¼ç±»å‹è½¬æ¢æ˜¯ç”±å¼€å‘è€…æ˜ç¡®æŒ‡å®šçš„ç±»å‹è½¬æ¢ï¼Œé€šè¿‡è°ƒç”¨ç›¸åº”çš„è½¬æ¢å‡½æ•°æˆ–ä½¿ç”¨ä¸€äº›ç‰¹å®šçš„è¯­æ³•è¿›è¡Œã€‚è¿™ç§è½¬æ¢æ˜¯å¼€å‘è€…æœ‰æ„è¯†åœ°è¿›è¡Œçš„ï¼Œç”¨äºç¡®ä¿æ•°æ®åœ¨ç‰¹å®šä¸Šä¸‹æ–‡ä¸­å…·æœ‰æœŸæœ›çš„ç±»å‹ã€‚</p></blockquote><p>çœ‹åˆ°è¿™ä½ å¯èƒ½è¿˜æ˜¯ä¸€å¤´é›¾æ°´ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = <span class="hljs-number">12</span>;<br><span class="hljs-keyword">var</span> b = a + <span class="hljs-string">&quot;&quot;</span>; <span class="hljs-comment">//éšå¼ç±»å‹è½¬æ¢</span><br><span class="hljs-keyword">var</span> c = <span class="hljs-title class_">String</span>(a); <span class="hljs-comment">//æ˜¾å¼ç±»å‹è½¬æ¢</span><br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢å‘ç”Ÿåœ¨å˜é‡ <code>a</code> è¢«èµ‹å€¼ç»™å˜é‡ <code>b</code> çš„è¿‡ç¨‹ä¸­ã€‚é€šè¿‡å°† <code>a</code> ä¸ä¸€ä¸ªç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code> ç›¸åŠ ï¼ŒJS å¼•æ“ä¼šè‡ªåŠ¨å°† <code>a</code> çš„å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åä¸ç©ºå­—ç¬¦ä¸²æ‹¼æ¥åœ¨ä¸€èµ·ã€‚è¿™æ˜¯ä¸€ç§å¸¸è§çš„å°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œæ˜¯éšå¼çš„ï¼Œå› ä¸ºä½ å¹¶æ²¡æœ‰æ˜ç¡®æŒ‡ç¤ºè¿›è¡Œç±»å‹è½¬æ¢ã€‚</p><p>è€Œæ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢é€šè¿‡è°ƒç”¨ <code>String()</code> å‡½æ•°æ¥å®ç°ã€‚ä½ æ˜ç¡®å‘Šè¯‰ JS å¼•æ“å°†å˜é‡ <code>a</code> çš„å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚è¿™ç§æ–¹å¼æ›´åŠ æ˜æ˜¾ï¼Œå¼€å‘è€…æœ‰æ„è¯†åœ°è¿›è¡Œäº†ç±»å‹è½¬æ¢ã€‚</p><p>æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸¤ç§æ–¹å¼éƒ½èƒ½å°†æ•°å­— <code>12</code> è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½†å‘ç”Ÿçš„æ—¶æœºå’Œæ–¹å¼ç•¥æœ‰ä¸åŒã€‚éšå¼è½¬æ¢æ˜¯åœ¨æŸäº›æ“ä½œä¸­è‡ªåŠ¨è¿›è¡Œçš„ï¼Œè€Œæ˜¾å¼è½¬æ¢æ˜¯ç”±å¼€å‘è€…æ˜ç¡®è°ƒç”¨çš„ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«å¯¹è¿™ä¸¤ç§ç±»å‹è½¬æ¢å±•å¼€åˆ†æã€‚</p><h2 id="æ˜¾ç¤ºè½¬æ¢"><a href="#æ˜¾ç¤ºè½¬æ¢" class="headerlink" title="æ˜¾ç¤ºè½¬æ¢"></a>æ˜¾ç¤ºè½¬æ¢</h2><p>æˆ‘ä»¬é€šå¸¸ä½¿ç”¨å®˜æ–¹å®šä¹‰çš„ <code>Number()</code>ã€<code>String()</code>ã€<code>Boolean()</code> ç­‰å‡½æ•°è¿›è¡Œæ˜¾ç¤ºè½¬æ¢ï¼Œè¿™äº›å‡½æ•°æä¾›äº†æ˜ç¡®çš„æ–¹å¼å°†å€¼è½¬æ¢ä¸ºç‰¹å®šçš„æ•°æ®ç±»å‹ã€‚</p><h3 id="åŸå§‹å€¼è½¬å…¶ä»–ç±»å‹"><a href="#åŸå§‹å€¼è½¬å…¶ä»–ç±»å‹" class="headerlink" title="åŸå§‹å€¼è½¬å…¶ä»–ç±»å‹"></a>åŸå§‹å€¼è½¬å…¶ä»–ç±»å‹</h3><h4 id="1-åŸå§‹å€¼è½¬æ¢æˆå¸ƒå°”å€¼"><a href="#1-åŸå§‹å€¼è½¬æ¢æˆå¸ƒå°”å€¼" class="headerlink" title="1. åŸå§‹å€¼è½¬æ¢æˆå¸ƒå°”å€¼"></a>1. åŸå§‹å€¼è½¬æ¢æˆå¸ƒå°”å€¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>()); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-number">0</span>)); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(-<span class="hljs-number">1</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-literal">undefined</span>)); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-literal">null</span>)); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-string">&quot;123&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-string">&quot;&quot;</span>)); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(<span class="hljs-string">&quot; &quot;</span>)); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><p>è§å®˜æ–¹æ–‡æ¡£ 9.2ï¼š<a href="https://es5.github.io/#x9.2">Annotated ES5 9.2</a></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0af248dc983341429de2033138eaa78b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=961&h=426&s=35352&e=png&b=fafafa" alt="image.png"></p><p>ç®€è€Œè¨€ä¹‹ï¼š</p><blockquote><ul><li><code>false</code>ã€<code>0</code>ã€<code>&#39;&#39;</code>ã€<code>null</code>ã€<code>undefined</code>ä»¥åŠ<code>NaN</code>è½¬æ¢ä¸º<code>false</code></li><li>å…¶ä»–æ‰€æœ‰å€¼è½¬æ¢ä¸º<code>true</code></li></ul></blockquote><h4 id="2-åŸå§‹å€¼è½¬æ¢æˆæ•°å­—"><a href="#2-åŸå§‹å€¼è½¬æ¢æˆæ•°å­—" class="headerlink" title="2. åŸå§‹å€¼è½¬æ¢æˆæ•°å­—"></a>2. åŸå§‹å€¼è½¬æ¢æˆæ•°å­—</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-string">&quot;123&quot;</span>)); <span class="hljs-comment">//123</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-string">&quot;abc&quot;</span>)); <span class="hljs-comment">//NaN</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>()); <span class="hljs-comment">//0</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-literal">true</span>)); <span class="hljs-comment">//1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-literal">false</span>)); <span class="hljs-comment">//0</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-literal">null</span>)); <span class="hljs-comment">//0</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-literal">undefined</span>)); <span class="hljs-comment">//NaN</span><br></code></pre></td></tr></table></figure><p>è§å®˜æ–¹æ–‡æ¡£ 9.3ï¼š<a href="https://es5.github.io/#x9.3">Annotated ES5 9.3</a></p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9fbe5f577d424fd38e3f14ccb2d4e72c~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=945&h=518&s=35867&e=png&b=fbfbfb" alt="image.png"></p><p>å¤§æ¦‚çš„æ„æ€å°±æ˜¯ï¼š</p><blockquote><ul><li>å¦‚æœæ˜¯æ•°å­—å­—ç¬¦ä¸²ï¼Œåˆ™è½¬æ¢ä¸ºå¯¹åº”çš„æ•°å­—ã€‚</li><li>å¦‚æœæ˜¯éæ•°å­—å­—ç¬¦ä¸²æˆ–æ— æ³•è§£æä¸ºæ•°å­—çš„å­—ç¬¦ä¸²ï¼Œåˆ™è½¬æ¢ä¸º <code>NaN</code>ã€‚</li><li>å¸ƒå°”å€¼ <code>true</code> è¢«è½¬æ¢ä¸º <code>1</code>ï¼Œ<code>false</code> è¢«è½¬æ¢ä¸º <code>0</code>ã€‚</li><li><code>null</code> è¢«è½¬æ¢ä¸º <code>0</code>ã€‚</li><li><code>undefined</code> è¢«è½¬æ¢ä¸º <code>NaN</code>ã€‚</li></ul></blockquote><p>å…¶ä¸­ï¼Œå¯¹è±¡è½¬æ•°å­—è§„åˆ™æ²¡æœ‰ç½—åˆ—ï¼Œæˆ‘ä»¬å°†åœ¨åæ–‡å¯¹ å¯¹è±¡ç±»å‹ï¼ˆObjectï¼‰è½¬æ•°å­—ç±»å‹è¿›è¡Œç€é‡åˆ†æã€‚</p><h4 id="3-åŸå§‹å€¼è½¬æ¢æˆå­—ç¬¦ä¸²"><a href="#3-åŸå§‹å€¼è½¬æ¢æˆå­—ç¬¦ä¸²" class="headerlink" title="3. åŸå§‹å€¼è½¬æ¢æˆå­—ç¬¦ä¸²"></a>3. åŸå§‹å€¼è½¬æ¢æˆå­—ç¬¦ä¸²</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>()); <span class="hljs-comment">//&#x27;&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>(<span class="hljs-number">123</span>)); <span class="hljs-comment">//&#x27;123&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>(<span class="hljs-title class_">NaN</span>)); <span class="hljs-comment">//&#x27;NaN&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>(<span class="hljs-literal">undefined</span>)); <span class="hljs-comment">//&#x27;undefined&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>(<span class="hljs-literal">null</span>)); <span class="hljs-comment">//&#x27;null&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>(<span class="hljs-literal">true</span>)); <span class="hljs-comment">//&#x27;true&#x27;</span><br></code></pre></td></tr></table></figure><ul><li>ç©ºå€¼æˆ–æ²¡æœ‰æä¾›å‚æ•°æ—¶ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</li><li>æ•°å­—è½¬å­—ç¬¦ä¸²ï¼šç›´æ¥å°†æ•°å­—è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ä¸²å½¢å¼ã€‚</li><li><code>NaN</code> è¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸² <code>&#39;NaN&#39;</code>ã€‚</li><li>å¸ƒå°”å€¼è½¬å­—ç¬¦ä¸²ï¼š<code>true</code> è½¬æ¢ä¸º <code>&quot;true&quot;</code>ï¼Œ<code>false</code> è½¬æ¢ä¸º <code>&quot;false&quot;</code>ã€‚</li><li><code>null</code> è½¬æ¢ä¸ºå­—ç¬¦ä¸² <code>&quot;null&quot;</code>ã€‚</li><li><code>undefined</code> è½¬æ¢ä¸º <code>&quot;undefined&quot;</code>ã€‚</li></ul><p>è§å®˜æ–¹æ–‡æ¡£ 9.8ï¼š<a href="https://es5.github.io/#x9.8">Annotated ES5 9.8</a></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bdbfe41b559f47029bdc769028fbee4a~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=920&h=447&s=32790&e=png&b=f9f9f9" alt="image.png"></p><h4 id="4-åŸå§‹å€¼è½¬å¯¹è±¡"><a href="#4-åŸå§‹å€¼è½¬å¯¹è±¡" class="headerlink" title="4. åŸå§‹å€¼è½¬å¯¹è±¡"></a>4. åŸå§‹å€¼è½¬å¯¹è±¡</h4><p>åŸå§‹æ•°æ®ç±»å‹å¯ä»¥é€šè¿‡å…¶å¯¹åº”çš„åŒ…è£…å¯¹è±¡æ¥å®ç°è½¬æ¢ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>(<span class="hljs-literal">true</span>)); <span class="hljs-comment">//[Boolean: true]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>(<span class="hljs-number">123</span>)); <span class="hljs-comment">//[Number: 123]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>(<span class="hljs-string">&quot;123&quot;</span>)); <span class="hljs-comment">//[String: &#x27;123&#x27;]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>(<span class="hljs-literal">undefined</span>)); <span class="hljs-comment">//&#123;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>(<span class="hljs-literal">null</span>)); <span class="hljs-comment">//&#123;&#125;</span><br></code></pre></td></tr></table></figure><p>è§å®˜æ–¹æ–‡æ¡£ 9.9ï¼š<a href="https://es5.github.io/#x9.9">Annotated ES5 9.9</a></p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fdc53305afb2424cb0e7a0e841465472~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=996&h=548&s=49999&e=png&b=fbfbfb" alt="image.png"></p><blockquote><ul><li>å¸ƒå°”å€¼ã€æ•°å­—ã€å­—ç¬¦ä¸²åˆ†åˆ«è¢«è½¬æ¢ä¸ºå¯¹åº”çš„ Booleanã€Numberã€String å¯¹è±¡ã€‚</li><li>å¯¹äº <code>undefined</code>ï¼Œä½¿ç”¨ <code>Object()</code> è½¬æ¢ä¸ºä¸€ä¸ªç©ºå¯¹è±¡ <code>&#123;&#125;</code>ã€‚</li><li>å¯¹äº <code>null</code>ï¼ŒåŒæ ·ä½¿ç”¨ <code>Object()</code> è½¬æ¢ä¸ºä¸€ä¸ªç©ºå¯¹è±¡ <code>&#123;&#125;</code>ã€‚</li></ul></blockquote><p>ä»¥ä¸Šå°±æ˜¯åŸå§‹å€¼è½¬æ¢æ•°æ®ç±»å‹çš„å®˜æ–¹è§£é‡Šï¼Œæˆ‘ä»¬ä¸ç”¨è¿‡å¤šè€ƒè™‘ï¼Œåªéœ€è¦æ— è„‘æ¥å—å°±å¥½ã€‚</p><p>å½“æˆ‘ä»¬è¦ç”¨åˆ°çš„æ—¶å€™ï¼ŒæŸ¥ä¸‹è¿™ä¸ªè¡¨å°±è¡Œäº†ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3feba050341e49e6bba8861a728f1e09~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1080&h=1017&s=508208&e=png&b=f9f9f9" alt="67fab372c578caf931014f18b425317.png"></p><p>å› ä¸ºå®˜æ–¹æ²¡æœ‰ç»™<code>Null</code>å’Œ<code>Undefined</code>å®šä¹‰æ˜¾ç¤ºè½¬æ¢çš„æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬æš‚ä¸”ä¸èŠã€‚</p><p>ç„¶è€Œä»¥ä¸Šè¿™äº›å†…å®¹éƒ½ä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œæˆ‘ä»¬çš„é‡ç‚¹æ˜¯<strong>å¯¹è±¡è½¬æ¢æˆåŸå§‹å€¼çš„è¿‡ç¨‹</strong>ï¼Œå¥½æˆæ‰åˆšåˆšå¼€å§‹ã€‚</p><h3 id="å¯¹è±¡è½¬åŸå§‹å€¼"><a href="#å¯¹è±¡è½¬åŸå§‹å€¼" class="headerlink" title="å¯¹è±¡è½¬åŸå§‹å€¼"></a>å¯¹è±¡è½¬åŸå§‹å€¼</h3><p>å¯¹è±¡è½¬<code>Null</code>ä¸<code>Undefined</code>æ²¡æœ‰æ„ä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèŠå¯¹è±¡è½¬å­—ç¬¦ä¸²ã€æ•°å­—å’Œå¸ƒå°”å€¼ã€‚</p><h4 id="1-å¯¹è±¡è½¬æ•°å­—"><a href="#1-å¯¹è±¡è½¬æ•°å­—" class="headerlink" title="1. å¯¹è±¡è½¬æ•°å­—"></a>1. å¯¹è±¡è½¬æ•°å­—</h4><p>è¿™æ—¶å€™æˆ‘ä»¬å†æ‰“å¼€å®˜æ–¹æ–‡æ¡£ï¼Œå›åˆ°ä¹‹å‰é“ºå«çš„ä½ç½®ï¼Œå¦‚æœè½¬æ¢çš„å¯¹è±¡ä¸ºå¯¹è±¡ç±»å‹çš„è¯ï¼Œä¼šè¿›è¡Œçº¢æ¡†ä¸­çš„æ“ä½œã€‚</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/10958fa5d33f4b7b8557883c5176f978~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=960&h=534&s=49735&e=png&b=fafafa" alt="image.png"></p><p>å¤§æ¦‚æ„æ€æ˜¯ï¼Œä½ ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œç»è¿‡<code>ToPrimitive</code>è¿™æ ·ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨å¹¶è¿”å›ä¸€ä¸ªå€¼ï¼Œè¿™ä¸ªå€¼ä¼šè¢«è½¬æ¢æˆæ•°å­—ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ–‡æ¡£ï¼ˆ<a href="https://es5.github.io/#x9.3">Annotated ES5 9.3</a>ï¼‰è¿›å…¥åˆ°<code>ToPrimitive</code>è¿™ä¸ªå‡½æ•°å†…éƒ¨ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/55bb6b70e0bb4147a00488b3060777ad~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=969&h=492&s=65356&e=png&b=faf9f9" alt="image.png"></p><p>çœ‹ä¸æ‡‚ï¼Œå‡ºå›½ç•™å­¦ä¸€ä¸‹Â·Â·Â·Â·Â·Â·</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ff31030419fb4575b899dd3522e72015~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=914&h=917&s=99856&e=png&b=faf9f9" alt="image.png"></p><p>æ„æ€å¾ˆæ˜äº†ï¼Œå½“ä½ ä¼ å…¥çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œä¸ä¼šè¿›è¡Œè½¬æ¢ã€‚å”¯ç‹¬ä¼ å…¥çš„æ˜¯å¯¹è±¡ï¼ˆObjectï¼‰çš„æ—¶å€™æ‰ä¼šæœ‰è¿›è¡Œè½¬æ¢ï¼Œå®ƒä¼šè°ƒç”¨å¯¹è±¡çš„ [[DefaultValue]] å†…éƒ¨æ–¹æ³•ï¼Œäºæ˜¯æˆ‘ä»¬è·Ÿéšæ–‡æ¡£ï¼Œè·³åˆ° 8.12.8 ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b33ac07060264691b7c788826ed93ea1~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1321&h=877&s=127585&e=png&b=ffffff" alt="image.png"></p><p>ç¿»è¯‘å°±ä¸ç»™å¤§å®¶çœ‹äº†ï¼Œç›´æ¥å‘Šè¯‰å¤§å®¶å®ƒä»€ä¹ˆæ„æ€å§ã€‚</p><p><code>ToPrimitive(obj, Number)</code> æ˜¯ ECMAScript è§„èŒƒä¸­æè¿°çš„ä¸€ç§æŠ½è±¡æ“ä½œï¼Œç”¨äºå°†ç»™å®šå¯¹è±¡ <code>obj</code> è½¬æ¢ä¸ºä¸€ä¸ªåŸå§‹å€¼ï¼Œåœ¨è¿›è¡Œæ•°æ®è½¬æ¢çš„æ—¶å€™æ‰ä¼šè§¦å‘ã€‚è¿™é‡Œæˆ‘ä»¬ç›®æ ‡æ˜¯è¦å°†å¯¹è±¡è½¬æ¢æˆæ•°å­—ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>Number</code>ï¼Œå­—ç¬¦ä¸²åˆ™æ˜¯<code>String</code>ã€‚</p><p>ä¸‹é¢æ˜¯ <code>ToPrimitive(obj, Number)</code> çš„æ‰§è¡Œæ­¥éª¤ï¼š</p><ol><li><p><strong>å¦‚æœ <code>obj</code> æ˜¯åŸºæœ¬ç±»å‹ï¼š</strong></p><ul><li>å¦‚æœ <code>obj</code> å·²ç»æ˜¯åŸºæœ¬ç±»å‹ï¼ˆä¾‹å¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰ï¼‰ï¼Œé‚£ä¹ˆç›´æ¥è¿”å› <code>obj</code>ã€‚</li></ul></li><li><p><strong>å¦åˆ™ï¼Œè°ƒç”¨ <code>valueOf</code> æ–¹æ³•ï¼š</strong></p><ul><li>å¦‚æœ <code>obj</code> ä¸æ˜¯åŸºæœ¬ç±»å‹ï¼Œå³å®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé¦–å…ˆä¼šå°è¯•è°ƒç”¨ <code>valueOf</code> æ–¹æ³•ã€‚</li><li>å¦‚æœ <code>valueOf</code> æ–¹æ³•å­˜åœ¨å¹¶è¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œé‚£ä¹ˆè¿”å›è¿™ä¸ªåŸå§‹å€¼ã€‚</li></ul></li><li><p><strong>å¦åˆ™ï¼Œè°ƒç”¨ <code>toString</code> æ–¹æ³•ï¼š</strong></p><ul><li>å¦‚æœ <code>valueOf</code> æ–¹æ³•ä¸å­˜åœ¨ï¼Œæˆ–è€…å®ƒè¿”å›çš„ä»ç„¶æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ä¼šè°ƒç”¨ <code>toString</code> æ–¹æ³•ã€‚</li><li>å¦‚æœ <code>toString</code> æ–¹æ³•å­˜åœ¨å¹¶è¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œé‚£ä¹ˆè¿”å›è¿™ä¸ªåŸå§‹å€¼ã€‚</li></ul></li><li><p><strong>å¦åˆ™ï¼ŒæŠ¥é”™ï¼š</strong></p><ul><li>å¦‚æœ <code>toString</code> æ–¹æ³•ä¹Ÿä¸å­˜åœ¨ï¼Œæˆ–è€…å®ƒè¿”å›çš„ä»ç„¶æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå°±æ— æ³•å°†å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼ï¼Œæ­¤æ—¶ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</li></ul></li></ol><p>ç®€åŒ–ä¸€ä¸‹ï¼š</p><blockquote><p>ToPrimitive(obj, Number) &#x3D;&#x3D;&gt; Number({})</p><ol><li>å¦‚æœ obj æ˜¯åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœå¾—åˆ°åŸå§‹å€¼ï¼Œåˆ™è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ toString æ–¹æ³•ï¼Œå¦‚æœå¾—åˆ°åŸå§‹å€¼ï¼Œåˆ™è¿”å›</li><li>å¦åˆ™ï¼ŒæŠ¥é”™</li></ol></blockquote><p>è¿™å°±ç›¸å½“äºä¸€ä¸ªå…¬å¼ï¼Œå½“æˆ‘ä»¬åœ¨å°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆæ•°å­—ç±»å‹çš„æ—¶å€™ï¼Œç›´æ¥å¥—å°±è¡Œã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">a = &#123;&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(a)); <span class="hljs-comment">//NaN</span><br></code></pre></td></tr></table></figure><p>å¼€å§‹å¥—å…¬å¼ï¼š</p><ol><li><p><strong>å¦‚æœ <code>a</code> æ˜¯åŸºæœ¬ç±»å‹ï¼š</strong></p><ul><li><code>a</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯åŸºæœ¬ç±»å‹ã€‚</li></ul></li><li><p><strong>è°ƒç”¨ <code>valueOf</code> æ–¹æ³•ï¼š</strong></p><ul><li>å°è¯•è°ƒç”¨ <code>valueOf</code> æ–¹æ³•ï¼Œçœ‹æ˜¯å¦å¯ä»¥è·å–åˆ°åŸå§‹å€¼ã€‚</li><li>ç”±äº <code>a</code> æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ <code>&#123;&#125;</code>ï¼Œè€Œæ™®é€šçš„å¯¹è±¡ï¼ˆæ²¡æœ‰é‡å†™ <code>valueOf</code> æ–¹æ³•çš„æƒ…å†µä¸‹ï¼‰çš„ <code>valueOf</code> æ–¹æ³•ä¼šè¿”å›å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåŸå§‹å€¼ã€‚</li></ul></li><li><p><strong>è°ƒç”¨ <code>toString</code> æ–¹æ³•ï¼š</strong></p><ul><li>ç”±äº <code>valueOf</code> æ–¹æ³•æ²¡æœ‰è¿”å›åŸå§‹å€¼ï¼Œæ¥ä¸‹æ¥è°ƒç”¨ <code>toString</code> æ–¹æ³•ã€‚</li><li>å¯¹äºæ™®é€šçš„ç©ºå¯¹è±¡ <code>&#123;&#125;</code>ï¼Œ<code>toString</code> æ–¹æ³•é€šå¸¸ä¼šè¿”å› <code>&quot;[object Object]&quot;</code> å­—ç¬¦ä¸²ã€‚</li></ul></li></ol><p>è°ƒç”¨<code>toString</code>æ–¹æ³•çš„æ—¶å€™å¾—åˆ°äº†åŸå§‹å€¼å­—ç¬¦ä¸²<code>&quot;[object Object]&quot;</code>ï¼Œäºæ˜¯<code>ToPrimitive</code>è¿™ä¸ªå‡½æ•°å°†å…¶è¿”å›ï¼Œæœ€åå°±ç›¸å½“äº <code>Number(&quot;[object Object]&quot;)</code> æ‰§è¡Œäº†è¿™æ®µä»£ç ã€‚åœ¨ JS å¼•æ“å†…éƒ¨ï¼Œ<code>ToPrimitive</code>è¿™ä¸ªå‡½æ•°ç›¸å½“äºè¿›è¡Œäº†å°† <code>Number(a)</code> è½¬åŒ–æˆäº† <code>Number(&quot;[object Object]&quot;)</code> ï¼Œç›¸å½“äºå°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ï¼Œæ‰€ä»¥æœ€ç»ˆæ‰“å°ç»“æœä¸º <code>NaN</code>ã€‚</p><h4 id="2-å¯¹è±¡è½¬å­—ç¬¦ä¸²"><a href="#2-å¯¹è±¡è½¬å­—ç¬¦ä¸²" class="headerlink" title="2. å¯¹è±¡è½¬å­—ç¬¦ä¸²"></a>2. å¯¹è±¡è½¬å­—ç¬¦ä¸²</h4><p>ä¸å¯¹è±¡è½¬æ•°å­—ç±»ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯è½¬å­—ç¬¦ä¸²æ—¶åœ¨<code>ToPrimitive</code>å‡½æ•°ä¸­æ˜¯å…ˆè°ƒç”¨ <code>toString</code> æ–¹æ³•ï¼Œåè°ƒç”¨ <code>typeOf</code> æ–¹æ³•ã€‚</p><blockquote><p>ToPrimitive(obj, String) &#x3D;&#x3D;&gt; String({})</p><ol><li>å¦‚æœ obj æ˜¯åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ toString æ–¹æ³•ï¼Œå¦‚æœå¾—åˆ°åŸå§‹å€¼ï¼Œåˆ™è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœå¾—åˆ°åŸå§‹å€¼ï¼Œåˆ™è¿”å›</li><li>å¦åˆ™ï¼ŒæŠ¥é”™</li></ol></blockquote><p>ä¸å¯¹è±¡è½¬æ•°å­—ç”¨æ³•ä¸€è‡´ï¼ŒåŒºåˆ«åœ¨äºè°ƒç”¨ <code>toString</code> æ–¹æ³•å’Œ <code>valueOf</code> æ–¹æ³•çš„é¡ºåºï¼ŒåŒºåˆ†è¿™ä¸€ç‚¹å°±è¡Œäº†ã€‚</p><h4 id="3-å¯¹è±¡è½¬å¸ƒå°”"><a href="#3-å¯¹è±¡è½¬å¸ƒå°”" class="headerlink" title="3. å¯¹è±¡è½¬å¸ƒå°”"></a>3. å¯¹è±¡è½¬å¸ƒå°”</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>(&#123;&#125;)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Boolean</span>([])); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><p>å¯¹è±¡è½¬æ¢ä¸ºå¸ƒå°”å€¼æ—¶ï¼Œç»“æœæ€»æ˜¯ <code>true</code>ã€‚</p><hr><h2 id="éšå¼è½¬æ¢"><a href="#éšå¼è½¬æ¢" class="headerlink" title="éšå¼è½¬æ¢"></a>éšå¼è½¬æ¢</h2><p>éšå¼è½¬æ¢é€šå¸¸å‘ç”Ÿåœ¨ä¸€äº›è¿ç®—ç¬¦æ“ä½œä¸­ï¼Œå…¶ä¸­ä¸€äº›è¿ç®—ç¬¦ä¼šè§¦å‘ JS å¼•æ“è‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ä»¥æ»¡è¶³æ“ä½œçš„è¦æ±‚ã€‚ä¸‹é¢æˆ‘ä»¬ç®€å•èŠä¸€ä¸‹ <code>+</code> è¿™ä¸ªè¿ç®—ç¬¦ã€‚</p><h3 id="ä¸€å…ƒè¿ç®—-a"><a href="#ä¸€å…ƒè¿ç®—-a" class="headerlink" title="ä¸€å…ƒè¿ç®— + a"></a>ä¸€å…ƒè¿ç®— <code>+ a</code></h3><p>å®˜æ–¹æ–‡æ¡£ï¼ˆ<a href="https://es5.github.io/#x11.4.6">Annotated ES5 11.4.6</a>ï¼‰è¿™æ ·æè¿°ï¼š</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29819bbe7e4740fcb2dfa3bfa015d5c5~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=800&h=216&s=23157&e=png&b=ffffff" alt="image.png"></p><p>å¦‚æœé‡åˆ° <code>+</code> å·ï¼Œä¸”å®ƒæ˜¯å½“ä½œä¸€å…ƒè¿ç®—ç¬¦æ¥ä½¿ç”¨ï¼Œé‚£ä¹ˆ <code>+</code> å·åé¢çš„æ•°æ®ä¸€å®šè¦è¢«å¼ºåˆ¶è½¬åŒ–ä¸º <code>Number</code> ç±»å‹ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(+<span class="hljs-string">&quot;1&quot;</span>); <span class="hljs-comment">//1</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œ <code>+</code> åé¢æ¥çš„æ˜¯æ•°å­—å­—ç¬¦ä¸²ï¼Œåˆ™è½¬æ¢æˆå¯¹åº”æ•°å­—ï¼Œæ‰€ä»¥æ‰“å°ç»“æœä¸º<code>1</code>ï¼Œæ²¡é—®é¢˜ã€‚</p><p>é‚£ä¹ˆ <code>+</code> åé¢æ¥çš„æ˜¯å¯¹è±¡ç±»å‹å‘¢ï¼Œæˆ‘ä»¬å†ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(+&#123;&#125;); <span class="hljs-comment">//NaN</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œ <code>+</code> åé¢æ¥çš„æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œé‚£ä¹ˆå¯¹è±¡æ€ä¹ˆè½¬æ¢æˆ<code>Number</code>å‘¢ï¼Œæ˜¯ä¸æ˜¯è¦èµ°<code>ToPrimitive</code>å‡½æ•°é‚£ä¸€å¥—å“‡ï¼Œç›´æ¥å¥—å…¬å¼å°±è¡Œäº†ã€‚</p><p>æˆ‘ç›´æ¥æ¬è¿‡æ¥ï¼š</p><blockquote><p>ToPrimitive(obj, Number) &#x3D;&#x3D;&gt; Number({})</p><ol><li>å¦‚æœ obj æ˜¯åŸºæœ¬ç±»å‹ï¼Œç›´æ¥è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœå¾—åˆ°åŸå§‹å€¼ï¼Œåˆ™è¿”å›</li><li>å¦åˆ™ï¼Œè°ƒç”¨ toString æ–¹æ³•ï¼Œå¦‚æœå¾—åˆ°åŸå§‹å€¼ï¼Œåˆ™è¿”å›</li><li>å¦åˆ™ï¼ŒæŠ¥é”™</li></ol></blockquote><p>æˆ‘ä»¬å‰é¢å·²ç»èµ°è¿‡ä¸€éæµç¨‹äº†ï¼Œè¿™ä¸ª<code>ToPrimitive</code>å‡½æ•°æœ€åä¼šè¿”å›ä¸€ä¸ª<code>&quot;[object Object]&quot;</code>å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æœ€ç»ˆå°±ç›¸å½“äº <code>+</code> åé¢æ¥çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™è½¬æ¢æˆ <code>NaN</code> ï¼Œæ‰“å°ç»“æœä¹Ÿä¸º <code>NaN</code>ï¼Œæ²¡é—®é¢˜ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯•ç€æ¨¡æ‹Ÿä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// +&#123;&#125; çš„è¿‡ç¨‹æ¨¡æ‹Ÿ</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(+&#123;&#125;); <span class="hljs-comment">//0</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(&#123;&#125;.<span class="hljs-title function_">valueOf</span>()); <span class="hljs-comment">//&#123;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(&#123;&#125;.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">//&quot;[object Object]&quot;</span><br><span class="hljs-comment">//è¿”å›&quot;[object Object]&quot;å­—ç¬¦ä¸²</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Number</span>(<span class="hljs-string">&quot;[object Object]&quot;</span>)); <span class="hljs-comment">//NaN</span><br></code></pre></td></tr></table></figure><h3 id="äºŒå…ƒè¿ç®—-a-b"><a href="#äºŒå…ƒè¿ç®—-a-b" class="headerlink" title="äºŒå…ƒè¿ç®— a + b"></a>äºŒå…ƒè¿ç®— <code>a + b</code></h3><p>å®˜æ–¹æ–‡æ¡£ï¼ˆ<a href="https://es5.github.io/#x11.6.1">Annotated ES5 11.6.1</a>ï¼‰è¿™æ ·æè¿°ï¼š</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0ba8415ad2d24e2e8d5d150360b2a7e8~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1399&h=622&s=85403&e=png&b=ffffff" alt="image.png"></p><p>äºŒå…ƒè¿ç®—ç¬¦ <code>+</code> å¯ä»¥æ‰§è¡Œå­—ç¬¦ä¸²è¿æ¥ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œæ•°å­—åŠ æ³•ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°† <code>+</code> å·¦å³ä¸¤è¾¹çš„æ•°æ®åˆ†åˆ«ç”¨<code>ToPrimitive</code>å‡½æ•°è°ƒç”¨ä¸€éï¼Œå¦‚æœè¿”å›å€¼ä¸­æœ‰ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼›å¦åˆ™è¿›è¡ŒåŠ æ³•è¿ç®—ã€‚</p><p>å³ï¼š</p><blockquote><p>lprim + rprim &#x3D;&#x3D; ToPrimitive(v1) + ToPrimitive(v2)</p><ol><li>å½“ + ä¸¤è¾¹æœ‰ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥</li><li>å¦åˆ™ï¼Œè½¬åˆ° number è¿›è¡Œè®¡ç®—</li></ol></blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span> + <span class="hljs-string">&quot;1&quot;</span>); <span class="hljs-comment">//&#x27;11&#x27;</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬åˆ†åˆ«è®©æ•°å­—<code>1</code>å’Œå­—ç¬¦ä¸²<code>&#39;1&#39;</code>èµ°ä¸€é<code>ToPrimitive</code>ï¼Œåˆ†åˆ«è§‚å¯Ÿå®ƒä»¬çš„è¿”å›å€¼ï¼Œå‘ç°<code>&#39;1&#39;</code>æ˜¯æ•°å­—å­—ç¬¦ä¸²ï¼Œåœ¨ <code>valueOf</code> å’Œ <code>toString</code> æ–¹æ³•åè¿”å›çš„è¿˜æ˜¯<code>&#39;1&#39;</code>æœ¬èº«ï¼Œå³è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¾—åˆ°æ‰“å°ç»“æœ<code>&#39;11&#39;</code>ã€‚</p><p>å½“ä½ ç†è§£é€å½»åå¾ˆå®¹æ˜“å¾—åˆ°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span> + <span class="hljs-literal">null</span>); <span class="hljs-comment">//1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([] + []); <span class="hljs-comment">//&#x27;&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([] + &#123;&#125;); <span class="hljs-comment">//&#x27;[object Object]&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(&#123;&#125; + &#123;&#125;); <span class="hljs-comment">//&#x27;[object Object][object Object]&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p><strong>å½“ä½ è¯»åˆ°è¿™æ®µè¯æ—¶ï¼Œä½ å·²ç»è·¨è¿‡äº† JS ç±»å‹è½¬æ¢è¿™ä¸€åº§å¤§å±±ï¼</strong></p><p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿä¸ºä½ æä¾›å¸®åŠ©ï¼Œå¦‚æœä½ è¿˜æœ‰ä¸æ‡‚ä¹‹å¤„ï¼Œå¯ä»¥åå¤é˜…è¯»ï¼Œæˆ–è€…åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œå­¦ä¹ æ˜¯ä¸€ä¸ªå¾ªåºæ¸è¿›ï¼Œæ•¢äºè¯•é”™çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬é¡¶å³°ç›¸è§ï¼</p>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
